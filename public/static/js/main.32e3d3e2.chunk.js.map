{"version":3,"sources":["components/Chapter/assets/diceSprites/r02.png","components/Chapter/assets/diceSprites/r03.png","components/Chapter/assets/diceSprites/r04.png","components/Chapter/assets/diceSprites/r07.png","components/Chapter/assets/diceSprites/r08.png","components/Chapter/assets/diceSprites/r09.png","components/Chapter/assets/diceSprites/r10.png","components/Chapter/assets/diceSprites/r11.png","components/Chapter/assets/diceSprites/r12.png","components/Chapter/assets/diceSprites/r13.png","components/Chapter/assets/diceSprites/r14.png","components/Chapter/assets/diceSprites/r15.png","components/Chapter/assets/diceSprites/r16.png","components/Chapter/assets/diceSprites/r17.png","components/Chapter/assets/diceSprites/r18.png","components/Chapter/assets/diceSprites/r19.png","components/Chapter/assets/diceSprites/r20.png","components/Chapter/assets/diceRoll.mp3","layout/Searchbar.jsx","services/games.service.js","layout/Navbar.jsx","UserContext.js","views/Home.jsx","views/LastGames.jsx","services/savedGames.service.js","components/shared/Spinner.js","components/Game/GameCard.jsx","views/MyGames.jsx","services/auth.service.js","components/shared/Buttons.js","components/Auth/LoginForm.jsx","components/Auth/SignupForm.jsx","components/utils/Modal.jsx","components/Game/NewGameForm.jsx","components/shared/Images.js","components/Game/ModeSelect.jsx","views/NewGame.jsx","services/choices.service.js","services/chapter.service.js","components/Choice/ChoiceForm.jsx","components/Choice/ChoiceFormRow.jsx","components/Choice/ChoiceCard.jsx","components/Chapter/NewChapterForm.jsx","views/EditGame.jsx","services/character.service.js","components/Character/CharacterForm.jsx","components/Character/CharacterList.jsx","components/Game/NewSaveGame.jsx","components/Game/StartPlayingButton.jsx","components/Game/SimpleStartPlaying.jsx","components/Game/GameBriefing.jsx","views/GameOverView.jsx","services/characterChoices.service.js","components/Chapter/DiceAnimation.jsx","components/Choice/ChoicesList.jsx","components/Chapter/Chapter.jsx","views/ChapterWrapper.jsx","views/MyCreatedGames.jsx","views/FinishedGame.jsx","themeContext.js","components/Character/CharacterSummary.jsx","views/MyCharacters.jsx","App.js","serviceWorker.js","index.js","components/Chapter/assets/diceSprites/r01.png","views/assets/playingTable.png","components/Game/assets/d6book.svg","components/Game/assets/d20.svg","invertedlogo.png"],"names":["module","exports","Searchbar","fetchGames","useState","search","setSearch","searchText","setSearchText","isOpen","setIsOpen","useEffect","then","result","InputGroup","onBlur","e","console","log","target","onFocus","className","Dropdown","show","DropdownMenu","map","elm","idx","Item","key","as","Link","to","_id","title","FormControl","placeholder","style","backgroundColor","value","onChange","currentTarget","aria-describedby","gamesService","this","baseURL","process","service","axios","create","withCredentials","id","get","res","data","catch","err","name","gamesFound","creator","minLevel","description","simple","post","GameService","getByTitle","StyledNavbar","styled","Navbar","props","theme","colors","light","background","lightOverlay","CustomNavbar","loggedInUser","showLogin","showSignup","logout","Spinner","Nav","width","NavLink","height","src","logo","alt","onClick","justifyContent","NavDropdown","drop","Divider","href","UserContext","React","createContext","UserProvider","Provider","Hero","section","Home","useContext","Row","Col","lg","GamesService","MainsSectionWrapper","Background","img","MainSection","article","appear","keyframes","Title","h1","general","GameCard","div","overlay","LastGames","isPreloaded","setisPreloaded","lastGames","setlastGames","oldGames","getLastGames","every","old","newGame","updatedList","mainBackgroundPreload","document","createElement","rel","playingTable","d6Prefetch","d20Prefetch","D6","D20","head","append","preloadDice","overflow","length","game","slice","savedGamesService","userId","gameId","query","saveId","currentChapter","character","savedGameId","finished","patch","delete","CustomSpinner","margin","display","animation","role","Card","bg","Body","Subtitle","Text","SavedGamesService","MyGames","savedGames","setSavedGames","ready","setReady","getAllSaves","saves","savedGame","authService","timeout","timeoutErrorMessage","username","email","password","response","status","code","error","message","StyledButton","button","Button","text","LoginForm","setUser","onHide","AuthService","setUsername","setEmail","setPassword","Error","Form","onSubmit","preventDefault","login","Group","controlId","Label","Control","type","SignupForm","signup","variant","ThemeModal","modals","CenteredModal","children","noHeader","Modal","dialogAs","size","aria-labelledby","centered","autoFocus","Header","closeButton","cloneElement","FormWrapper","withRouter","history","setTitle","setMinLevel","setDescription","createGame","createdGame","push","min","max","step","ImageFiltered","BackgroundImage","ModeSelect","setMode","ModeWrapper","ModeBox","LeftBackgroundImage","RightBackgroundImage","EasyDice","D20Dice","NewGame","updateLastGames","setSimple","choicesService","choicesFound","trial","successTargetChapter","failureTargetChapter","pxGranted","choice","choiceId","chapters","choices","last","chapter","ChapterService","chapterService","ChoicesService","finishChoiceForm","toogleCard","closeChoiceForm","match","difficulty","setDifficulty","characteristic","setCharacteristic","setPxGranted","setSuccessTargetChapter","setFailureTargetChapter","chapterList","setChapterList","createChoice","createdChoice","updateChoice","updatedChoice","getChaptersFromGame","params","custom","dangerouslySetInnerHTML","__html","selected","ChoiceFormWrapper","Col4","submitForm","borderRadius","padding","marginRight","textAlign","ChoiceCard","color","returnCharacteristic","ChapterFormWrapper","EditorWrapper","getAllChapters","closeNewChapterForm","setFetch","setChoices","choicesObj","setChoicesObj","choiceForms","setChoiceForms","setLast","populateThisChapter","filter","choiceObj","choicesCopy","retrieveChoicesIds","choicesObjCopy","createChoiceCard","choiceFormsCopy","splice","choiceCopy","checked","maxLength","editor","ClassicEditor","onInit","event","getData","eachChoice","updateChapter","updatedChapter","createChapter","createdChapter","eachform","gameService","List","ListPoint","list","PointHeader","allChapters","RestaurateScroll","createGlobalStyle","EditGame","setallChapters","showNewForm","setShowNewForm","fetch","getOneGame","active","allChaptersCopy","chapterCopy","expandChapter","first","characterService","characters","characterId","CharacterForm","setCharacter","hideForm","CharacterService","setName","hp","str","setStr","des","setDes","agi","setAgi","con","setCon","int","setInt","wis","setWis","char","setChar","totalPoints","setTotalPoints","newTotal","total","obj","calculatePoints","newCharacter","createCharacter","createdCharacter","assignCharacterToUser","updatedUser","parseInt","CharacterList","CustomLi","li","includes","level","updateSavedGames","showForm","setShowForm","toogleForm","chosenCharacter","createSavedGame","assignSaveToUser","StartPlayingButton","noUser","Toggle","Menu","save","disabled","createCharAndSave","_","startGame","setGame","newSave","savedGamesCopy","getUserSaves","characterChoicesService","AnimationWrapper","DiceAnimation","hideAnimation","sprite","sound","useSound","playDice","image","widthFrame","heightFrame","steps","fps","autoplay","loop","endAt","backgroundSize","backgroundPosition","onPlay","spritesheet","onPause","setTimeout","ChoicesList","makeChoice","rollSprites","r01","r02","r03","r04","r05","r06","r07","r08","r09","r10","r11","r12","r13","r14","r15","r16","r17","r18","r19","r20","CharacterChoiceService","setSprite","showAnimation","setShowAnimation","rollSound","roll","updateChapterOnSave","setSavedGame","getFullSave","updateSavedGame","MyCreatedGames","createdGames","setCreatedGames","getOwnedGames","games","chaptersPromise","choicesTree","didSuccess","getChapter","Promise","all","chaptersTravelled","darkTheme","semiSolid","solid","sizes","navBarHeight","getFullMain","CharacterSummary","exp","Section","MyCharacters","setShow","charShown","setCharShown","chosedChar","find","GlobalStyle","App","loginModal","setloginModal","signupModal","setSignupModal","setloggedInUser","user","loggedin","exact","path","render","Boolean","window","location","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.32e3d3e2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/r02.bde458ff.png\";","module.exports = __webpack_public_path__ + \"static/media/r03.d9ed47a0.png\";","module.exports = __webpack_public_path__ + \"static/media/r04.43694589.png\";","module.exports = __webpack_public_path__ + \"static/media/r07.8d873eb0.png\";","module.exports = __webpack_public_path__ + \"static/media/r08.02e3d8aa.png\";","module.exports = __webpack_public_path__ + \"static/media/r09.b799ee05.png\";","module.exports = __webpack_public_path__ + \"static/media/r10.e872788c.png\";","module.exports = __webpack_public_path__ + \"static/media/r11.e1fb3055.png\";","module.exports = __webpack_public_path__ + \"static/media/r12.cc0de9f1.png\";","module.exports = __webpack_public_path__ + \"static/media/r13.ba069347.png\";","module.exports = __webpack_public_path__ + \"static/media/r14.1caa17d0.png\";","module.exports = __webpack_public_path__ + \"static/media/r15.b865a968.png\";","module.exports = __webpack_public_path__ + \"static/media/r16.ed090d48.png\";","module.exports = __webpack_public_path__ + \"static/media/r17.65cb70b6.png\";","module.exports = __webpack_public_path__ + \"static/media/r18.6f4ebc7c.png\";","module.exports = __webpack_public_path__ + \"static/media/r19.c8774adb.png\";","module.exports = __webpack_public_path__ + \"static/media/r20.d21f8366.png\";","module.exports = __webpack_public_path__ + \"static/media/diceRoll.afd53a36.mp3\";","import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { InputGroup, Dropdown, FormControl } from 'react-bootstrap'\nimport DropdownMenu from 'react-bootstrap/DropdownMenu'\n\nfunction Searchbar({ fetchGames }) {\n\tconst [search, setSearch] = useState([])\n\tconst [searchText, setSearchText] = useState('')\n\tconst [isOpen, setIsOpen] = useState(false)\n\tconst onSearch = e => setSearchText(e.currentTarget.value)\n\n\tuseEffect(() => {\n\t\tfetchGames(searchText).then(result => setSearch(result))\n\t\treturn () => {\n\t\t\tsetSearch([])\n\t\t}\n\t}, [searchText, fetchGames])\n\n\treturn (\n\t\t<InputGroup\n\t\t\tonBlur={e => {\n\t\t\t\t//TODO Fix lose focus and link conflict\n\t\t\t\tconsole.log(e.target)\n\t\t\t\tsetIsOpen(false)\n\t\t\t}}\n\t\t\tonFocus={() => setIsOpen(true)}\n\t\t\tclassName='mb-3'\n\t\t>\n\t\t\t<Dropdown show={isOpen}>\n\t\t\t\t<DropdownMenu>\n\t\t\t\t\t{search?.map((elm, idx) => (\n\t\t\t\t\t\t<Dropdown.Item key={idx} as={Link} to={`/read/${elm._id}`}>\n\t\t\t\t\t\t\t{elm.title}\n\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t))}\n\t\t\t\t</DropdownMenu>\n\t\t\t</Dropdown>\n\t\t\t<FormControl\n\t\t\t\tplaceholder='Busca tu nueva historia favorita'\n\t\t\t\tstyle={{ backgroundColor: 'rgb(225, 225, 225)' }}\n\t\t\t\tvalue={searchText}\n\t\t\t\tonChange={onSearch}\n\t\t\t\taria-describedby='basic-addon1'\n\t\t\t/>\n\t\t</InputGroup>\n\t)\n}\n\nexport default Searchbar\n","import axios from 'axios'\n\nclass gamesService {\n\tconstructor() {\n\t\tthis.baseURL = `${process.env.REACT_APP_API}/games/`\n\t\tthis.service = axios.create({ baseURL: this.baseURL, withCredentials: true })\n\t}\n\n\tgetOneGame(id) {\n\t\treturn this.service\n\t\t\t.get(`/?gameId=${id}`)\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tgetByTitle(name) {\n\t\treturn this.service\n\t\t\t.get(`/title?title=${name}`)\n\t\t\t.then(res => (res.data ? res.data : []))\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tgetOwnedGames(id) {\n\t\treturn this.service\n\t\t\t.get(`/owned?creatorId=${id}`)\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tgetLastGames() {\n\t\treturn this.service\n\t\t\t.get('/last?limit=5')\n\t\t\t.then(res => res.data.gamesFound)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tcreateGame({ creator, title, minLevel, description, simple }) {\n\t\treturn this.service\n\t\t\t.post('', { creator, title, minLevel, description, simple })\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n}\n\nexport default gamesService\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { Navbar, Nav, NavDropdown, Spinner } from 'react-bootstrap'\nimport styled from 'styled-components'\nimport logo from '../invertedlogo.png'\nimport Searchbar from './Searchbar'\nimport gamesService from '../services/games.service'\nconst GameService = new gamesService()\n\nconst fetchGames = title => GameService.getByTitle(title)\n\n//TODO sobrescribir bootstrap bien y no a base de importants\nconst StyledNavbar = styled(Navbar)`\n\t.dropdown-menu a {\n\t\tbackground-color: rgb(25, 25, 25);\n\t}\n\n\t& > div {\n\t\talign-items: center;\n\t\ta {\n\t\t\tcolor: ${props => props.theme.colors.light + '!important'};\n\t\t\tpadding-right: 25px !important;\n\t\t}\n\t}\n\n\t.dropdown-menu.show {\n\t\tbackground-color: ${props => props.theme.background.lightOverlay};\n\t}\n`\n\nfunction CustomNavbar({ loggedInUser, showLogin, showSignup, logout }) {\n\treturn loggedInUser === false ? (\n\t\t<Spinner />\n\t) : loggedInUser === null ? (\n\t\t<StyledNavbar>\n\t\t\t<Nav style={{ width: '60%' }}>\n\t\t\t\t<Nav.Link as={NavLink} to={'/'}>\n\t\t\t\t\t<img style={{ height: '36px' }} src={logo} alt='Logo de dado icosadrico'></img>\n\t\t\t\t</Nav.Link>\n\t\t\t\t<Nav.Link onClick={showLogin}>Login</Nav.Link>\n\t\t\t\t<Nav.Link onClick={showSignup}>Signup</Nav.Link>\n\t\t\t</Nav>\n\n\t\t\t<Nav style={{ width: '40%', justifyContent: 'flex-end' }}>\n\t\t\t\t<Searchbar fetchGames={fetchGames} />\n\t\t\t</Nav>\n\t\t</StyledNavbar>\n\t) : (\n\t\t<StyledNavbar>\n\t\t\t<Nav style={{ width: '60%' }}>\n\t\t\t\t<Nav.Link as={NavLink} to={'/'}>\n\t\t\t\t\t<img style={{ height: '36px' }} src={logo} alt='Logo de dado icosadrico'></img>\n\t\t\t\t</Nav.Link>\n\t\t\t\t<NavDropdown title='Mis historias' id='nav-dropdown' drop='down'>\n\t\t\t\t\t<Nav.Link as={NavLink} to={'/myGames'}>\n\t\t\t\t\t\tEn juego\n\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t<NavDropdown.Divider />\n\n\t\t\t\t\t<Nav.Link as={NavLink} to={'/myCreatedGames'}>\n\t\t\t\t\t\tCreadas por m\n\t\t\t\t\t</Nav.Link>\n\t\t\t\t</NavDropdown>\n\t\t\t\t<Nav.Link as={NavLink} to={'/myCharacters'}>\n\t\t\t\t\tMis personajes\n\t\t\t\t</Nav.Link>\n\t\t\t\t<Nav.Link as={NavLink} to={'/newGame'}>\n\t\t\t\t\tCrear Partida\n\t\t\t\t</Nav.Link>\n\t\t\t\t<Nav.Link href='#' onClick={logout}>\n\t\t\t\t\tLogout\n\t\t\t\t</Nav.Link>\n\t\t\t</Nav>\n\t\t\t<Nav style={{ width: '40%', justifyContent: 'flex-end' }}>\n\t\t\t\t<Nav.Item style={{ width: '100%' }}>\n\t\t\t\t\t<Searchbar fetchGames={fetchGames} />\n\t\t\t\t</Nav.Item>\n\t\t\t</Nav>\n\t\t</StyledNavbar>\n\t)\n}\n\nexport default CustomNavbar\n","import React from \"react\";\nconst UserContext = React.createContext(false);\nexport const UserProvider = UserContext.Provider;\nexport default UserContext;\n","import React, { useContext } from 'react'\nimport styled from 'styled-components'\nimport { Row, Col } from 'react-bootstrap'\nimport playingTable from './assets/playingTable.png'\nimport { Link } from 'react-router-dom'\nimport UserContext from '../UserContext'\n\nconst Hero = styled.section`\n\tbackground-color: ${props => props.theme.background.lightOverlay};\n\theight: 100%;\n\ttext-align: center;\n\tpadding: 50px;\n\n\theader {\n\t\tpadding: 30px;\n\t}\n\n\tarticle div {\n\t\tpadding: 20px;\n\t}\n\n\tfooter {\n\t\tpadding: 30px;\n\t}\n\n\tfooter div {\n\t\tpadding: 30px 0;\n\t\tborder-radius: 10px;\n\t\tbackground-color: ${props => props.theme.background.lightOverlay};\n\t}\n\n\tbutton {\n\t\tpadding: 5px 10px;\n\t}\n\n\tp {\n\t\tpadding: 5px;\n\t\tfont-size: 1.2em;\n\t}\n`\n\nfunction Home({ showLogin }) {\n\tconst loggedInUser = useContext(UserContext)\n\n\treturn (\n\t\t<Hero>\n\t\t\t<article>\n\t\t\t\t<header>\n\t\t\t\t\t<h1>Juega y comparte tus propias historias.</h1>\n\t\t\t\t</header>\n\t\t\t\t<div>\n\t\t\t\t\t<p>Alguna vez has pensado algo cmo: \"no abras la puerta, es el asesino!</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tAhora puedes hacerlo. Juega o escribe historias en las que puedas tomar decisiones por el protagonista, juega distintas rutas y\n\t\t\t\t\t\tfinales e intenta llegar con vida a la ltima pgina.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tAdems si prefieres un reto an mayor, juega a las historias <strong>rol</strong> dnde podrs subir de nivel y decidir cmo es\n\t\t\t\t\t\ttu personaje.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<Row className='justify-content-around' as={'footer'}>\n\t\t\t\t\t<Col lg={3}>\n\t\t\t\t\t\t<p>Con ganas de empezar?</p>\n\t\t\t\t\t\t<Link to='/lastGames'>\n\t\t\t\t\t\t\t<button>Mira nuestras partidas en juego!</button>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col lg={3}>\n\t\t\t\t\t\t<p>Quieres escribir?</p>\n\t\t\t\t\t\t{!loggedInUser ? (\n\t\t\t\t\t\t\t<button onClick={() => showLogin(true)}>Registrate y a crear!</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Link to='/newGame'>\n\t\t\t\t\t\t\t\t<button>Crea tu partida!</button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</article>\n\t\t</Hero>\n\t)\n}\n\nexport default Home\n","import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport styled, { keyframes } from 'styled-components'\nimport playingTable from './assets/playingTable.png'\nimport D6 from '../components/Game/assets/d6book.svg'\nimport D20 from '../components/Game/assets/d20.svg'\nimport gamesService from '../services/games.service'\n\nconst GamesService = new gamesService()\n\n//#region styling\nconst MainsSectionWrapper = styled.section`\n\tbackground-color: ${props => props.theme.background.lightOverlay};\n\ttext-align: center;\n\theight: 80vh;\n\tpadding-top: 40px;\n\toverflow: auto;\n\t&::-webkit-scrollbar {\n\t\tdisplay: none;\n\t}\n`\n\nconst Background = styled.img`\n\tposition: absolute;\n\tleft: 5%;\n\ttop: 100px;\n\tz-index: -9000;\n\ttransform: rotate(-15deg);\n\topacity: 0.5;\n\tfilter: blur(1px);\n\tfilter: contrast(70%);\n`\n\nconst MainSection = styled.article`\n\tmargin: 20px;\n`\n\nconst appear = keyframes`\n      from {\n        opacity: 0;\n      }\n\n      to {\n        opacity: 1;\n      }\n    `\n\nconst Title = styled.h1`\n\tanimation: ${appear} 3s ease-out;\n\tcolor: ${props => props.theme.colors.general};\n\ttext-align: center;\n`\n\nconst GameCard = styled.div`\n\tmargin: 10px 0;\n\tpadding: 10px 0;\n\tborder-radius: 2px;\n\tanimation: ${appear} 3s ease-out;\n\n\t@for $i from 1 through 10 {\n\t\t&:nth-child(#{$i}) {\n\t\t\tanimation-delay: #{$i * 2}s;\n\t\t}\n\t}\n\n\th2 {\n\t\ttext-transform: capitalize;\n\t}\n\t&:hover {\n\t\tbackground-color: ${props => props.theme.background.overlay};\n\t\ttransition: background-color 0.3s;\n\t}\n`\n//#endregion styling\n\nconst preloadDice = () => {\n\tconst mainBackgroundPreload = document.createElement('link')\n\tmainBackgroundPreload.rel = 'preload'\n\tmainBackgroundPreload.as = 'image'\n\tmainBackgroundPreload.href = playingTable\n\n\tconst d6Prefetch = document.createElement('link')\n\tconst d20Prefetch = document.createElement('link')\n\td6Prefetch.rel = 'prefetch'\n\td20Prefetch.rel = 'prefetch'\n\td6Prefetch.href = D6\n\td20Prefetch.href = D20\n\td6Prefetch.as = 'image'\n\td20Prefetch.as = 'image'\n\n\tdocument.head.append(d6Prefetch)\n\tdocument.head.append(d20Prefetch)\n\tdocument.head.append(mainBackgroundPreload)\n}\n\nconst checkNewGames = oldGames => {\n\treturn GamesService.getLastGames().then(lastGames => {\n\t\treturn oldGames.every(old => lastGames.every(newGame => old._id === newGame._id)) ? lastGames : false\n\t})\n}\n\nfunction LastGames({ loggedInUser }) {\n\tconst [isPreloaded, setisPreloaded] = useState(false)\n\tconst [lastGames, setlastGames] = useState([])\n\n\tuseEffect(() => {\n\t\tcheckNewGames(lastGames).then(updatedList => {\n\t\t\tconsole.log(updatedList)\n\t\t\tupdatedList && setlastGames(updatedList)\n\t\t})\n\t}, [lastGames])\n\n\t//preload dice for use in stories\n\tuseEffect(() => {\n\t\tif (!isPreloaded) {\n\t\t\tpreloadDice()\n\t\t\tsetisPreloaded(true)\n\t\t}\n\t}, [isPreloaded])\n\n\treturn (\n\t\t<div id='container1' style={{ overflow: 'hidden' }}>\n\t\t\t<Title>ltimas historias</Title>\n\t\t\t<hr />\n\t\t\t<MainsSectionWrapper id='container2'>\n\t\t\t\t<Background src={playingTable} />\n\t\t\t\t<MainSection>\n\t\t\t\t\t{lastGames.length\n\t\t\t\t\t\t? lastGames.map((game, idx) => (\n\t\t\t\t\t\t\t\t<Link key={idx} to={loggedInUser && loggedInUser._id === game.creator ? `/modify/${game._id}` : `/read/${game._id}`}>\n\t\t\t\t\t\t\t\t\t<GameCard key={idx}>\n\t\t\t\t\t\t\t\t\t\t<h2>{game.title}</h2>\n\t\t\t\t\t\t\t\t\t\t<em>Nivel minimo: {game.minLevel}</em>\n\t\t\t\t\t\t\t\t\t\t<p>{game.description.slice(0, 350)}</p>\n\t\t\t\t\t\t\t\t\t</GameCard>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t  ))\n\t\t\t\t\t\t: null}\n\t\t\t\t</MainSection>\n\t\t\t</MainsSectionWrapper>\n\t\t</div>\n\t)\n}\n\nexport default LastGames\n","import axios from 'axios'\n\nclass savedGamesService {\n\tconstructor() {\n\t\tthis.baseURL = `${process.env.REACT_APP_API}/savedGames/`\n\t\tthis.service = axios.create({ baseURL: this.baseURL, withCredentials: true })\n\t}\n\n\tgetUserSaves(userId, gameId) {\n\t\tconst query = gameId ? `/user/?userId=${userId}&gameId=${gameId}` : `/user/?userId=${userId}`\n\n\t\treturn this.service\n\t\t\t.get(query)\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tgetAllSaves(userId) {\n\t\tconst query = `/user/all/?userId=${userId}`\n\n\t\treturn this.service\n\t\t\t.get(query)\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tgetFullSave(saveId) {\n\t\treturn this.service\n\t\t\t.get(`/full/?saveId=${saveId}`)\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tcreateSavedGame({ gameId, currentChapter, character }) {\n\t\treturn this.service\n\t\t\t.post('', {\n\t\t\t\tgame: gameId,\n\t\t\t\tcurrentChapter,\n\t\t\t\tcharacter,\n\t\t\t})\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tassignSaveToUser(userId, saveId) {\n\t\treturn this.service\n\t\t\t.post('/assign', { userId, saveId })\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tupdateSavedGame({ savedGameId, gameId, currentChapter, character, finished }) {\n\t\treturn this.service.patch('', { savedGameId, game: gameId, currentChapter, character, finished }).then(res => res.data)\n\t}\n\n\tdeleteSave(savedGameId) {\n\t\treturn this.service\n\t\t\t.delete('', { savedGameId })\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n}\n\nexport default savedGamesService\n","import React from 'react'\nimport { Spinner } from 'react-bootstrap'\n\nfunction CustomSpinner() {\n\treturn (\n\t\t<Spinner style={{ margin: '20% auto', display: 'block' }} animation='border' role='status'>\n\t\t\t<span className='sr-only'>Loading...</span>\n\t\t</Spinner>\n\t)\n}\n\nexport default CustomSpinner\n","import React, { useContext } from 'react'\nimport { Card } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport UserContext from '../../UserContext'\n\nfunction GameCard({ game }) {\n\tconst loggedInUser = useContext(UserContext)\n\n\treturn (\n\t\t<Card bg='dark' style={{ width: '18rem', margin: '10px 0' }}>\n\t\t\t<Card.Body>\n\t\t\t\t<Card.Title>{game.title}</Card.Title>\n\t\t\t\t{!game.simple && <Card.Subtitle className='mb-2 text-muted'>Nivel mnimo: {game.minLevel}</Card.Subtitle>}\n\t\t\t\t<Card.Text>{game.description}</Card.Text>\n\t\t\t\t<Card.Link as={Link} to={`/read/${game._id}`}>\n\t\t\t\t\tJugar\n\t\t\t\t</Card.Link>\n\t\t\t\t{loggedInUser._id === game.creator && (\n\t\t\t\t\t<Card.Link as={Link} to={`/modify/${game._id}`}>\n\t\t\t\t\t\tEditar\n\t\t\t\t\t</Card.Link>\n\t\t\t\t)}\n\t\t\t</Card.Body>\n\t\t</Card>\n\t)\n}\n\nexport default GameCard\n","import React, { useEffect, useContext, useState } from 'react'\nimport savedGamesService from '../services/savedGames.service'\nimport UserContext from '../UserContext'\nimport CustomSpinner from '../components/shared/Spinner'\nimport { Row, Col } from 'react-bootstrap'\nimport GameCard from '../components/Game/GameCard'\nconst SavedGamesService = new savedGamesService()\n\nfunction MyGames(props) {\n\tconst loggedInUser = useContext(UserContext)\n\tconst [savedGames, setSavedGames] = useState(null)\n\tconst [ready, setReady] = useState(false)\n\tuseEffect(() => {\n\t\tSavedGamesService.getAllSaves(loggedInUser._id).then(saves => {\n\t\t\tsetSavedGames(saves)\n\t\t\tsetReady(true)\n\t\t})\n\t}, [loggedInUser._id])\n\n\treturn (\n\t\t<Row>\n\t\t\t{ready ? (\n\t\t\t\tsavedGames?.map(savedGame => (\n\t\t\t\t\t<Col lg={3}>\n\t\t\t\t\t\t<GameCard game={savedGame.game} />\n\t\t\t\t\t</Col>\n\t\t\t\t)) || <p>An no tienes historias en juego.</p>\n\t\t\t) : (\n\t\t\t\t<CustomSpinner />\n\t\t\t)}\n\t\t</Row>\n\t)\n}\n\nexport default MyGames\n","import axios from 'axios'\n\nclass authService {\n\tconstructor() {\n\t\tthis.baseURL = `${process.env.REACT_APP_API}/auth/`\n\t\tthis.service = axios.create({\n\t\t\tbaseURL: this.baseURL,\n\t\t\twithCredentials: true,\n\t\t\ttimeout: 1000 * 30,\n\t\t\ttimeoutErrorMessage: 'El servidor ha tardado demasiado tiempo en responder',\n\t\t})\n\t}\n\n\tlogin({ username, email, password }) {\n\t\treturn this.service\n\t\t\t.post('login', { username, email, password }) //add form\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log({ err })\n\t\t\t\tif (err.response.status === '401') return null\n\t\t\t\tif (err.code === 'ECONNABORTED') console.error(err.message)\n\t\t\t})\n\t}\n\n\tsignup({ username, email, password }) {\n\t\treturn this.service\n\t\t\t.post('signup', { username, email, password }) //add form\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log({ err })\n\t\t\t\tif (err.code === 'ECONNABORTED') console.error(err.message)\n\t\t\t})\n\t}\n\n\tlogout() {\n\t\treturn this.service\n\t\t\t.post('logout')\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log({ err })\n\t\t\t\tif (err.code === 'ECONNABORTED') console.error(err.message)\n\t\t\t})\n\t}\n\n\tloggedin() {\n\t\treturn this.service\n\t\t\t.get('loggedin')\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log({ err })\n\t\t\t\tif (err.code === 'ECONNABORTED') console.error(err.message)\n\t\t\t})\n\t}\n}\n\nexport default authService\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst StyledButton = styled.button`\n\tbackground-color: rgba(0, 0, 0, 1);\n\tcolor: white;\n\tborder: 0.3px solid white;\n\tdisplay: inline-block;\n\tfont-weight: 400;\n\ttext-align: center;\n\tvertical-align: middle;\n\t-webkit-user-select: none;\n\tuser-select: none;\n\tpadding: 0.375rem 0.75rem;\n\tfont-size: 1rem;\n\tline-height: 1.5;\n\tborder-radius: 0.25rem;\n\tfont-size: 1.1em;\n\tpadding: 8px 10px;\n\n\ttransition: all 0.15s ease-in-out;\n\t&:hover {\n\t\tbackground-color: rgba(44, 44, 44, 0.1);\n\t\t-webkit-box-shadow: 0px 10px 7px 1px rgba(252, 252, 252, 0.1);\n\t\t-moz-box-shadow: 0px 1px 7px 1px rgba(252, 252, 252, 0.1);\n\t\tbox-shadow: 0px 1px 7px 1px rgba(252, 252, 252, 0.1);\n\t}\n`\nexport const Button = props => <StyledButton {...props}>{props.text}</StyledButton>\n","import React, { useState } from 'react'\nimport { Form } from 'react-bootstrap'\nimport authService from '../../services/auth.service'\nimport { Button } from '../shared/Buttons'\n\nfunction LoginForm({ setUser, onHide }) {\n\tconst AuthService = new authService()\n\tconst [username, setUsername] = useState('')\n\tconst [email, setEmail] = useState('')\n\tconst [password, setPassword] = useState('')\n\n\tfunction clearForm() {\n\t\tsetUsername('')\n\t\tsetEmail('')\n\t\tsetPassword('')\n\t}\n\n\tfunction submitForm(e) {\n\t\te.preventDefault()\n\t\tAuthService.login({ username, email, password }).then(loggedInUser => setUser(loggedInUser))\n\t\tclearForm()\n\t\tif (onHide) onHide()\n\t}\n\n\tfunction onChange(e) {\n\t\tlet { name, value } = e.currentTarget\n\t\tswitch (name) {\n\t\t\tcase 'username':\n\t\t\t\tsetUsername(value)\n\t\t\t\tbreak\n\t\t\tcase 'email':\n\t\t\t\tsetEmail(value)\n\t\t\t\tbreak\n\t\t\tcase 'password':\n\t\t\t\tsetPassword(value)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow Error('no correct value')\n\t\t}\n\t}\n\n\treturn (\n\t\t<Form onSubmit={submitForm}>\n\t\t\t<Form.Group controlId='username'>\n\t\t\t\t<Form.Label>Username</Form.Label>\n\t\t\t\t<Form.Control onChange={onChange} name='username' value={username} type='text' placeholder='Enter username' />\n\t\t\t\t<Form.Text>Your username.</Form.Text>\n\t\t\t</Form.Group>\n\n\t\t\t<Form.Group controlId='password' value={password}>\n\t\t\t\t<Form.Label>Password</Form.Label>\n\t\t\t\t<Form.Control onChange={onChange} name='password' type='password' placeholder='Password' />\n\t\t\t</Form.Group>\n\t\t\t<Button text='Submit' type='submit'></Button>\n\t\t</Form>\n\t)\n}\n\nexport default LoginForm\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport authService from \"../../services/auth.service\";\n\nfunction SignupForm({ setUser, onHide }) {\n  const AuthService = new authService();\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function submitForm(e) {\n    e.preventDefault();\n    AuthService.signup({ username, email, password }).then((loggedInUser) => setUser(loggedInUser));\n    if (onHide) onHide();\n  }\n\n  function onChange(e) {\n    let { name, value } = e.currentTarget;\n    switch (name) {\n      case \"username\":\n        setUsername(value);\n        break;\n      case \"email\":\n        setEmail(value);\n        break;\n      case \"password\":\n        setPassword(value);\n        break;\n      default:\n        throw Error(\"no correct value\");\n    }\n  }\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Form.Group controlId=\"username\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control onChange={onChange} name=\"username\" value={username} type=\"text\" placeholder=\"Enter username\" />\n        <Form.Text className=\"text-muted\">Choose an username.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"email\" value={email}>\n        <Form.Label>Email address</Form.Label>\n        <Form.Control onChange={onChange} name=\"email\" type=\"email\" placeholder=\"Enter email\" />\n        <Form.Text className=\"text-muted\">We'll never share your email with anyone else.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"password\" value={password}>\n        <Form.Label>Password</Form.Label>\n        <Form.Control onChange={onChange} name=\"password\" type=\"password\" placeholder=\"Password\" />\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\">\n        Submit\n      </Button>\n    </Form>\n  );\n}\n\nexport default SignupForm;\n","import React, { cloneElement } from 'react'\nimport { Modal } from 'react-bootstrap'\nimport styled from 'styled-components'\n\nconst ThemeModal = styled.div`\n\tbackground-color: ${props => props.theme.background.modals};\n\twidth: 40%;\n\tmargin: 10vh auto;\n\tborder-radius: 5px;\n\tfont-size: 1.1em;\n\tcolor: white;\n\n\tdiv {\n\t\tbackground-color: ${props => props.theme.background.modals};\n\t}\n`\n\nfunction CenteredModal(props) {\n\tconst { show, children, onHide, title, noHeader } = props\n\treturn (\n\t\t<Modal dialogAs={ThemeModal} show={show} onHide={onHide} size='lg' aria-labelledby='contained-modal-title-vcenter' centered autoFocus>\n\t\t\t{!noHeader && (\n\t\t\t\t<Modal.Header closeButton onHide={onHide}>\n\t\t\t\t\t<Modal.Title id='contained-modal-title-vcenter'>{title}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t)}\n\t\t\t<Modal.Body>{cloneElement(children, { show, onHide })}</Modal.Body>\n\t\t</Modal>\n\t)\n}\n\nexport default CenteredModal\n","import React, { useState } from 'react'\nimport { Form } from 'react-bootstrap'\nimport styled from 'styled-components'\nimport gamesService from '../../services/games.service'\nimport { withRouter } from 'react-router-dom'\nimport { Button } from '../shared/Buttons'\n\nconst FormWrapper = styled.div`\n\tmax-width: 800px;\n\tbackground-color: ${props => props.theme.background.lightOverlay};\n\tpadding: 60px;\n\tmargin: auto;\n\n\tinput {\n\t\tmargin-top: 5px;\n\t\tmargin-bottom: 20px;\n\t\tbackground-color: rgb(235, 235, 235);\n\t}\n`\n\nfunction NewGameForm(props) {\n\tconst { loggedInUser, history, simple } = props\n\tconst GamesService = new gamesService()\n\tconst [title, setTitle] = useState('')\n\tconst [minLevel, setMinLevel] = useState(1)\n\tconst [description, setDescription] = useState('')\n\n\tfunction submitForm(e) {\n\t\te.preventDefault()\n\t\tif (simple) {\n\t\t\tsetMinLevel(1)\n\t\t}\n\n\t\tGamesService.createGame({ creator: loggedInUser._id, title, minLevel, description, simple }).then(createdGame => {\n\t\t\thistory.push(`/modify/${createdGame._id}`)\n\t\t})\n\t}\n\n\tfunction onChange(e) {\n\t\tconst { name, value } = e.currentTarget\n\t\tswitch (name) {\n\t\t\tcase 'title':\n\t\t\t\tsetTitle(value)\n\t\t\t\tbreak\n\t\t\tcase 'description':\n\t\t\t\tsetDescription(value)\n\t\t\t\tbreak\n\t\t\tcase 'minLevel':\n\t\t\t\tsetMinLevel(value)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow Error('Algo ha ido mal con el formulario')\n\t\t}\n\t}\n\n\treturn (\n\t\t<FormWrapper>\n\t\t\t<h2>Crear un nuevo juego es muy sencillo tan solo necesitas...</h2>\n\t\t\t<Form onSubmit={submitForm}>\n\t\t\t\t<Form.Group controlId='title'>\n\t\t\t\t\t<Form.Label>Elegir un titulo:</Form.Label>\n\t\t\t\t\t<Form.Control name='title' onChange={onChange} value={title} type='text' placeholder='El titulo de tu historia!' />\n\t\t\t\t</Form.Group>\n\n\t\t\t\t{!simple && (\n\t\t\t\t\t<Form.Group controlId='minLevel'>\n\t\t\t\t\t\t<Form.Label>Un nivel mnimo para comenzar la aventura:</Form.Label>\n\t\t\t\t\t\t<p>{minLevel}</p>\n\t\t\t\t\t\t<Form.Control name='minLevel' onChange={onChange} value={minLevel} type='range' min='1' max='20' step='1' placeholder='Ej: 5' />\n\t\t\t\t\t\t<Form.Text className='text-muted'>\n\t\t\t\t\t\t\tLas aventuras bsicas comienzan en nivel 1, de 8 a 14 ya son todo un reto, a partir de ah los heroes pueden luchar contra los\n\t\t\t\t\t\t\tmismos dioses.\n\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t)}\n\n\t\t\t\t<Form.Group controlId='description'>\n\t\t\t\t\t<Form.Label>El resumen de tu aventura! Hazlo atractivo de forma que la gente quiera jugarla ;)</Form.Label>\n\t\t\t\t\t<Form.Control name='description' onChange={onChange} value={description} type='text' placeholder='Tu resumen' />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Button type='submit' text='Crear historia' />\n\t\t\t</Form>\n\t\t</FormWrapper>\n\t)\n}\n\nexport default withRouter(NewGameForm)\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst ImageFiltered = styled.img`\n  z-index: -9000;\n  opacity: 0.5;\n  filter: blur(1px);\n  filter: contrast(80%);\n`;\n\nexport const BackgroundImage = (props) => {\n  return <ImageFiltered {...props} />;\n};\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Row, Col } from 'react-bootstrap'\nimport { BackgroundImage } from '../shared/Images'\nimport EasyDice from './assets/d6book.svg'\nimport D20Dice from './assets/d20.svg'\n\nfunction ModeSelect(props) {\n\tconst { setMode } = props\n\tconst ModeWrapper = styled(Row)`\n\t\tmargin-top: 200px;\n\t`\n\tconst ModeBox = styled(Col)`\n\t\ttext-align: center;\n\t\tfont-size: 3rem;\n\t\ttransition: all 0.3s ease-in-out;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\t&:hover {\n\t\t\tcursor: pointer;\n\t\t\ttransform: scale(1.1);\n\t\t}\n\t`\n\n\tconst LeftBackgroundImage = styled(BackgroundImage)`\n\t\t/* position: absolute; */\n\t\tleft: 0px;\n\t\ttop: -40px;\n\t\tmax-height: 100px;\n\t\tmax-width: 100px;\n\t\ttransform: rotate(-15deg);\n\t`\n\n\tconst RightBackgroundImage = styled(BackgroundImage)`\n\t\t/* position: absolute; */\n\t\tright: 0px;\n\t\ttop: -40px;\n\t\tmax-height: 100px;\n\t\tmax-width: 100px;\n\t\ttransform: rotate(15deg);\n\t`\n\n\treturn (\n\t\t<ModeWrapper>\n\t\t\t<ModeBox onClick={() => setMode(true)}>\n\t\t\t\t<LeftBackgroundImage src={EasyDice} />\n\t\t\t\t<p>Historia simple</p>\n\t\t\t</ModeBox>\n\t\t\t<ModeBox onClick={() => setMode(false)}>\n\t\t\t\t<p>Aventura de Rol</p>\n\t\t\t\t<RightBackgroundImage src={D20Dice} />\n\t\t\t</ModeBox>\n\t\t</ModeWrapper>\n\t)\n}\n\nexport default ModeSelect\n","import React, { useState } from 'react'\nimport NewGameForm from '../components/Game/NewGameForm'\nimport ModeSelect from '../components/Game/ModeSelect'\nfunction NewGame({ loggedInUser, updateLastGames }) {\n\tconst [simple, setSimple] = useState(null)\n\tif (simple === null) {\n\t\treturn <ModeSelect setMode={setSimple} />\n\t} else {\n\t\treturn (\n\t\t\t<div styled={{ height: '100%', display: 'flex' }}>\n\t\t\t\t<NewGameForm simple={simple} updateLastGames={updateLastGames} loggedInUser={loggedInUser}></NewGameForm>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default NewGame\n","import axios from \"axios\";\n\nclass choicesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/choices/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getChoicesFromChapter(id) {\n    return this.service\n      .get(`/?chapterId=${id}`)\n      .then((res) => res.data.choicesFound)\n      .catch((err) => console.log(err));\n  }\n\n  createChoice({ description, trial, successTargetChapter, failureTargetChapter, pxGranted }) {\n    return this.service\n      .post(\"\", { description, trial, successTargetChapter, failureTargetChapter, pxGranted })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  updateChoice(choice) {\n    return this.service\n      .patch(\"/\", choice)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  deleteChoice(choiceId) {\n    return this.service\n      .delete(\"\", { choiceId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default choicesService;\n","import axios from \"axios\";\n\nclass gamesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/chapters/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getChapter(id) {\n    return this.service\n      .get(`/?chapterId=${id}`)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getChaptersFromGame(id) {\n    return this.service\n      .get(`/fromGame/?gameId=${id}`)\n      .then((res) => res.data.chapters)\n      .catch((err) => console.log(err));\n  }\n\n  createChapter({ description, choices, gameId, title, last }) {\n    return this.service\n      .post(\"\", { description, choices, gameId, title, last })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  updateChapter(chapter) {\n    return this.service\n      .patch(\"/\", chapter)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default gamesService;\n","import React, { useState, useEffect } from 'react'\nimport { Card, Form, Button } from 'react-bootstrap'\nimport choicesService from '../../services/choices.service'\nimport chapterService from '../../services/chapter.service'\nimport { withRouter } from 'react-router-dom'\nconst ChapterService = new chapterService()\nconst ChoicesService = new choicesService()\n\nfunction ChoiceForm(props) {\n\tconst { finishChoiceForm, idx, choice, toogleCard, closeChoiceForm, match, simple } = props\n\tconst [description, setDescription] = useState(choice ? choice.description : '')\n\tconst [difficulty, setDifficulty] = useState(choice ? choice.trial.difficulty : 10)\n\tconst [characteristic, setCharacteristic] = useState(choice ? choice.trial.characteristic : 'str')\n\tconst [pxGranted, setPxGranted] = useState(choice ? choice.pxGranted : 0)\n\tconst [successTargetChapter, setSuccessTargetChapter] = useState(choice ? choice.successTargetChapter : null)\n\tconst [failureTargetChapter, setFailureTargetChapter] = useState(choice ? choice.failureTargetChapter : null)\n\tconst [chapterList, setChapterList] = useState([])\n\n\tuseEffect(() => {\n\t\tChapterService.getChaptersFromGame(match.params.gameId).then(chapterList => {\n\t\t\tsetChapterList(chapterList)\n\t\t})\n\t}, [match.params.gameId])\n\n\tfunction createChoice(choice) {\n\t\tChoicesService.createChoice(choice).then(createdChoice => {\n\t\t\tfinishChoiceForm(createdChoice._id, idx, createdChoice)\n\t\t})\n\t}\n\n\tfunction updateChoice(choice) {\n\t\tChoicesService.updateChoice(choice).then(updatedChoice => {\n\t\t\ttoogleCard(idx)\n\t\t})\n\t}\n\n\tfunction submitForm(e) {\n\t\te.preventDefault()\n\t\tconst trial = { difficulty, characteristic }\n\t\tif (choice && simple) {\n\t\t\tchoice.trial = { difficulty: -10, characteristic: 'str' }\n\t\t\tchoice.description = description\n\t\t\tchoice.pxGranted = 0\n\t\t\tchoice.successTargetChapter = successTargetChapter\n\t\t\tchoice.failureTargetChapter = successTargetChapter\n\t\t\tupdateChoice(choice)\n\t\t} else if (choice) {\n\t\t\tchoice.trial = trial\n\t\t\tchoice.description = description\n\t\t\tchoice.pxGranted = pxGranted\n\t\t\tchoice.successTargetChapter = successTargetChapter\n\t\t\tchoice.failureTargetChapter = failureTargetChapter\n\t\t\tupdateChoice(choice)\n\t\t} else if (simple) {\n\t\t\tconst newChoice = {\n\t\t\t\tdescription,\n\t\t\t\ttrial: { difficulty: -10, characteristic: 'str' },\n\t\t\t\tpxGranted: 0,\n\t\t\t\tsuccessTargetChapter,\n\t\t\t\tfailureTargetChapter: successTargetChapter,\n\t\t\t}\n\t\t\tcreateChoice(newChoice)\n\t\t} else {\n\t\t\tconst newChoice = { description, trial, pxGranted, successTargetChapter, failureTargetChapter }\n\t\t\tcreateChoice(newChoice)\n\t\t}\n\t}\n\n\tfunction onChange(e) {\n\t\tconst { name, value } = e.currentTarget\n\t\tswitch (name) {\n\t\t\tcase 'description':\n\t\t\t\tsetDescription(value)\n\t\t\t\tbreak\n\t\t\tcase 'difficulty':\n\t\t\t\tsetDifficulty(value)\n\t\t\t\tbreak\n\t\t\tcase 'characteristic':\n\t\t\t\tsetCharacteristic(value)\n\t\t\t\tbreak\n\t\t\tcase 'pxGranted':\n\t\t\t\tsetPxGranted(value)\n\t\t\t\tbreak\n\t\t\tcase 'successTargetChapter':\n\t\t\t\tsetSuccessTargetChapter(value)\n\t\t\t\tbreak\n\t\t\tcase 'failureTargetChapter':\n\t\t\t\tsetFailureTargetChapter(value)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow Error('Algo ha ido mal con el formulario')\n\t\t}\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<Form onSubmit={submitForm} className='choiceForm'>\n\t\t\t\t<Card.Header style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tcloseChoiceForm ? closeChoiceForm(idx) : toogleCard(idx)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{ width: '40px' }}\n\t\t\t\t\t\tvariant='danger'\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className='fas fa-times'></i>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button type='submit' style={{ width: '40px' }} variant='success'>\n\t\t\t\t\t\t<i className='fas fa-check'></i>\n\t\t\t\t\t</Button>\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<Form.Group controlId='choice'>\n\t\t\t\t\t\t<Form.Label>Describe la eleccin:</Form.Label>\n\t\t\t\t\t\t<Form.Control as='textarea' name='description' onChange={onChange} value={description} placeholder='Fuerzo la puerta' />\n\n\t\t\t\t\t\t{!simple && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Form.Label>Que dificultad tiene?</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control type='number' name='difficulty' onChange={onChange} value={difficulty} />\n\t\t\t\t\t\t\t\t{choice ? null : (\n\t\t\t\t\t\t\t\t\t<Form.Text>\n\t\t\t\t\t\t\t\t\t\tDificultades de 10 son adecuadas para una persona media, 15 son para expertos y 20 para verdaderos prodgios.\n\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Form.Label>Qu caracteristica es necesaria para superarla?</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control onChange={onChange} name='characteristic' as='select' custom>\n\t\t\t\t\t\t\t\t\t<option value='str'>Fuerza</option>\n\t\t\t\t\t\t\t\t\t<option value='des'>Destreza</option>\n\t\t\t\t\t\t\t\t\t<option value='agi'>Agilidad, velocidad</option>\n\t\t\t\t\t\t\t\t\t<option value='con'>Constitucin fsica</option>\n\t\t\t\t\t\t\t\t\t<option value='int'>Inteligencia</option>\n\t\t\t\t\t\t\t\t\t<option value='wis'>Sabidura</option>\n\t\t\t\t\t\t\t\t\t<option value='char'>Carisma</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t{!simple && (\n\t\t\t\t\t\t<Form.Group controlId='choice'>\n\t\t\t\t\t\t\t<Form.Label>Cuanta experiencia da el xito:</Form.Label>\n\t\t\t\t\t\t\t<Form.Control name='pxGranted' onChange={onChange} value={pxGranted} placeholder='100' type='number' />\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t)}\n\t\t\t\t</Card.Body>\n\t\t\t\t<Form.Group controlId='successTargetChapter'>\n\t\t\t\t\t<Form.Label>{!simple ? 'Cap de destino con exito:' : 'Cap de destino'}</Form.Label>\n\t\t\t\t\t<Form.Control as='select' custom name='successTargetChapter' onChange={onChange}>\n\t\t\t\t\t\t<option value='null'>Ninguno</option>\n\t\t\t\t\t\t{chapterList.map(chapter =>\n\t\t\t\t\t\t\tchapter._id === successTargetChapter ? (\n\t\t\t\t\t\t\t\t<option dangerouslySetInnerHTML={{ __html: chapter.title }} selected value={chapter._id}></option>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<option dangerouslySetInnerHTML={{ __html: chapter.title }} value={chapter._id}></option>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Form.Control>\n\t\t\t\t</Form.Group>\n\t\t\t\t{!simple && (\n\t\t\t\t\t<Form.Group controlId='failureTargetChapter'>\n\t\t\t\t\t\t<Form.Label>Cap de destino con fracaso:</Form.Label>\n\t\t\t\t\t\t<Form.Control as='select' name='failureTargetChapter' custom onChange={onChange}>\n\t\t\t\t\t\t\t<option value='null'>Ninguno</option>\n\t\t\t\t\t\t\t{chapterList.map(chapter =>\n\t\t\t\t\t\t\t\tchapter._id === failureTargetChapter ? (\n\t\t\t\t\t\t\t\t\t<option dangerouslySetInnerHTML={{ __html: chapter.title }} selected value={chapter._id}></option>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<option dangerouslySetInnerHTML={{ __html: chapter.title }} value={chapter._id}></option>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t)}\n\t\t\t</Form>\n\t\t</Card>\n\t)\n}\n\nexport default withRouter(ChoiceForm)\n","import React, { useState, useEffect } from 'react'\nimport choicesService from '../../services/choices.service'\nimport chapterService from '../../services/chapter.service'\nimport styled from 'styled-components'\nimport { withRouter } from 'react-router-dom'\n\nconst ChoiceFormWrapper = styled.div`\n\tborder: ${props => '1px solid ' + props.theme.colors.general};\n\tmargin: 15px 0;\n\tcolor: ${props => props.theme.colors.light};\n\tform {\n\t\tborder-top: 1px solid rgba(200, 200, 200, 1);\n\t\tbackground-color: ${props => props.theme.background.modals};\n\t}\n`\n\nconst Row = styled.div`\n\tdisplay: flex;\n\tbackground-color: ${props => props.theme.background.modals};\n\tpadding: 10px;\n`\n\nconst Col4 = styled.div`\n\twidth: 25%;\n\t/* background-color: ${props => props.theme.background.modals}; */\n`\n\nfunction ChoiceFormRow(props) {\n\tconst { finishChoiceForm, idx, choice, toogleCard, closeChoiceForm, match, simple } = props\n\tconst ChapterService = new chapterService()\n\tconst ChoicesService = new choicesService()\n\tconst [description, setDescription] = useState(choice ? choice.description : '')\n\tconst [difficulty, setDifficulty] = useState(choice ? choice.trial.difficulty : 10)\n\tconst [characteristic, setCharacteristic] = useState(choice ? choice.trial.characteristic : 'str')\n\tconst [pxGranted, setPxGranted] = useState(choice ? choice.pxGranted : 0)\n\tconst [successTargetChapter, setSuccessTargetChapter] = useState(choice ? choice.successTargetChapter : null)\n\tconst [failureTargetChapter, setFailureTargetChapter] = useState(choice ? choice.failureTargetChapter : null)\n\tconst [chapterList, setChapterList] = useState([])\n\n\tuseEffect(() => {\n\t\tChapterService.getChaptersFromGame(match.params.gameId).then(chapterList => {\n\t\t\tsetChapterList(chapterList)\n\t\t})\n\t}, [match.params.gameId, ChapterService])\n\n\tfunction createChoice(choice) {\n\t\tChoicesService.createChoice(choice).then(createdChoice => {\n\t\t\tfinishChoiceForm(createdChoice._id, idx, createdChoice)\n\t\t})\n\t}\n\n\tfunction updateChoice(choice) {\n\t\tChoicesService.updateChoice(choice).then(updatedChoice => {\n\t\t\ttoogleCard(idx)\n\t\t})\n\t}\n\n\tfunction submitForm(e) {\n\t\te.preventDefault()\n\t\tconst trial = { difficulty, characteristic }\n\t\tif (choice && simple) {\n\t\t\tchoice.trial = { difficulty: -10, characteristic: 'str' }\n\t\t\tchoice.description = description\n\t\t\tchoice.pxGranted = 0\n\t\t\tchoice.successTargetChapter = successTargetChapter\n\t\t\tchoice.failureTargetChapter = successTargetChapter\n\t\t\tupdateChoice(choice)\n\t\t} else if (choice) {\n\t\t\tchoice.trial = trial\n\t\t\tchoice.description = description\n\t\t\tchoice.pxGranted = pxGranted\n\t\t\tchoice.successTargetChapter = successTargetChapter\n\t\t\tchoice.failureTargetChapter = failureTargetChapter\n\t\t\tupdateChoice(choice)\n\t\t} else if (simple) {\n\t\t\tconst newChoice = {\n\t\t\t\tdescription,\n\t\t\t\ttrial: { difficulty: -10, characteristic: 'str' },\n\t\t\t\tpxGranted: 0,\n\t\t\t\tsuccessTargetChapter,\n\t\t\t\tfailureTargetChapter: successTargetChapter,\n\t\t\t}\n\t\t\tcreateChoice(newChoice)\n\t\t} else {\n\t\t\tconst newChoice = { description, trial, pxGranted, successTargetChapter, failureTargetChapter }\n\t\t\tcreateChoice(newChoice)\n\t\t}\n\t}\n\n\tfunction onChange(e) {\n\t\tconst { name, value } = e.currentTarget\n\t\tswitch (name) {\n\t\t\tcase 'description':\n\t\t\t\tsetDescription(value)\n\t\t\t\tbreak\n\t\t\tcase 'difficulty':\n\t\t\t\tsetDifficulty(value)\n\t\t\t\tbreak\n\t\t\tcase 'characteristic':\n\t\t\t\tsetCharacteristic(value)\n\t\t\t\tbreak\n\t\t\tcase 'pxGranted':\n\t\t\t\tsetPxGranted(value)\n\t\t\t\tbreak\n\t\t\tcase 'successTargetChapter':\n\t\t\t\tsetSuccessTargetChapter(value)\n\t\t\t\tbreak\n\t\t\tcase 'failureTargetChapter':\n\t\t\t\tsetFailureTargetChapter(value)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow Error('Algo ha ido mal con el formulario')\n\t\t}\n\t}\n\n\treturn (\n\t\t<ChoiceFormWrapper>\n\t\t\t<Row>\n\t\t\t\t<div\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcloseChoiceForm ? closeChoiceForm(idx) : toogleCard(idx)\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tborderRadius: '5px',\n\t\t\t\t\t\tpadding: '2px',\n\t\t\t\t\t\tmarginRight: '20px',\n\t\t\t\t\t\theight: '30px',\n\t\t\t\t\t\twidth: '30px',\n\t\t\t\t\t\tbackgroundColor: 'red',\n\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<i className='fas fa-times'></i>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tonClick={submitForm}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tborderRadius: '5px',\n\t\t\t\t\t\tpadding: '2px',\n\t\t\t\t\t\tmarginRight: '20px',\n\t\t\t\t\t\theight: '30px',\n\t\t\t\t\t\twidth: '30px',\n\t\t\t\t\t\tbackgroundColor: 'green',\n\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<i className='fas fa-check'></i>\n\t\t\t\t</div>\n\t\t\t</Row>\n\t\t\t<form onSubmit={submitForm} className='choiceForm'>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col4>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tDescribe la eleccin:\n\t\t\t\t\t\t\t<textarea id='description' name='description' onChange={onChange} value={description} placeholder='Fuerzo la puerta' />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</Col4>\n\t\t\t\t\t<Col4>\n\t\t\t\t\t\t{!simple && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\tQue dificultad tiene?\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid='difficulty'\n\t\t\t\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\t\t\t\tname='difficulty'\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\tvalue={difficulty}\n\t\t\t\t\t\t\t\t\t\tplaceholder='Fuerzo la puerta'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t{choice ? null : (\n\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\tDificultades de 10 son adecuadas para una persona media, 15 son para expertos y 20 para verdaderos prodgios.\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\tQu caracteristica es necesaria para superarla?\n\t\t\t\t\t\t\t\t\t<select id='characteristic' onChange={onChange} name='characteristic'>\n\t\t\t\t\t\t\t\t\t\t<option value='str'>Fuerza</option>\n\t\t\t\t\t\t\t\t\t\t<option value='des'>Destreza</option>\n\t\t\t\t\t\t\t\t\t\t<option value='agi'>Agilidad, velocidad</option>\n\t\t\t\t\t\t\t\t\t\t<option value='con'>Constitucin fsica</option>\n\t\t\t\t\t\t\t\t\t\t<option value='int'>Inteligencia</option>\n\t\t\t\t\t\t\t\t\t\t<option value='wis'>Sabidura</option>\n\t\t\t\t\t\t\t\t\t\t<option value='char'>Carisma</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Col4>\n\t\t\t\t\t<Col4>\n\t\t\t\t\t\t{!simple && (\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\tCuanta experiencia da el xito:\n\t\t\t\t\t\t\t\t<input id='pxGranted' name='pxGranted' onChange={onChange} value={pxGranted} placeholder='100' type='number' />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Col4>\n\t\t\t\t\t<Col4>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t{!simple ? 'Cap de destino con exito:' : 'Cap de destino'}\n\t\t\t\t\t\t\t<select id='successTargetChapter' name='successTargetChapter' onChange={onChange}>\n\t\t\t\t\t\t\t\t<option value='null'>Ninguno</option>\n\t\t\t\t\t\t\t\t{chapterList.map(chapter =>\n\t\t\t\t\t\t\t\t\tchapter._id === successTargetChapter ? (\n\t\t\t\t\t\t\t\t\t\t<option selected value={chapter._id}>\n\t\t\t\t\t\t\t\t\t\t\t{chapter.title}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<option value={chapter._id}>{chapter.title}</option>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t{!simple && (\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\tCap de destino con fracaso:\n\t\t\t\t\t\t\t\t<select id='failuterTargetChapter' as='select' name='failureTargetChapter' custom onChange={onChange}>\n\t\t\t\t\t\t\t\t\t<option value='null'>Ninguno</option>\n\t\t\t\t\t\t\t\t\t{chapterList.map(chapter =>\n\t\t\t\t\t\t\t\t\t\tchapter._id === failureTargetChapter ? (\n\t\t\t\t\t\t\t\t\t\t\t<option selected value={chapter._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{chapter.title}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<option value={chapter._id}>{chapter.title}</option>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Col4>\n\t\t\t\t</Row>\n\t\t\t</form>\n\t\t</ChoiceFormWrapper>\n\t)\n}\n\nexport default withRouter(ChoiceFormRow)\n","import React from \"react\";\nimport { Card } from \"react-bootstrap\";\nfunction ChoiceCard({ choice, idx, toogleCard, simple }) {\n  function returnCharacteristic(characteristic) {\n    let result;\n    switch (characteristic) {\n      case \"str\":\n        result = \"Fuerza\";\n        break;\n      case \"des\":\n        result = \"Destreza\";\n        break;\n      case \"agi\":\n        result = \"Agilidad, velocidad\";\n        break;\n      case \"con\":\n        result = \"Constitucin\";\n        break;\n      case \"wis\":\n        result = \"Sabidura\";\n        break;\n      case \"int\":\n        result = \"Inteligencia\";\n        break;\n      case \"char\":\n        result = \"Carisma\";\n        break;\n      default:\n        throw Error(\"algo fue mal con la card de la choice\");\n    }\n    return result;\n  }\n\n  return (\n    <Card>\n      <Card.Header onClick={() => toogleCard(idx)}>Editar</Card.Header>\n      <Card.Body\n        style={{\n          color: \"black\",\n          backgroundColor: choice.successTargetChapter && choice.failureTargetChapter ? \"rgba(0,255,127, 0.3)\" : \"rgba(255,165,0, 0.5)\",\n        }}\n      >\n        <p>{choice.description}</p>\n        {!simple && (\n          <>\n            <p>{returnCharacteristic(choice.trial.characteristic)}</p>\n            <p>{choice.trial.difficulty}</p>\n            <p>{choice.pxGranted}</p>\n          </>\n        )}\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default ChoiceCard;\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { Row, Col } from 'react-bootstrap'\nimport { Button } from '../shared/Buttons'\nimport ChoiceForm from '../Choice/ChoiceForm'\nimport ChoiceFormRow from '../Choice/ChoiceFormRow'\nimport ChoiceCard from '../Choice/ChoiceCard'\nimport chapterService from '../../services/chapter.service'\nimport { withRouter } from 'react-router-dom'\nimport CKEditor from '@ckeditor/ckeditor5-react'\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic'\nimport CenteredModal from '../utils/Modal'\nimport styled, { keyframes } from 'styled-components'\nimport CustomSpinner from '../shared/Spinner'\nconst ChapterService = new chapterService()\n\n//#region styles\n\nconst ChapterFormWrapper = styled.div`\n\tbackground-color: ${({ theme }) => theme.background.lightOverlay};\n\tpadding: 20px;\n\n\tinput[name='title'] {\n\t\twidth: 600px;\n\t}\n\n\tinput[type='checkbox'] {\n\t\tmargin: 0 10px;\n\t}\n\n\t.ck.ck-reset_all,\n\t.ck.ck-reset_all * {\n\t\tbackground-color: rgb(235, 235, 235);\n\t}\n\n\t.ck.ck-editor__main > .ck-editor__editable {\n\t\tbackground-color: rgb(235, 235, 235);\n\t\tcolor: black;\n\t}\n`\n\nconst EditorWrapper = styled.div``\n//#endregion styles\n\nfunction NewChapterForm(props) {\n\tconst { updateLastGames, match, chapter, getAllChapters, closeNewChapterForm, simple, setFetch } = props\n\tlet gameId = match.params.gameId\n\n\tconst [description, setDescription] = useState(chapter?.description || '')\n\tconst [choices, setChoices] = useState(chapter?.choices || [])\n\tconst [choicesObj, setChoicesObj] = useState([])\n\tconst [choiceForms, setChoiceForms] = useState([])\n\tconst [title, setTitle] = useState(chapter?.title || '')\n\tconst [last, setLast] = useState(!!chapter?.last)\n\tconst [ready, setReady] = useState(!!chapter)\n\n\tconst populateThisChapter = chapter => {\n\t\tsetTitle(chapter.title)\n\t\tsetDescription(chapter.description)\n\t\tsetChoicesObj(chapter.choices)\n\t\tsetChoices(chapter.choices.filter(choice => choice._id))\n\t\tsetLast(chapter.last)\n\t}\n\n\t//#region Form Manipulation\n\n\tfunction retrieveChoicesIds(id) {\n\t\tconst choicesCopy = [...choices]\n\t\tchoicesCopy.push(id)\n\t\tsetChoices(choicesCopy)\n\t}\n\n\tfunction createChoiceCard(choiceObj) {\n\t\tconst choicesObjCopy = [...choicesObj]\n\t\tchoicesObjCopy.push(choiceObj)\n\t\tsetChoicesObj(choicesObjCopy)\n\t}\n\n\tfunction finishChoiceForm(id, idx, choiceObj) {\n\t\tretrieveChoicesIds(id, idx)\n\t\tcreateChoiceCard(choiceObj)\n\t\tcloseChoiceForm(idx)\n\t}\n\n\tfunction closeChoiceForm(idx) {\n\t\tconst choiceFormsCopy = [...choiceForms]\n\t\tchoiceFormsCopy.splice(idx, 1)\n\t\tsetChoiceForms(choiceFormsCopy)\n\t}\n\n\tfunction submitForm(e) {\n\t\te.preventDefault()\n\t\tif (!description) return\n\t\tif (chapter) {\n\t\t\tupdateChapter({ _id: chapter._id, description, choices, title, last })\n\t\t} else {\n\t\t\tcreateChapter({ description, choices, gameId, title, last })\n\t\t}\n\t\tcloseNewChapterForm()\n\t}\n\n\tfunction addChoice() {\n\t\tconst choiceFormsCopy = [...choiceForms]\n\t\tchoiceFormsCopy.push(true)\n\t\tsetChoiceForms(choiceFormsCopy)\n\t}\n\n\tfunction toogleCard(idx) {\n\t\tconst choicesObjCopy = [...choicesObj]\n\t\tconst choiceCopy = { ...choicesObjCopy[idx] }\n\t\tchoiceCopy.show = !choicesObj[idx].show\n\t\tchoicesObjCopy.splice(idx, 1, choiceCopy)\n\t\tsetChoicesObj(choicesObjCopy)\n\t}\n\n\tfunction onChange(e) {\n\t\tconst { name, value, checked } = e.currentTarget\n\t\tswitch (name) {\n\t\t\tcase 'title':\n\t\t\t\tsetTitle(value)\n\t\t\t\tbreak\n\t\t\tcase 'last':\n\t\t\t\tconsole.log(checked)\n\t\t\t\tsetLast(checked)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow Error('Error onChange')\n\t\t}\n\t}\n\n\t//#endregion Form Manipulation\n\n\tfunction createChapter(chapter) {\n\t\tChapterService.createChapter(chapter)\n\t\t\t.then(createdChapter => {\n\t\t\t\tgetAllChapters()\n\t\t\t\tupdateLastGames()\n\t\t\t\tpopulateThisChapter(createdChapter)\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tfunction updateChapter(chapter) {\n\t\tChapterService.updateChapter(chapter)\n\t\t\t.then(updatedChapter => {\n\t\t\t\tupdateLastGames()\n\t\t\t\tpopulateThisChapter(updatedChapter)\n\t\t\t\tgetAllChapters()\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\treturn (\n\t\t<ChapterFormWrapper ready={ready}>\n\t\t\t{\n\t\t\t\t<>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input onChange={onChange} placeholder='Captulo #1.0 El comienzo' name='title' value={title} maxLength='230'></input>\n\t\t\t\t\t</label>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<small>Si es el ltimo captulo de la aventura, marca esta casilla:</small>\n\t\t\t\t\t\t\t<input onChange={onChange} name='last' checked={last} type='checkbox' />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='.ck-editor'>\n\t\t\t\t\t\t<EditorWrapper>\n\t\t\t\t\t\t\t<CKEditor\n\t\t\t\t\t\t\t\teditor={ClassicEditor}\n\t\t\t\t\t\t\t\tdata={description}\n\t\t\t\t\t\t\t\tplaceholder='El texto del capitulo va aqu'\n\t\t\t\t\t\t\t\tonInit={editor => {\n\t\t\t\t\t\t\t\t\t// You can store the \"editor\" and use when it is needed.\n\t\t\t\t\t\t\t\t\tconsole.log('Editor is ready to use!', editor)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(event, editor) => {\n\t\t\t\t\t\t\t\t\tconst data = editor.getData()\n\t\t\t\t\t\t\t\t\tsetDescription(data)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonBlur={(event, editor) => {\n\t\t\t\t\t\t\t\t\t// console.log('Blur.', editor)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFocus={(event, editor) => {\n\t\t\t\t\t\t\t\t\t// console.log('Focus.', editor)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</EditorWrapper>\n\t\t\t\t\t\t<div style={{ margin: '10px 0' }}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t{choicesObj.map((eachChoice, idx) => (\n\t\t\t\t\t\t\t\t\t<Col key={idx} lg={3}>\n\t\t\t\t\t\t\t\t\t\t{!eachChoice.show ? (\n\t\t\t\t\t\t\t\t\t\t\t<ChoiceCard toogleCard={toogleCard} choice={eachChoice} idx={idx} simple={simple} />\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<CenteredModal noHeader show={true}>\n\t\t\t\t\t\t\t\t\t\t\t\t<ChoiceForm simple={simple} toogleCard={toogleCard} choice={eachChoice} idx={idx} />\n\t\t\t\t\t\t\t\t\t\t\t</CenteredModal>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<div style={{ margin: '10px 0' }}>\n\t\t\t\t\t\t\t\t<Button text='Aadir eleccin' style={{ margin: '0 5px' }} onClick={addChoice} />\n\t\t\t\t\t\t\t\t<Button text={chapter ? 'Guardar cambios' : 'Crear captulo'} style={{ margin: '0 5px' }} onClick={submitForm} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{choiceForms.map((eachform, idx) => (\n\t\t\t\t\t\t\t<div key={idx}>{React.cloneElement(<ChoiceFormRow />, { idx, finishChoiceForm, closeChoiceForm, simple })}</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t}\n\t\t</ChapterFormWrapper>\n\t)\n}\n\nexport default withRouter(NewChapterForm)\n","import React, { useState, useEffect } from 'react'\nimport gameService from '../services/games.service'\nimport NewChapterForm from '../components/Chapter/NewChapterForm'\nimport chapterService from '../services/chapter.service'\nimport styled, { createGlobalStyle } from 'styled-components'\nimport { Button } from '../components/shared/Buttons'\nconst ChapterService = new chapterService()\nconst GameService = new gameService()\n\nconst List = styled.div`\n\tbackground-color: ${props => props.theme.background.modals};\n\tborder-radius: 2px;\n\ttransition: all 2s;\n`\n\nconst ListPoint = styled.div`\n\tborder-radius: 3px;\n\tbackground-color: ${props => props.theme.background.list};\n\tpadding: 15px;\n\tmargin-bottom: 15px;\n\ttransition: all 2s;\n\t&:hover {\n\t}\n`\n\nconst PointHeader = styled.div`\n\tcursor: pointer;\n`\n\n// const isOwner = (creatorId, userId) => creatorId === userId\n\nconst getAllChapters = id => ChapterService.getChaptersFromGame(id).then(allChapters => allChapters)\nconst RestaurateScroll = createGlobalStyle`\n    html, body {\n      overflow: auto\n    }\n  `\n\nfunction EditGame({ loggedInUser, updateLastGames, match }) {\n\tconst [allChapters, setallChapters] = useState(null)\n\tconst [showNewForm, setShowNewForm] = useState(false)\n\tconst [simple, setSimple] = useState(null)\n\tconst [fetch, setFetch] = useState(true)\n\n\tfunction expandChapter(idx) {\n\t\tconst allChaptersCopy = [...allChapters]\n\t\tconst chapterCopy = { ...allChaptersCopy[idx] }\n\t\tchapterCopy.show = !allChapters[idx].show\n\t\tallChaptersCopy.splice(idx, 1, chapterCopy)\n\t\tsetallChapters(allChaptersCopy)\n\t}\n\n\tuseEffect(() => {\n\t\tGameService.getOneGame(match.params.gameId).then(game => {\n\t\t\t// isOwner(game.creator, loggedInUser._id) && history.replace(`/read/${match.params.gameId}`)\n\t\t\tsetSimple(game.simple)\n\t\t})\n\t}, [match.params.gameId])\n\n\tuseEffect(() => {\n\t\tgetAllChapters(match.params.gameId).then(chapters => {\n\t\t\tconsole.log('pues me lanzo')\n\t\t\tsetallChapters(chapters)\n\t\t\tsetFetch(!fetch)\n\t\t})\n\t}, [match.params.gameId])\n\n\treturn (\n\t\t<>\n\t\t\t<RestaurateScroll />\n\n\t\t\t<List>\n\t\t\t\t{allChapters?.map((chapter, idx) => (\n\t\t\t\t\t<ListPoint key={idx}>\n\t\t\t\t\t\t<PointHeader active={chapter.show} onClick={() => expandChapter(idx)}>\n\t\t\t\t\t\t\tCaptulo {idx + 1}:\n\t\t\t\t\t\t</PointHeader>\n\t\t\t\t\t\t{chapter.show && (\n\t\t\t\t\t\t\t<NewChapterForm\n\t\t\t\t\t\t\t\tsimple={simple}\n\t\t\t\t\t\t\t\tchapter={chapter}\n\t\t\t\t\t\t\t\tgetAllChapters={getAllChapters}\n\t\t\t\t\t\t\t\tloggedInUser={loggedInUser}\n\t\t\t\t\t\t\t\tsetallChapters={setallChapters}\n\t\t\t\t\t\t\t></NewChapterForm>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ListPoint>\n\t\t\t\t))}\n\t\t\t</List>\n\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t<div style={{ margin: '10px 0' }}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => setShowNewForm(!showNewForm)}\n\t\t\t\t\t\t\ttext={allChapters ? 'Escribe un nuevo capitulo' : 'Escribe el primer captulo'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{showNewForm && (\n\t\t\t\t\t\t<NewChapterForm\n\t\t\t\t\t\t\tsimple={simple}\n\t\t\t\t\t\t\tfirst={!!!allChapters}\n\t\t\t\t\t\t\tcloseNewChapterForm={() => setShowNewForm(false)}\n\t\t\t\t\t\t\tgetAllChapters={getAllChapters}\n\t\t\t\t\t\t\tloggedInUser={loggedInUser}\n\t\t\t\t\t\t\tsetallChapters={setallChapters}\n\t\t\t\t\t\t></NewChapterForm>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default EditGame\n","import axios from \"axios\";\n\nclass characterService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/characters/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getCharactersFromUser(userId) {\n    return this.service\n      .get(`/?userId=${userId}`)\n      .then((res) => res.data.characters)\n      .catch((err) => console.log(err));\n  }\n\n  createCharacter(character) {\n    return this.service\n      .post(\"\", { character })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  assignCharacterToUser(userId, characterId) {\n    return this.service\n      .post(\"assign\", { userId, characterId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default characterService;\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport characterService from \"../../services/character.service\";\n\nfunction CharacterForm({ setCharacter, hideForm, setUser, loggedInUser }) {\n  const CharacterService = new characterService();\n  const [name, setName] = useState(\"\");\n  const [hp] = useState(100);\n  const [str, setStr] = useState(8);\n  const [des, setDes] = useState(8);\n  const [agi, setAgi] = useState(8);\n  const [con, setCon] = useState(8);\n  const [int, setInt] = useState(8);\n  const [wis, setWis] = useState(8);\n  const [char, setChar] = useState(8);\n  const [totalPoints, setTotalPoints] = useState(27);\n\n  function closeForm() {\n    setName(\"\");\n    hideForm();\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    const newCharacter = {\n      name,\n      hp,\n      str,\n      des,\n      agi,\n      con,\n      int,\n      wis,\n      char,\n    };\n\n    CharacterService.createCharacter(newCharacter).then((createdCharacter) => {\n      CharacterService.assignCharacterToUser(loggedInUser._id, createdCharacter._id).then((updatedUser) => {\n        setUser(updatedUser);\n      });\n      closeForm();\n    });\n  }\n\n  function onChange(e) {\n    const { name, value } = e.currentTarget;\n    let newTotal = totalPoints;\n    \n    if (name !== \"name\") {\n      newTotal = calculatePoints(name, value);\n    }\n    \n    if (newTotal >= 0) {\n      switch (name) {\n        case \"name\":\n          setName(value);\n          break;\n        case \"str\":\n          setStr(value);\n          break;\n        case \"des\":\n          setDes(value);\n          break;\n        case \"agi\":\n          setAgi(value);\n          break;\n        case \"con\":\n          setCon(value);\n          break;\n        case \"int\":\n          setInt(value);\n          break;\n        case \"wis\":\n          setWis(value);\n          break;\n        case \"char\":\n          setChar(value);\n          break;\n        default:\n          throw Error(\"Algo fue mal con el formulario\");\n      }\n      setTotalPoints(newTotal);\n    }\n  }\n\n  function calculatePoints(name, value) {\n    let total = 27;\n    const obj = { str, des, agi, con, int, wis, char };\n    obj[name] = value;\n    for (let key in obj) {\n      total = total - (obj[key] - 8);\n    }\n\n    return total;\n  }\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Form.Group controlId=\"name\">\n        <Form.Label>Nombre del personaje</Form.Label>\n        <Form.Control onChange={onChange} value={name} name=\"name\" type=\"text\" placeholder=\"Aragor, hijo de Arathorn\" />\n      </Form.Group>\n      {!totalPoints && (\n        <p>\n          <em>Has superado el mximo de puntos a repartir</em>\n        </p>\n      )}\n      <Form.Group controlId=\"str\">\n        <Form.Label>Fuerza</Form.Label>\n        <Form.Control onChange={onChange} value={str} name=\"str\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificacin al dado: {parseInt(str / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"des\">\n        <Form.Label>Destreza</Form.Label>\n        <Form.Control onChange={onChange} value={des} name=\"des\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificacin al dado: {parseInt(des / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"agi\">\n        <Form.Label>Agilidad, velocidad</Form.Label>\n        <Form.Control onChange={onChange} value={agi} name=\"agi\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificacin al dado: {parseInt(agi / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"con\">\n        <Form.Label>Constitucin fsica, fortaleza</Form.Label>\n        <Form.Control onChange={onChange} value={con} name=\"con\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificacin al dado: {parseInt(con / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"int\">\n        <Form.Label>Inteligencia</Form.Label>\n        <Form.Control onChange={onChange} value={int} name=\"int\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificacin al dado: {parseInt(int / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"wis\">\n        <Form.Label>Sabidura, astucia</Form.Label>\n        <Form.Control onChange={onChange} value={wis} name=\"wis\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificacin al dado: {parseInt(wis / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"char\">\n        <Form.Label>Carisma</Form.Label>\n        <Form.Control onChange={onChange} value={char} name=\"char\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificacin al dado: {parseInt(char / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\">\n        Crear\n      </Button>\n    </Form>\n  );\n}\n\nexport default CharacterForm;\n","import React from 'react'\nimport { Button } from '../shared/Buttons'\nimport styled from 'styled-components'\n\nfunction CharacterList({ characters, onClick }) {\n\tconst CustomLi = styled.li`\n\t\tmargin: 15px 0;\n\t`\n\n\treturn characters.length ? (\n\t\t<ul>\n\t\t\t{characters.map(char => {\n\t\t\t\treturn !char.name.includes('Simple Game') ? (\n\t\t\t\t\t<CustomLi>\n\t\t\t\t\t\t<Button text={`${char.name}. Nivel: ${char.level}`} onClick={onClick ? () => onClick(char._id) : null} />\n\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\tFue: {char.str} Des: {char.des} Agi: {char.agi} Int: {char.int} Sab: {char.wis} Car: {char.char}\n\t\t\t\t\t\t</small>\n\t\t\t\t\t</CustomLi>\n\t\t\t\t) : null\n\t\t\t})}\n\t\t</ul>\n\t) : (\n\t\t<div>\n\t\t\t<p>An no tienes personajes creados.</p>\n\t\t</div>\n\t)\n}\n\nexport default CharacterList\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport CharacterForm from \"../Character/CharacterForm\";\nimport CharacterList from \"../Character/CharacterList\";\nimport savedGamesService from \"../../services/savedGames.service\";\nimport chapterService from \"../../services/chapter.service\";\n\nfunction NewSaveGame({ loggedInUser, setUser, match, updateSavedGames, history }) {\n  const ChapterService = new chapterService();\n  const SavedGamesService = new savedGamesService();\n  const [, setCharacter] = useState(null);\n  const [showForm, setShowForm] = useState(false);\n\n  function toogleForm() {\n    setShowForm(!showForm);\n  }\n\n  function newSave(chosenCharacter) {\n    ChapterService.getChaptersFromGame(match.params.gameId)\n      .then((chapters) => {\n        return SavedGamesService.createSavedGame({\n          gameId: match.params.gameId,\n          currentChapter: chapters[0]._id,\n          character: chosenCharacter,\n        });\n      })\n      .then((savedGame) => {\n        updateSavedGames(savedGame);\n        history.push(`/chapter/${savedGame._id}`);\n        return SavedGamesService.assignSaveToUser(loggedInUser._id, savedGame._id);\n      })\n      .then((updatedUser) => {\n        setUser(updatedUser);\n      });\n  }\n  console.log(loggedInUser.characters.length);\n  return (\n    <>\n      <h3>Elige un personaje para jugar: </h3>\n      {loggedInUser.characters.length > 0 && <CharacterList onClick={newSave} characters={loggedInUser.characters} />}\n      <button onClick={toogleForm}>Tambin puedes crear un nuevo personaje</button>\n      {showForm && <CharacterForm hideForm={toogleForm} setUser={setUser} loggedInUser={loggedInUser} setCharacter={setCharacter} />}\n    </>\n  );\n}\n\nexport default withRouter(NewSaveGame);\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Dropdown } from 'react-bootstrap'\nimport { Button } from '../shared/Buttons'\n\nfunction StartPlayingButton(props) {\n\tconst { game, savedGames, loggedInUser } = props\n\treturn !game ? (\n\t\t<p>Loading game</p>\n\t) : props.noUser ? (\n\t\t<section>\n\t\t\t<article>\n\t\t\t\t<h1>{game.title}</h1>\n\t\t\t\t<p>{game.description}</p>\n\t\t\t\tPara jugar, registrate.\n\t\t\t</article>\n\t\t</section>\n\t) : (\n\t\t<section>\n\t\t\t<article>\n\t\t\t\t<h1>{game.title}</h1>\n\t\t\t\t<p>{game.description}</p>\n\t\t\t\t{loggedInUser ? (\n\t\t\t\t\tsavedGames.length === 0 ? (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p>Haz click en un personaje para empezar a jugar</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Dropdown>\n\t\t\t\t\t\t\t\t<Dropdown.Toggle variant='success' id='dropdown-basic'>\n\t\t\t\t\t\t\t\t\t<Button text='Continua la aventura' />\n\t\t\t\t\t\t\t\t</Dropdown.Toggle>\n\n\t\t\t\t\t\t\t\t<Dropdown.Menu>\n\t\t\t\t\t\t\t\t\t{savedGames.map(save => {\n\t\t\t\t\t\t\t\t\t\treturn !save.finished ? (\n\t\t\t\t\t\t\t\t\t\t\t<Link to={`/chapter/${save._id}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item disabled>{save.character.name}</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t\t<Dropdown>\n\t\t\t\t\t\t\t\t<Dropdown.Toggle variant='success' id='dropdown-basic'>\n\t\t\t\t\t\t\t\t\t<Button text='Partidas terminadas' />\n\t\t\t\t\t\t\t\t</Dropdown.Toggle>\n\n\t\t\t\t\t\t\t\t<Dropdown.Menu>\n\t\t\t\t\t\t\t\t\t{savedGames.map(save => {\n\t\t\t\t\t\t\t\t\t\treturn save.finished ? (\n\t\t\t\t\t\t\t\t\t\t\t<Link to={`/finished/${save._id}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item disabled>{save.character.name}</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t) : (\n\t\t\t\t\t<Button disabled={true}>Continuar la aventura</Button>\n\t\t\t\t)}\n\t\t\t</article>\n\t\t</section>\n\t)\n}\n\nexport default StartPlayingButton\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Dropdown } from 'react-bootstrap'\nimport { Button } from '../shared/Buttons'\nimport savedGamesService from '../../services/savedGames.service'\nimport chapterService from '../../services/chapter.service'\nimport characterService from '../../services/character.service'\nimport { withRouter } from 'react-router-dom'\nconst CharacterService = new characterService()\nconst SavedGamesService = new savedGamesService()\nconst ChapterService = new chapterService()\n\nfunction SimpleStartPlaying(props) {\n\tconst { game, savedGames, loggedInUser, setUser, updateSavedGames, history, match } = props\n\n\tfunction createCharAndSave() {\n\t\tconst name = `Simple Game ${savedGames.length + 1}`\n\n\t\tCharacterService.createCharacter({\n\t\t\tname,\n\t\t\thp: 1000,\n\t\t\tstr: 100,\n\t\t\tdes: 100,\n\t\t\tagi: 100,\n\t\t\tcon: 100,\n\t\t\tint: 100,\n\t\t\twis: 100,\n\t\t\tchar: 100,\n\t\t}).then(char => {\n\t\t\treturn CharacterService.assignCharacterToUser(loggedInUser._id, char._id).then(_ => newSave(char._id))\n\t\t})\n\t}\n\tfunction newSave(chosenCharacter) {\n\t\tChapterService.getChaptersFromGame(match.params.gameId)\n\t\t\t.then(chapters => {\n\t\t\t\treturn SavedGamesService.createSavedGame({\n\t\t\t\t\tgameId: match.params.gameId,\n\t\t\t\t\tcurrentChapter: chapters[0]._id,\n\t\t\t\t\tcharacter: chosenCharacter,\n\t\t\t\t})\n\t\t\t})\n\t\t\t.then(savedGame => {\n\t\t\t\tupdateSavedGames(savedGame)\n\t\t\t\thistory.push(`/chapter/${savedGame._id}`)\n\t\t\t\treturn SavedGamesService.assignSaveToUser(loggedInUser._id, savedGame._id)\n\t\t\t})\n\t\t\t.then(updatedUser => {\n\t\t\t\tsetUser(updatedUser)\n\t\t\t})\n\t}\n\tfunction startGame() {\n\t\tcreateCharAndSave()\n\t}\n\n\treturn !game && (!loggedInUser || props.noUser) ? (\n\t\t<p>Loading game</p>\n\t) : props.noUser ? (\n\t\t<section>\n\t\t\t<article>\n\t\t\t\t<h1>{game.title}</h1>\n\t\t\t\t<p>{game.description}</p>\n\t\t\t\tPara jugar, registrate.\n\t\t\t</article>\n\t\t\tcreateAndAssignCharacter\n\t\t</section>\n\t) : (\n\t\t<section>\n\t\t\t<article>\n\t\t\t\t<h1>{game.title}</h1>\n\t\t\t\t<p>{game.description}</p>\n\n\t\t\t\t{loggedInUser ? (\n\t\t\t\t\tgame.chapters.length === 0 ? (\n\t\t\t\t\t\t<Button text='An no tiene ningn capitulo' disabled={true} onClick={startGame} />\n\t\t\t\t\t) : savedGames.length === 0 ? (\n\t\t\t\t\t\t<Button text='Comienza la partida' onClick={startGame} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Dropdown>\n\t\t\t\t\t\t\t\t<Dropdown.Toggle variant='transparent' id='dropdown-basic'>\n\t\t\t\t\t\t\t\t\t<Button text='Continua la aventura' />\n\t\t\t\t\t\t\t\t</Dropdown.Toggle>\n\n\t\t\t\t\t\t\t\t<Dropdown.Menu style={{ backgroundColor: 'rgba(40,40,40)' }} variant='transparent'>\n\t\t\t\t\t\t\t\t\t{savedGames.map(save => (\n\t\t\t\t\t\t\t\t\t\t<Link to={`/chapter/${save._id}`}>\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item as={'div'}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button text={save.character.name} />\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t<Dropdown.Divider />\n\t\t\t\t\t\t\t\t\t<Dropdown.Item as={'div'}>\n\t\t\t\t\t\t\t\t\t\t<Button text={'Comienza una nueva aventura'} onClick={startGame}></Button>\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t) : (\n\t\t\t\t\t<Button text='Continuar la aventura' disabled={true}></Button>\n\t\t\t\t)}\n\t\t\t</article>\n\t\t</section>\n\t)\n}\n\nexport default withRouter(SimpleStartPlaying)\n","import React, { useContext } from \"react\";\n\nimport { withRouter } from \"react-router-dom\";\nimport UserContext from \"../../UserContext\";\n\nimport StartPlayingButton from \"./StartPlayingButton\";\nimport SimpleStartPlaying from \"./SimpleStartPlaying\";\nfunction GameBriefing(props) {\n  const { game, savedGames, simple, updateSavedGames, setUser, noUser } = props;\n  const loggedInUser = useContext(UserContext);\n\n  return simple ? (\n    <SimpleStartPlaying\n      noUser={noUser}\n      updateSavedGames={updateSavedGames}\n      setUser={setUser}\n      loggedInUser={loggedInUser}\n      game={game}\n      savedGames={savedGames}\n    />\n  ) : (\n    <StartPlayingButton noUser={noUser} loggedInUser={loggedInUser} game={game} savedGames={savedGames} />\n  );\n}\n\nexport default withRouter(GameBriefing);\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router'\nimport gamesService from '../services/games.service'\nimport savedGamesService from '../services/savedGames.service'\nimport NewSaveGame from '../components/Game/NewSaveGame'\nimport GameBriefing from '../components/Game/GameBriefing'\nimport { Row, Col } from 'react-bootstrap'\nconst GamesService = new gamesService()\nconst SavedGamesService = new savedGamesService()\n\nfunction GameOverView(props) {\n\tconst { match, loggedInUser, setUser } = props\n\tconst gameId = match.params.gameId\n\tconst [game, setGame] = useState(null)\n\tconst [savedGames, setSavedGames] = useState([])\n\n\tuseEffect(() => {\n\t\tGamesService.getOneGame(props.match.params.gameId).then(game => setGame(game))\n\t\tloggedInUser && SavedGamesService.getUserSaves(loggedInUser._id, gameId).then(savedGames => setSavedGames(savedGames))\n\t}, [props.match.params.gameId, loggedInUser, gameId])\n\n\tfunction updateSavedGames(newSave) {\n\t\tconst savedGamesCopy = [...savedGames]\n\t\tsavedGamesCopy.push(newSave)\n\t\tsetSavedGames(savedGamesCopy)\n\t}\n\n\treturn props.noUser ? (\n\t\t<GameBriefing game={game} noUser={props.noUser} />\n\t) : !game ? (\n\t\t<>Loading</>\n\t) : game.simple ? (\n\t\t<GameBriefing simple updateSavedGames={updateSavedGames} setUser={setUser} game={game} savedGames={savedGames} />\n\t) : (\n\t\t<Row style={{ justifyContent: 'space-between' }}>\n\t\t\t<Col lg={5}>\n\t\t\t\t<NewSaveGame updateSavedGames={updateSavedGames} setUser={setUser} loggedInUser={loggedInUser} />\n\t\t\t</Col>\n\t\t\t<Col lg={5}>\n\t\t\t\t<GameBriefing game={game} savedGames={savedGames} />\n\t\t\t</Col>\n\t\t</Row>\n\t)\n}\n\nexport default withRouter(GameOverView)\n","import axios from \"axios\";\n\nclass characterChoicesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/characterChoices/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  makeChoice(saveId, choiceId, characterId) {\n    return this.service\n      .post(`/makeChoice`, { saveId, choiceId, characterId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default characterChoicesService;\n","import React from \"react\";\nimport Spritesheet from \"react-responsive-spritesheet\";\nimport useSound from \"use-sound\";\nimport styled from \"styled-components\";\n\nconst AnimationWrapper = styled.div`\n  position: absolute;\n  width: 360px;\n  height: 360px;\n  left: calc(50% - 360px);\n  top: 50%;\n`;\n\nfunction DiceAnimation(props) {\n  const { hideAnimation, sprite, sound } = props;\n  const [playDice] = useSound(sound);\n\n  return (\n    <AnimationWrapper>\n      <Spritesheet\n        className={`my-element__class--style`}\n        image={sprite}\n        widthFrame={320}\n        heightFrame={180}\n        steps={12}\n        fps={10}\n        autoplay={true}\n        loop={false}\n        endAt={12}\n        backgroundSize=\"cover\"\n        backgroundPosition=\"center center\"\n        onPlay={(spritesheet) => {\n          console.log(\"init\");\n          playDice();\n        }}\n        onPause={(spritesheet) => {\n          setTimeout(() => {\n            hideAnimation();\n          }, 1000);\n        }}\n      />\n    </AnimationWrapper>\n  );\n}\n\nexport default DiceAnimation;\n","import React from \"react\";\n\nfunction ChoicesList({ choices, makeChoice = () => {} }) {\n  return choices.map((choice) => {\n    return choice.successTargetChapter && choice.failureTargetChapter ? (\n      <button onClick={makeChoice} id={choice._id}>\n        {choice.description}\n      </button>\n    ) : (\n      <button disabled onClick={makeChoice} id={choice._id}>\n        {choice.description}\n      </button>\n    );\n  });\n}\n\nexport default ChoicesList;\n","import React, { useState } from \"react\";\nimport characterChoicesService from \"../../services/characterChoices.service\";\nimport { withRouter } from \"react-router-dom\";\nimport DiceAnimation from \"./DiceAnimation\";\nimport ChoicesList from \"../Choice/ChoicesList\";\nimport r01 from \"./assets/diceSprites/r01.png\";\nimport r02 from \"./assets/diceSprites/r02.png\";\nimport r03 from \"./assets/diceSprites/r03.png\";\nimport r04 from \"./assets/diceSprites/r04.png\";\nimport r05 from \"./assets/diceSprites/r01.png\";\nimport r06 from \"./assets/diceSprites/r01.png\";\nimport r07 from \"./assets/diceSprites/r07.png\";\nimport r08 from \"./assets/diceSprites/r08.png\";\nimport r09 from \"./assets/diceSprites/r09.png\";\nimport r10 from \"./assets/diceSprites/r10.png\";\nimport r11 from \"./assets/diceSprites/r11.png\";\nimport r12 from \"./assets/diceSprites/r12.png\";\nimport r13 from \"./assets/diceSprites/r13.png\";\nimport r14 from \"./assets/diceSprites/r14.png\";\nimport r15 from \"./assets/diceSprites/r15.png\";\nimport r16 from \"./assets/diceSprites/r16.png\";\nimport r17 from \"./assets/diceSprites/r17.png\";\nimport r18 from \"./assets/diceSprites/r18.png\";\nimport r19 from \"./assets/diceSprites/r19.png\";\nimport r20 from \"./assets/diceSprites/r20.png\";\nimport rollSound from \"./assets/diceRoll.mp3\";\nconst rollSprites = {\n  \"1\": r01,\n  \"2\": r02,\n  \"3\": r03,\n  \"4\": r04,\n  \"5\": r05,\n  \"6\": r06,\n  \"7\": r07,\n  \"8\": r08,\n  \"9\": r09,\n  \"10\": r10,\n  \"11\": r11,\n  \"12\": r12,\n  \"13\": r13,\n  \"14\": r14,\n  \"15\": r15,\n  \"16\": r16,\n  \"17\": r17,\n  \"18\": r18,\n  \"19\": r19,\n  \"20\": r20,\n};\n\nfunction Chapter(props) {\n  const CharacterChoiceService = new characterChoicesService();\n  const { currentChapter, character } = props.game;\n  const [sprite, setSprite] = useState(null);\n  const [showAnimation, setShowAnimation] = useState(false);\n  function makeChoice(e) {\n    CharacterChoiceService.makeChoice(props.game._id, e.currentTarget.id, character._id).then((result) => {\n      setSprite(rollSprites[result.roll]);\n      setShowAnimation(true);\n      // setTimeout(() => {\n      props.updateChapterOnSave();\n      // }, 6000);\n    });\n  }\n\n  return (\n    <div>\n      {showAnimation && <DiceAnimation sprite={sprite} sound={rollSound} hideAnimation={() => setShowAnimation(false)} />}\n      <div dangerouslySetInnerHTML={{ __html: currentChapter.description }}></div>\n      <ChoicesList makeChoice={makeChoice} choices={currentChapter.choices} />\n    </div>\n  );\n}\n\nexport default withRouter(Chapter);\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport savedGamesService from '../services/savedGames.service'\nimport Chapter from '../components/Chapter/Chapter'\nimport { Spinner } from 'react-bootstrap'\nconst SavedGamesService = new savedGamesService()\n\nfunction ChapterWrapper(props) {\n\tconst { match } = props\n\n\tconst [savedGame, setSavedGame] = useState(null)\n\tconst [ready, setReady] = useState(false)\n\n\tuseEffect(() => {\n\t\t//Not sure if this is good practice for removing the warning...\n\t\tconst update = () =>\n\t\t\tSavedGamesService.getFullSave(match.params.savedGameId).then(savedGame => {\n\t\t\t\tsetSavedGame(savedGame)\n\t\t\t\tsetReady(true)\n\t\t\t})\n\t\tupdate()\n\t}, [match.params.savedGameId])\n\n\tfunction updateChapterOnSave() {\n\t\tSavedGamesService.getFullSave(match.params.savedGameId).then(savedGame => {\n\t\t\tif (savedGame.currentChapter.last) {\n\t\t\t\tsavedGame.finished = true\n\t\t\t\tSavedGamesService.updateSavedGame({ savedGameId: match.params.savedGameId, finished: true })\n\t\t\t}\n\t\t\tsetSavedGame(savedGame)\n\t\t\tsetReady(true)\n\t\t})\n\t}\n\n\treturn ready ? (\n\t\tsavedGame.currentChapter ? (\n\t\t\t<Chapter updateChapterOnSave={updateChapterOnSave} game={savedGame} />\n\t\t) : (\n\t\t\t<div>\n\t\t\t\t<p>Esta aventura an no tiene capitulos.</p>\n\t\t\t</div>\n\t\t)\n\t) : (\n\t\t<Spinner />\n\t)\n}\n\nexport default withRouter(ChapterWrapper)\n","import React, { useEffect, useContext, useState } from 'react'\nimport GameCard from '../components/Game/GameCard'\nimport { Row, Col } from 'react-bootstrap'\nimport gamesService from '../services/games.service'\nimport UserContext from '../UserContext'\nimport CustomSpinner from '../components/shared/Spinner'\nconst GamesService = new gamesService()\n\nfunction MyCreatedGames(props) {\n\tconst loggedInUser = useContext(UserContext)\n\tconst [createdGames, setCreatedGames] = useState(null)\n\tconst [ready, setReady] = useState(false)\n\n\tuseEffect(() => {\n\t\tGamesService.getOwnedGames(loggedInUser._id).then(games => {\n\t\t\tsetCreatedGames(games || null)\n\t\t\tsetReady(true)\n\t\t})\n\t}, [loggedInUser._id])\n\n\treturn (\n\t\t<Row>\n\t\t\t{ready ? (\n\t\t\t\tcreatedGames?.map(game => (\n\t\t\t\t\t<Col lg={3}>\n\t\t\t\t\t\t<GameCard game={game} />\n\t\t\t\t\t</Col>\n\t\t\t\t)) || <p>An no tienes historias en juego.</p>\n\t\t\t) : (\n\t\t\t\t<CustomSpinner />\n\t\t\t)}\n\t\t</Row>\n\t)\n}\n\nexport default MyCreatedGames\n","import React, { useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport savedGamesService from '../services/savedGames.service'\nimport chapterService from '../services/chapter.service'\nconst SavedGamesService = new savedGamesService()\nconst ChapterService = new chapterService()\n\nfunction FinishedGame(props) {\n\tuseEffect(() => {\n\t\tSavedGamesService.getFullSave(props.match.params.saveId).then(save => {\n\t\t\tconst chaptersPromise = save.choicesTree.map(choice => {\n\t\t\t\tconst target = choice.didSuccess ? choice.choice.successTargetChapter : choice.choice.failureTargetChapter\n\t\t\t\treturn ChapterService.getChapter(target).then(chapter => chapter)\n\t\t\t})\n\n\t\t\tPromise.all(chaptersPromise)\n\t\t\t\t.then(chaptersTravelled => {})\n\t\t\t\t.catch(err => console.log(err))\n\t\t})\n\t}, [props.match.params.saveId])\n\treturn <div></div>\n}\n\nexport default withRouter(FinishedGame)\n","export const darkTheme = {\n\tbackground: {\n\t\tgeneral: 'rgba(0,0,0, 0.9)',\n\t\tsemiSolid: 'rgba(0, 0, 0, 0.7)',\n\t\tsolid: 'rgba(25,25,25, 1)',\n\t\tlight: 'rgba(240, 240, 240, 0.9)',\n\t\tmodals: 'rgba(40, 40, 40, 1)',\n\t\tlist: 'rgba(70, 70, 70, 1)',\n\t\toverlay: 'rgba(255, 255, 255, 0.1)',\n\t\tlightOverlay: 'rgba(255, 255, 255, 0.01)',\n\t},\n\tcolors: {\n\t\tlight: 'rgba(240, 240, 240, 0.9)',\n\t\tgeneral: 'rgb(200, 200, 200)',\n\t},\n\tsizes: {\n\t\tnavBarHeight: '60px',\n\t\tgetFullMain: function () {\n\t\t\treturn `calc(100vh - ${this.navBarHeight})`\n\t\t},\n\t},\n}\n","import React from \"react\";\n\nfunction CharacterSummary({ character }) {\n  return character ? (\n    <div>\n      <h5>{character.name}</h5>\n      <p>Level: {character.level}</p>\n      <p>Experience: {character.exp}</p>\n      <small>\n        Fue: {character.str} Des: {character.des} Agi: {character.agi} Int: {character.int} Sab: {character.wis} Car: {character.char}\n      </small>\n    </div>\n  ) : null;\n}\n\nexport default CharacterSummary;\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport CharacterList from '../components/Character/CharacterList'\nimport CenteredModal from '../components/utils/Modal'\nimport CharacterSummary from '../components/Character/CharacterSummary'\n\nconst Section = styled.section``\n\nfunction MyCharacters({ characters }) {\n\tconst [show, setShow] = useState(false)\n\tconst [charShown, setCharShown] = useState(null)\n\n\tconst openModal = id => {\n\t\tconst chosedChar = characters.find(char => char._id === id)\n\t\tsetCharShown(chosedChar)\n\t\tsetShow(true)\n\t}\n\n\tconst closeModal = () => setShow(false)\n\n\treturn (\n\t\t<Section>\n\t\t\t<CharacterList onClick={openModal} characters={characters} />\n\t\t\t<CenteredModal noHeader onHide={closeModal} show={show}>\n\t\t\t\t<CharacterSummary character={charShown} />\n\t\t\t</CenteredModal>\n\t\t</Section>\n\t)\n}\n\nexport default MyCharacters\n","//#region IMPORTS\nimport React, { useEffect, useState } from 'react'\nimport './App.css'\nimport { Switch, Route } from 'react-router-dom'\nimport { Container } from 'react-bootstrap'\nimport Navbar from './layout/Navbar'\nimport Home from './views/Home'\nimport LastGames from './views/LastGames'\nimport MyGames from './views/MyGames'\nimport authService from './services/auth.service'\nimport LoginForm from './components/Auth/LoginForm'\nimport SignupForm from './components/Auth/SignupForm'\nimport CenteredModal from './components/utils/Modal'\nimport NewGame from './views/NewGame'\nimport EditGame from './views/EditGame'\nimport GameOverview from './views/GameOverView'\nimport ChapterWrapper from './views/ChapterWrapper'\nimport MyCreatedGames from './views/MyCreatedGames'\nimport FinishedGame from './views/FinishedGame'\nimport { ThemeProvider, createGlobalStyle } from 'styled-components'\nimport { UserProvider } from './UserContext'\nimport { darkTheme } from './themeContext'\nimport MyCharacters from './views/MyCharacters'\n\n//#endregion IMPORTS\nconst AuthService = new authService()\n\nconst GlobalStyle = createGlobalStyle`\n\t\t* {\n\t\t\tfont-family: \"Special Elite\"\n\t\t}\n    body {\n      color: ${darkTheme.colors.general};\n      background-color: ${darkTheme.background.general};\n    }\n\n\t\tmain {\n\t\t\tpadding: 50px 90px;\n\t\t}\n\t\t\n    a {\n      color: #eee;\n    }\n    a:hover {\n      color: #eee;\n      text-decoration: none;\n    }\n\n\t\tinput {\n\t\t\tbackground-color: rgb(235, 235, 235);\n\t\t}\n`\n\nfunction App() {\n\tconst [loginModal, setloginModal] = useState(false)\n\tconst [signupModal, setSignupModal] = useState(false)\n\tconst [loggedInUser, setloggedInUser] = useState(false)\n\n\tfunction logout() {\n\t\tAuthService.logout().then(() => setloggedInUser(null))\n\t}\n\n\tfunction setUser(user) {\n\t\tsetloggedInUser(user)\n\t}\n\n\tuseEffect(() => {\n\t\tif (loggedInUser === false) {\n\t\t\tAuthService.loggedin().then(user => {\n\t\t\t\tif (user) setloggedInUser(user)\n\t\t\t\telse setloggedInUser(null)\n\t\t\t})\n\t\t}\n\t\treturn () => {}\n\t}, [loggedInUser])\n\n\treturn (\n\t\t<Switch>\n\t\t\t<ThemeProvider theme={darkTheme}>\n\t\t\t\t<UserProvider value={loggedInUser}>\n\t\t\t\t\t<GlobalStyle />\n\t\t\t\t\t<Navbar\n\t\t\t\t\t\tlogout={logout}\n\t\t\t\t\t\tshowSignup={() => setSignupModal(true)}\n\t\t\t\t\t\tshowLogin={() => setloginModal(true)}\n\t\t\t\t\t\tloggedInUser={loggedInUser}\n\t\t\t\t\t/>\n\t\t\t\t\t<main>\n\t\t\t\t\t\t<Route exact path='/' render={() => <Home showLogin={setloginModal} />} />\n\t\t\t\t\t\t<Route exact path='/lastGames' render={() => <LastGames loggedInUser={loggedInUser} />} />\n\t\t\t\t\t\t{loggedInUser ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Route exact path='/myGames' render={() => <MyGames loggedInUser={loggedInUser} />} />\n\t\t\t\t\t\t\t\t<Route exact path='/myCreatedGames' render={() => <MyCreatedGames loggedInUser={loggedInUser} />} />\n\t\t\t\t\t\t\t\t<Route exact path='/newGame' render={() => <NewGame loggedInUser={loggedInUser} />} />\n\t\t\t\t\t\t\t\t<Route exact path='/myCharacters' render={() => <MyCharacters characters={loggedInUser.characters} />} />\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tpath='/modify/:gameId'\n\t\t\t\t\t\t\t\t\trender={({ match, history }) => <EditGame history={history} match={match} loggedInUser={loggedInUser} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Route exact path='/chapter/:savedGameId' render={() => <ChapterWrapper />} />\n\t\t\t\t\t\t\t\t<Route exact path='/read/:gameId' render={() => <GameOverview setUser={setUser} loggedInUser={loggedInUser} />} />\n\t\t\t\t\t\t\t\t<Route exact path='/finished/:saveId' render={() => <FinishedGame loggedInUser={loggedInUser} />} />\n\n\t\t\t\t\t\t\t\t{/* <Route exact path=\"/flowchart/:gameId\" render={() => <GameFlowChart />} /> */}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Route exact path='/read/:gameId' render={() => <GameOverview noUser setUser={setUser} loggedInUser={loggedInUser} />} />\n\t\t\t\t\t\t\t\t<CenteredModal title={'Login'} show={loginModal} onHide={() => setloginModal(false)}>\n\t\t\t\t\t\t\t\t\t<LoginForm setUser={setUser} />\n\t\t\t\t\t\t\t\t</CenteredModal>\n\t\t\t\t\t\t\t\t<CenteredModal title={'Signup'} show={signupModal} onHide={() => setSignupModal(false)}>\n\t\t\t\t\t\t\t\t\t<SignupForm setUser={setUser} />\n\t\t\t\t\t\t\t\t</CenteredModal>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</main>\n\t\t\t\t</UserProvider>\n\t\t\t</ThemeProvider>\n\t\t</Switch>\n\t)\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Route path=\"/\" render={(match) => <App {...match} />} />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/r01.66469ed4.png\";","module.exports = __webpack_public_path__ + \"static/media/playingTable.e9c5973e.png\";","module.exports = __webpack_public_path__ + \"static/media/d6book.f2700073.svg\";","module.exports = __webpack_public_path__ + \"static/media/d20.32c11da5.svg\";","module.exports = __webpack_public_path__ + \"static/media/invertedlogo.9e69b76b.png\";"],"sourceRoot":""}