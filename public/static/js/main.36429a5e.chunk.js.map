{"version":3,"sources":["layout/Navbar.jsx","views/LastGames.jsx","views/MyGames.jsx","services/games.service.js","services/auth.service.js","components/Buttons.js","components/Auth/LoginForm.jsx","components/Auth/SignupForm.jsx","components/utils/Modal.jsx","components/Game/NewGameForm.jsx","components/Images.js","components/Game/ModeSelect.jsx","views/NewGame.jsx","services/choices.service.js","services/chapter.service.js","components/Choice/ChoiceForm.jsx","components/Choice/ChoiceFormRow.jsx","components/Choice/ChoiceCard.jsx","components/Chapter/NewChapterForm.jsx","views/EditChapters.jsx","services/savedGames.service.js","services/character.service.js","components/Character/CharacterForm.jsx","components/Character/CharacterList.jsx","components/Game/NewSaveGame.jsx","UserContext.js","components/Game/GameBriefing.jsx","views/GameOverView.jsx","services/characterChoices.service.js","components/Chapter/Chapter.jsx","views/ChapterWrapper.jsx","components/utils/GameFlowchart.jsx","themeContext.js","App.js","serviceWorker.js","index.js","components/Game/assets/d6book.svg","components/Game/assets/d20.svg","views/assets/playingTable.png"],"names":["CustomNavbar","loggedInUser","showLogin","showSignup","logout","StyledNavbar","styled","Navbar","props","theme","colors","light","background","semiSolid","modals","Spinner","Nav","style","width","Item","Link","as","NavLink","to","className","onClick","justifyContent","NavDropdown","title","id","drop","eventKey","Divider","MainsSectionWrapper","section","lightOverlay","upwardTransition","keyframes","imgTransition","Background","img","MainSection","article","appear","Title","h1","general","GameCard","div","overlay","LastGames","games","useState","preloadSet","setPreloadSet","useEffect","mainBackgroundPreload","document","createElement","rel","href","playingTable","d6Prefetch","d20Prefetch","D6","D20","head","append","overflow","src","map","game","idx","_id","creator","key","minLevel","description","slice","MyGames","Container","Row","Col","lg","gamesService","this","baseURL","process","service","axios","create","withCredentials","get","then","res","data","catch","err","console","log","gamesFound","simple","post","createdGame","authService","timeout","timeoutErrorMessage","username","email","password","response","status","code","error","message","Button","StyledButton","button","text","SmallButton","LoginForm","setUser","onHide","AuthService","setUsername","setEmail","setPassword","onChange","e","currentTarget","name","value","Error","Form","onSubmit","preventDefault","login","Group","controlId","Label","Control","type","placeholder","Text","SignupForm","signup","variant","CenteredModal","show","children","ThemeModal","Modal","dialogAs","size","aria-labelledby","centered","autoFocus","Header","closeButton","Body","cloneElement","withRouter","updateLastGames","history","GamesService","setTitle","setMinLevel","setDescription","createGame","finally","push","min","max","step","ImageFiltered","BackgroundImage","ModeSelect","setMode","ModeWrapper","ModeBox","LeftBackgroundImage","RightBackgroundImage","EasyDice","D20Dice","NewGame","setSimple","choicesService","choicesFound","trial","successTargetChapter","failureTargetChapter","pxGranted","choice","patch","choiceId","delete","chapters","choices","gameId","chapter","finishChoiceForm","toogleCard","closeChoiceForm","match","ChapterService","chapterService","ChoicesService","difficulty","setDifficulty","characteristic","setCharacteristic","setPxGranted","setSuccessTargetChapter","setFailureTargetChapter","chapterList","setChapterList","createChoice","createdChoice","updateChoice","updatedChoice","getChaptersFromGame","params","Card","newChoice","display","custom","selected","Col4","submitForm","ChoiceCard","backgroundColor","result","returnCharacteristic","chapterId","getAllChapters","closeNewChapterForm","setChoices","choicesObj","setChoicesObj","choiceForms","setChoiceForms","ready","setReady","populateThisChapter","getChapter","filter","choiceObj","choicesCopy","retrieveChoicesIds","choicesObjCopy","createChoiceCard","choiceFormsCopy","splice","choiceCopy","editor","ClassicEditor","onInit","event","getData","onBlur","onFocus","eachChoice","eachform","React","updateChapter","updatedChapter","createChapter","createdChapter","StyledListGroup","ListGroup","EditChapters","RestaurateScroll","createGlobalStyle","GameService","gameService","allChapters","setallChapters","showNewForm","setShowNewForm","getOneGame","replace","length","active","allChaptersCopy","chapterCopy","expandChapter","dangerouslySetInnerHTML","__html","savedGamesService","userId","query","saveId","currentChapter","character","savedGameId","characterService","characters","characterId","CharacterForm","setCharacter","hideForm","CharacterService","setName","hp","str","setStr","des","setDes","agi","setAgi","con","setCon","int","setInt","wis","setWis","char","setChar","totalPoints","setTotalPoints","newTotal","total","obj","calculatePoints","newCharacter","createCharacter","createdCharacter","assignCharacterToUser","updatedUser","parseInt","CharacterList","newSave","CustomLi","li","level","updateSavedGames","SavedGamesService","showForm","setShowForm","toogleForm","chosenCharacter","createSavedGame","savedGame","assignSaveToUser","UserContext","createContext","UserProvider","Provider","savedGames","useContext","noUser","Dropdown","Toggle","Menu","save","disabled","setGame","setSavedGames","getUserSaves","savedGamesCopy","characterChoicesService","CharacterChoiceService","makeChoice","setSavedGame","getFullSave","GameFlowChart","darkTheme","solid","App","lastGames","setlastGames","setloggedInUser","user","getLastGames","last10","Array","isArray","every","elm","find","loggedin","loginModal","setloginModal","signupModal","setSignupModal","GlobalStyle","fluid","height","exact","path","render","Boolean","window","location","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.36429a5e.chunk.js","sourcesContent":["import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Container, Navbar, Nav, NavDropdown, Row, Col, Spinner } from \"react-bootstrap\";\nimport styled from \"styled-components\";\n\nfunction CustomNavbar({ loggedInUser, showLogin, showSignup, logout }) {\n  const StyledNavbar = styled(Navbar)`\n    background-color: rgba(0, 0, 0, 0.7);\n    height: 60px;\n    p,\n    a {\n      color: ${(props) => props.theme.colors.light + \"!important\"};\n    }\n    .dropdown-menu {\n      background-color: ${(props) => props.theme.background.semiSolid};\n      .dropdown-item:hover {\n        background-color: ${(props) => props.theme.background.modals};\n      }\n    }\n  `;\n\n  return loggedInUser === false ? (\n    <Spinner />\n  ) : loggedInUser === null ? (\n    <StyledNavbar>\n      <Nav style={{ width: \"80%\" }}>\n        <Nav.Item>\n          <Nav.Link as={NavLink} to={\"/\"}>\n            <i className=\"fas fa-home\"></i>\n          </Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link onClick={showLogin}>Login</Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link onClick={showSignup}>Signup</Nav.Link>\n        </Nav.Item>\n      </Nav>\n      <Nav style={{ width: \"20%\", justifyContent: \"flex-end\" }}>\n        <NavDropdown title=\"Mi perfil\" id=\"nav-dropdown\" drop=\"left\">\n          <NavDropdown.Item eventKey=\"4.1\">Action</NavDropdown.Item>\n          <NavDropdown.Item eventKey=\"4.2\">Another action</NavDropdown.Item>\n          <NavDropdown.Item eventKey=\"4.3\">Something else here</NavDropdown.Item>\n          <NavDropdown.Divider />\n          style={{ width: \"100vw\" }}\n          <NavDropdown.Item eventKey=\"4.4\">Separated link</NavDropdown.Item>\n        </NavDropdown>\n      </Nav>\n    </StyledNavbar>\n  ) : (\n    <StyledNavbar>\n      <Nav style={{ width: \"80%\" }}>\n        <Nav.Item>\n          <Nav.Link as={NavLink} to={\"/\"}>\n            <i className=\"fas fa-home\"></i>\n          </Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <NavDropdown title=\"Mis historias\" id=\"nav-dropdown\" drop=\"down\">\n            <NavDropdown.Item>\n              <Nav.Link as={NavLink} to={\"/myGames\"}>\n                En juego\n              </Nav.Link>\n            </NavDropdown.Item>\n            <NavDropdown.Divider />\n            <NavDropdown.Item>\n              <Nav.Link as={NavLink} to={\"/myGames\"}>\n                Creadas por mí\n              </Nav.Link>\n            </NavDropdown.Item>\n          </NavDropdown>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link as={NavLink} to={\"/myCharacters\"}>\n            Mis personajes\n          </Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link as={NavLink} to={\"/newGame\"}>\n            Crear Partida\n          </Nav.Link>\n        </Nav.Item>\n      </Nav>\n      <Nav style={{ width: \"20%\", justifyContent: \"flex-end\" }}>\n        <Nav.Item onClick={logout}>Logout</Nav.Item>\n      </Nav>\n    </StyledNavbar>\n  );\n}\n\nexport default CustomNavbar;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled, { keyframes } from \"styled-components\";\nimport playingTable from \"./assets/playingTable.png\";\nimport D6 from \"../components/Game/assets/d6book.svg\";\nimport D20 from \"../components/Game/assets/d20.svg\";\n\nconst MainsSectionWrapper = styled.section`\n  background-color: ${(props) => props.theme.background.lightOverlay};\n  text-align: center;\n  height: 80vh;\n  padding-top: 40px;\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n`;\n\nconst upwardTransition = keyframes`\n    from {\n      opacity: 0;\n      transform: translateY(1000px)\n    }\n    \n    to {\n      opacity: 1;\n      transform: translateY(0px)\n    }\n  `;\n\nconst imgTransition = keyframes`\n    from {\n      transform: translateY(1000px) rotate(0deg)\n    }\n    \n    to {\n      rotate(-15deg)\n      /* rotate(-15deg) */\n      transform: translateY(0px) rotate(-15deg)\n    }\n    `;\n\nconst Background = styled.img`\n  position: absolute;\n  left: 5%;\n  top: 100px;\n  z-index: -9000;\n  transform: rotate(-15deg);\n  opacity: 0.5;\n  filter: blur(1px);\n  filter: contrast(70%);\n  animation: ${imgTransition} 3s cubic-bezier(0.71, 0.57, 0.46, 0.92);\n`;\n\nconst MainSection = styled.article`\n  margin: 20px;\n  transform: translateY();\n  animation: ${upwardTransition} 4s ease-out;\n`;\n\nconst appear = keyframes`\n      from {\n        opacity: 0;\n      }\n\n      to {\n        opacity: 1;\n      }\n    `;\n\nconst Title = styled.h1`\n  font-size: 3em;\n  animation: ${appear} 5s ease-out;\n  color: ${(props) => props.theme.colors.general};\n  font-weight: 900;\n  letter-spacing: 5px;\n  text-align: center;\n`;\n\nconst GameCard = styled.div`\n  margin: 10px 0;\n  padding: 10px 0;\n  border-radius: 2px;\n\n  p {\n    font-size: 1.2em;\n  }\n\n  &:hover {\n    h2 {\n      font-size: 1.4em;\n    }\n    font-size: 1.3em;\n    background-color: ${(props) => props.theme.background.overlay};\n  }\n`;\n\nfunction LastGames({ games, loggedInUser }) {\n  const [preloadSet, setPreloadSet] = useState(false);\n  useEffect(() => {\n    if (!preloadSet) {\n      const mainBackgroundPreload = document.createElement(\"link\");\n      mainBackgroundPreload.rel = \"preload\";\n      mainBackgroundPreload.as = \"image\";\n      mainBackgroundPreload.href = playingTable;\n\n      const d6Prefetch = document.createElement(\"link\");\n      const d20Prefetch = document.createElement(\"link\");\n      d6Prefetch.rel = \"prefetch\";\n      d20Prefetch.rel = \"prefetch\";\n      d6Prefetch.href = D6;\n      d20Prefetch.href = D20;\n      d6Prefetch.as = \"image\";\n      d20Prefetch.as = \"image\";\n\n      document.head.append(d6Prefetch);\n      document.head.append(d20Prefetch);\n      document.head.append(mainBackgroundPreload);\n\n      setPreloadSet(true);\n    }\n  }, []);\n\n  return (\n    <div id=\"container1\" style={{ overflow: \"hidden\" }}>\n      <Title>Últimas historias</Title>\n      <MainsSectionWrapper id=\"container2\">\n        <Background src={playingTable} />\n        <MainSection>\n          {games.map((game, idx) => (\n            <Link to={loggedInUser && loggedInUser._id === game.creator ? `/modify/${game._id}` : `/read/${game._id}`}>\n              <GameCard key={idx}>\n                <h2>{game.title}</h2>\n                <em>Nivel minimo: {game.minLevel}</em>\n                <p>{game.description.slice(0, 350)}</p>\n              </GameCard>\n            </Link>\n          ))}\n        </MainSection>\n      </MainsSectionWrapper>\n    </div>\n  );\n}\n\nexport default LastGames;\n","import React from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\n\nfunction MyGames() {\n  return (\n    <Container>\n      <Row>\n        <Col lg={6}>Imagen</Col>\n        <Col lg={6}>\n          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Similique pariatur magni nesciunt soluta expedita molestiae suscipit\n          deleniti consequuntur dolor impedit. Itaque iure libero perspiciatis, cum asperiores eveniet non error totam?\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default MyGames;\n","import axios from \"axios\";\n\nclass gamesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/games/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getOneGame(id) {\n    return this.service\n      .get(`/?gameId=${id}`)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getLastGames() {\n    return this.service\n      .get(\"/last?limit=5\")\n      .then((res) => res.data.gamesFound)\n      .catch((err) => console.log(err));\n  }\n\n  createGame({ creator, title, minLevel, description, simple }) {\n    return this.service\n      .post(\"\", { creator, title, minLevel, description, simple })\n      .then((res) => res.data.createdGame)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default gamesService;\n","import axios from \"axios\";\n\nclass authService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/auth/`;\n    this.service = axios.create({\n      baseURL: this.baseURL,\n      withCredentials: true,\n      timeout: 1000 * 30,\n      timeoutErrorMessage: \"El servidor ha tardado demasiado tiempo en responder\",\n    });\n  }\n\n  login({ username, email, password }) {\n    return this.service\n      .post(\"login\", { username, email, password }) //add form\n      .then((res) => res.data)\n      .catch((err) => {\n        console.log({ err });\n        if (err.response.status == \"401\") return null;\n        if (err.code === \"ECONNABORTED\") console.error(err.message);\n      });\n  }\n\n  signup({ username, email, password }) {\n    return this.service\n      .post(\"signup\", { username, email, password }) //add form\n      .then((res) => res.data)\n      .catch((err) => {\n        console.log({ err });\n        if (err.code === \"ECONNABORTED\") console.error(err.message);\n      });\n  }\n\n  logout() {\n    return this.service\n      .post(\"logout\")\n      .then((res) => res.data)\n      .catch((err) => {\n        console.log({ err });\n        if (err.code === \"ECONNABORTED\") console.error(err.message);\n      });\n  }\n\n  loggedin() {\n    return this.service\n      .get(\"loggedin\")\n      .then((res) => res.data)\n      .catch((err) => {\n        console.log({ err });\n        if (err.code === \"ECONNABORTED\") console.error(err.message);\n      });\n  }\n}\n\nexport default authService;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nexport const Button = (props) => {\n  const StyledButton = styled.button`\n    background-color: rgba(0, 0, 0, 1);\n    color: white;\n    border: 0.3px solid white;\n    display: inline-block;\n    font-weight: 400;\n    text-align: center;\n    vertical-align: middle;\n    -webkit-user-select: none;\n    user-select: none;\n    padding: 0.375rem 0.75rem;\n    font-size: 1rem;\n    line-height: 1.5;\n    border-radius: 0.25rem;\n    &:hover {\n      background-color: rgba(44, 44, 44, 1);\n      -webkit-box-shadow: 0px 10px 7px 1px rgba(252, 252, 252, 0.3);\n      -moz-box-shadow: 0px 1px 7px 1px rgba(252, 252, 252, 0.3);\n      box-shadow: 0px 1px 7px 1px rgba(252, 252, 252, 0.3);\n      transform: scale(1.05);\n      transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n    }\n  `;\n\n  return <StyledButton {...props}>{props.text}</StyledButton>;\n};\n\nexport const SmallButton = styled(Button)`\n  width: 100px;\n`;\n","import React, { useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport authService from \"../../services/auth.service\";\nimport { Button } from \"../Buttons\";\n\nfunction LoginForm({ setUser, onHide }) {\n  const AuthService = new authService();\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function clearForm() {\n    setUsername(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    AuthService.login({ username, email, password }).then((loggedInUser) => setUser(loggedInUser));\n    clearForm();\n    if (onHide) onHide();\n  }\n\n  function onChange(e) {\n    let { name, value } = e.currentTarget;\n    switch (name) {\n      case \"username\":\n        setUsername(value);\n        break;\n      case \"email\":\n        setEmail(value);\n        break;\n      case \"password\":\n        setPassword(value);\n        break;\n      default:\n        throw Error(\"no correct value\");\n    }\n  }\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Form.Group controlId=\"username\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control onChange={onChange} name=\"username\" value={username} type=\"text\" placeholder=\"Enter username\" />\n        <Form.Text>Choose an username.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"email\" value={email}>\n        <Form.Label>Email address</Form.Label>\n        <Form.Control onChange={onChange} name=\"email\" type=\"email\" placeholder=\"Enter email\" />\n        <Form.Text>We'll never share your email with anyone else.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"password\" value={password}>\n        <Form.Label>Password</Form.Label>\n        <Form.Control onChange={onChange} name=\"password\" type=\"password\" placeholder=\"Password\" />\n      </Form.Group>\n      <Button text=\"Submit\" type=\"submit\"></Button>\n    </Form>\n  );\n}\n\nexport default LoginForm;\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport authService from \"../../services/auth.service\";\nfunction SignupForm({ setUser, onHide }) {\n  const AuthService = new authService();\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function submitForm(e) {\n    e.preventDefault();\n    AuthService.signup({ username, email, password }).then((loggedInUser) => setUser(loggedInUser));\n    if (onHide) onHide();\n  }\n\n  function onChange(e) {\n    let { name, value } = e.currentTarget;\n    switch (name) {\n      case \"username\":\n        setUsername(value);\n        break;\n      case \"email\":\n        setEmail(value);\n        break;\n      case \"password\":\n        setPassword(value);\n        break;\n      default:\n        throw Error(\"no correct value\");\n    }\n  }\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Form.Group controlId=\"username\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control onChange={onChange} name=\"username\" value={username} type=\"text\" placeholder=\"Enter username\" />\n        <Form.Text className=\"text-muted\">Choose an username.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"email\" value={email}>\n        <Form.Label>Email address</Form.Label>\n        <Form.Control onChange={onChange} name=\"email\" type=\"email\" placeholder=\"Enter email\" />\n        <Form.Text className=\"text-muted\">We'll never share your email with anyone else.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"password\" value={password}>\n        <Form.Label>Password</Form.Label>\n        <Form.Control onChange={onChange} name=\"password\" type=\"password\" placeholder=\"Password\" />\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\">\n        Submit\n      </Button>\n    </Form>\n  );\n}\n\nexport default SignupForm;\n","import React, { cloneElement } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport styled from \"styled-components\";\n\nfunction CenteredModal(props) {\n  const { show, children, onHide, title } = props;\n\n  const ThemeModal = styled.div`\n    background-color: ${(props) => props.theme.background.modals};\n    width: 40%;\n    margin: 10vh auto;\n    border-radius: 5px;\n    font-size: 1.1em;\n    color: white;\n  `;\n  return (\n    <Modal dialogAs={ThemeModal} show={show} onHide={onHide} size=\"lg\" aria-labelledby=\"contained-modal-title-vcenter\" centered autoFocus>\n      <Modal.Header closeButton onHide={onHide}>\n        <Modal.Title id=\"contained-modal-title-vcenter\">{title}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>{cloneElement(children, { show, onHide })}</Modal.Body>\n    </Modal>\n  );\n}\n\nexport default CenteredModal;\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport gamesService from \"../../services/games.service\";\nimport { withRouter } from \"react-router-dom\";\nimport { SmallButton } from \"../Buttons\";\nfunction NewGameForm(props) {\n  const { loggedInUser, updateLastGames, history, simple } = props;\n  const GamesService = new gamesService();\n  const [title, setTitle] = useState(\"\");\n  const [minLevel, setMinLevel] = useState(1);\n  const [description, setDescription] = useState(\"\");\n\n  function submitForm(e) {\n    e.preventDefault();\n    if (simple) {\n      setMinLevel(1);\n    }\n\n    GamesService.createGame({ creator: loggedInUser._id, title, minLevel, description, simple })\n      .then((createdGame) => {\n        updateLastGames();\n        console.log(createdGame);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => history.push(\"/\"));\n  }\n\n  function onChange(e) {\n    const { name, value } = e.currentTarget;\n    switch (name) {\n      case \"title\":\n        setTitle(value);\n        break;\n      case \"description\":\n        setDescription(value);\n        break;\n      case \"minLevel\":\n        setMinLevel(value);\n        break;\n      default:\n        throw Error(\"Algo ha ido mal con el formulario\");\n    }\n  }\n\n  return (\n    <div>\n      <h2>Crear un nuevo juego es muy sencillo tan solo necesitas...</h2>\n      <Form onSubmit={submitForm}>\n        <Form.Group controlId=\"title\">\n          <Form.Label>Elegir un titulo:</Form.Label>\n          <Form.Control name=\"title\" onChange={onChange} value={title} type=\"text\" placeholder=\"El titulo de tu historia!\" />\n        </Form.Group>\n\n        {!simple && (\n          <Form.Group controlId=\"minLevel\">\n            <Form.Label>Un nivel mínimo para comenzar la aventura:</Form.Label>\n            <p>{minLevel}</p>\n            <Form.Control name=\"minLevel\" onChange={onChange} value={minLevel} type=\"range\" min=\"1\" max=\"20\" step=\"1\" placeholder=\"Ej: 5\" />\n            <Form.Text className=\"text-muted\">\n              Las aventuras básicas comienzan en nivel 1, de 8 a 14 ya son todo un reto, a partir de ahí los heroes pueden luchar contra los\n              mismos dioses.\n            </Form.Text>\n          </Form.Group>\n        )}\n\n        <Form.Group controlId=\"description\">\n          <Form.Label>El resumen de tu aventura! Hazlo atractivo de forma que la gente quiera jugarla ;)</Form.Label>\n          <Form.Control name=\"description\" onChange={onChange} value={description} type=\"text\" placeholder=\"El titulo de tu historia!\" />\n        </Form.Group>\n        <SmallButton type=\"submit\" text=\"Crear\" />\n      </Form>\n    </div>\n  );\n}\n\nexport default withRouter(NewGameForm);\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst ImageFiltered = styled.img`\n  z-index: -9000;\n  opacity: 0.5;\n  filter: blur(1px);\n  filter: contrast(80%);\n`;\n\nexport const BackgroundImage = (props) => {\n  return <ImageFiltered {...props} />;\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { BackgroundImage } from \"../Images\";\nimport EasyDice from \"./assets/d6book.svg\";\nimport D20Dice from \"./assets/d20.svg\";\n\nfunction ModeSelect(props) {\n  const { setMode } = props;\n  const ModeWrapper = styled(Row)`\n    align-items: center;\n    height: calc(60vh);\n  `;\n  const ModeBox = styled(Col)`\n    text-align: center;\n    font-size: 3rem;\n\n    &:hover {\n      cursor: pointer;\n      transform: scale(1.2);\n      p {\n        text-shadow: 0px 10px 10px white;\n        border-top: 1px solid white;\n      }\n    }\n  `;\n\n  const LeftBackgroundImage = styled(BackgroundImage)`\n    position: absolute;\n    left: 0px;\n    top: -40px;\n    max-height: 200px;\n    max-width: 200px;\n    transform: rotate(-15deg);\n  `;\n\n  const RightBackgroundImage = styled(BackgroundImage)`\n    position: absolute;\n    right: 0px;\n    top: -40px;\n    max-height: 200px;\n    max-width: 200px;\n    transform: rotate(15deg);\n  `;\n\n  return (\n    <ModeWrapper>\n      <ModeBox onClick={() => setMode(true)}>\n        <LeftBackgroundImage src={EasyDice} />\n        <p>Historia simple</p>\n      </ModeBox>\n      <ModeBox onClick={() => setMode(false)}>\n        <RightBackgroundImage src={D20Dice} />\n        <p>Aventura de Rol</p>\n      </ModeBox>\n    </ModeWrapper>\n  );\n}\n\nexport default ModeSelect;\n","import React, { useState } from \"react\";\nimport NewGameForm from \"../components/Game/NewGameForm\";\nimport ModeSelect from \"../components/Game/ModeSelect\";\nfunction NewGame({ loggedInUser, updateLastGames }) {\n  const [simple, setSimple] = useState(null);\n  if (simple === null) {\n    return <ModeSelect setMode={setSimple} />;\n  } else {\n    return <NewGameForm simple={simple} updateLastGames={updateLastGames} loggedInUser={loggedInUser}></NewGameForm>;\n  }\n}\n\nexport default NewGame;\n","import axios from \"axios\";\n\nclass choicesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/choices/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getChoicesFromChapter(id) {\n    return this.service\n      .get(`/?chapterId=${id}`)\n      .then((res) => res.data.choicesFound)\n      .catch((err) => console.log(err));\n  }\n\n  createChoice({ description, trial, successTargetChapter, failureTargetChapter, pxGranted }) {\n    return this.service\n      .post(\"\", { description, trial, successTargetChapter, failureTargetChapter, pxGranted })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  updateChoice(choice) {\n    return this.service\n      .patch(\"/\", choice)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  deleteChoice(choiceId) {\n    return this.service\n      .delete(\"\", { choiceId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default choicesService;\n","import axios from \"axios\";\n\nclass gamesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/chapters/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getChapter(id) {\n    return this.service\n      .get(`/?chapterId=${id}`)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getChaptersFromGame(id) {\n    return this.service\n      .get(`/fromGame/?gameId=${id}`)\n      .then((res) => res.data.chapters)\n      .catch((err) => console.log(err));\n  }\n\n  createChapter({ description, choices, gameId }) {\n    return this.service\n      .post(\"\", { description, choices, gameId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  updateChapter(chapter) {\n    return this.service\n      .patch(\"/\", chapter)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default gamesService;\n","import React, { useState, useEffect } from \"react\";\nimport { Card, Form, Button } from \"react-bootstrap\";\nimport choicesService from \"../../services/choices.service\";\nimport chapterService from \"../../services/chapter.service\";\nimport { withRouter } from \"react-router-dom\";\n\nfunction ChoiceForm(props) {\n  const { finishChoiceForm, idx, choice, toogleCard, closeChoiceForm, match, simple } = props;\n  const ChapterService = new chapterService();\n  const ChoicesService = new choicesService();\n  const [description, setDescription] = useState(choice ? choice.description : \"\");\n  const [difficulty, setDifficulty] = useState(choice ? choice.trial.difficulty : 10);\n  const [characteristic, setCharacteristic] = useState(choice ? choice.trial.characteristic : \"str\");\n  const [pxGranted, setPxGranted] = useState(choice ? choice.pxGranted : 0);\n  const [successTargetChapter, setSuccessTargetChapter] = useState(choice ? choice.successTargetChapter : null);\n  const [failureTargetChapter, setFailureTargetChapter] = useState(choice ? choice.failureTargetChapter : null);\n  const [chapterList, setChapterList] = useState([]);\n\n  useEffect(() => {\n    ChapterService.getChaptersFromGame(match.params.gameId).then((chapterList) => {\n      setChapterList(chapterList);\n    });\n  }, [match.params.gameId]);\n\n  function createChoice(choice) {\n    ChoicesService.createChoice(choice).then((createdChoice) => {\n      finishChoiceForm(createdChoice._id, idx, createdChoice);\n    });\n  }\n\n  function updateChoice(choice) {\n    ChoicesService.updateChoice(choice).then((updatedChoice) => {\n      toogleCard(idx);\n    });\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    const trial = { difficulty, characteristic };\n    if (choice && simple) {\n      choice.trial = { difficulty: -10, characteristic: \"str\" };\n      choice.description = description;\n      choice.pxGranted = 0;\n      choice.successTargetChapter = successTargetChapter;\n      choice.failureTargetChapter = successTargetChapter;\n      updateChoice(choice);\n    } else if (choice) {\n      choice.trial = trial;\n      choice.description = description;\n      choice.pxGranted = pxGranted;\n      choice.successTargetChapter = successTargetChapter;\n      choice.failureTargetChapter = failureTargetChapter;\n      updateChoice(choice);\n    } else if (simple) {\n      console.log(\"creación simple\");\n      const newChoice = {\n        description,\n        trial: { difficulty: -10, characteristic: \"str\" },\n        pxGranted: 0,\n        successTargetChapter,\n        failureTargetChapter: successTargetChapter,\n      };\n      console.log(newChoice, \"choice pa tu body\");\n      createChoice(newChoice);\n    } else {\n      const newChoice = { description, trial, pxGranted, successTargetChapter, failureTargetChapter };\n      createChoice(newChoice);\n    }\n  }\n\n  function onChange(e) {\n    const { name, value } = e.currentTarget;\n    switch (name) {\n      case \"description\":\n        setDescription(value);\n        break;\n      case \"difficulty\":\n        setDifficulty(value);\n        break;\n      case \"characteristic\":\n        console.log(value);\n        setCharacteristic(value);\n        break;\n      case \"pxGranted\":\n        console.log(value);\n        setPxGranted(value);\n        break;\n      case \"successTargetChapter\":\n        console.log(value);\n        setSuccessTargetChapter(value);\n        break;\n      case \"failureTargetChapter\":\n        console.log(value);\n        setFailureTargetChapter(value);\n        break;\n      default:\n        throw Error(\"Algo ha ido mal con el formulario\");\n    }\n  }\n\n  return (\n    <Card>\n      <Form onSubmit={submitForm} className=\"choiceForm\">\n        <Card.Header style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <Button\n            onClick={() => {\n              closeChoiceForm ? closeChoiceForm(idx) : toogleCard(idx);\n            }}\n            style={{ width: \"40px\" }}\n            variant=\"danger\"\n          >\n            <i className=\"fas fa-times\"></i>\n          </Button>\n          <Button type=\"submit\" style={{ width: \"40px\" }} variant=\"success\">\n            <i className=\"fas fa-check\"></i>\n          </Button>\n        </Card.Header>\n        <Card.Body>\n          <Form.Group controlId=\"choice\">\n            <Form.Label>Describe la elección:</Form.Label>\n            <Form.Control name=\"description\" onChange={onChange} value={description} placeholder=\"Fuerzo la puerta\" />\n\n            {!simple && (\n              <>\n                <Form.Label>¿Que dificultad tiene?</Form.Label>\n                <Form.Control type=\"number\" name=\"difficulty\" onChange={onChange} value={difficulty} placeholder=\"Fuerzo la puerta\" />\n                {choice ? null : (\n                  <Form.Text>\n                    Dificultades de 10 son adecuadas para una persona media, 15 son para expertos y 20 para verdaderos prodígios.\n                  </Form.Text>\n                )}\n                <Form.Label>¿Qué caracteristica es necesaria para superarla?</Form.Label>\n                <Form.Control onChange={onChange} name=\"characteristic\" as=\"select\" custom>\n                  <option value=\"str\">Fuerza</option>\n                  <option value=\"des\">Destreza</option>\n                  <option value=\"agi\">Agilidad, velocidad</option>\n                  <option value=\"con\">Constitución física</option>\n                  <option value=\"int\">Inteligencia</option>\n                  <option value=\"wis\">Sabiduría</option>\n                  <option value=\"char\">Carisma</option>\n                </Form.Control>\n              </>\n            )}\n          </Form.Group>\n          {!simple && (\n            <Form.Group controlId=\"choice\">\n              <Form.Label>Cuanta experiencia da el éxito:</Form.Label>\n              <Form.Control name=\"pxGranted\" onChange={onChange} value={pxGranted} placeholder=\"100\" type=\"number\" />\n            </Form.Group>\n          )}\n        </Card.Body>\n        <Form.Group controlId=\"successTargetChapter\">\n          <Form.Label>{!simple ? \"Cap de destino con exito:\" : \"Cap de destino\"}</Form.Label>\n          <Form.Control as=\"select\" custom name=\"successTargetChapter\" onChange={onChange}>\n            <option value=\"null\">Ninguno</option>\n            {chapterList.map((chapter) =>\n              chapter._id === successTargetChapter ? (\n                <option selected value={chapter._id}>\n                  {chapter.description}\n                </option>\n              ) : (\n                <option value={chapter._id}>{chapter.description}</option>\n              )\n            )}\n          </Form.Control>\n        </Form.Group>\n        {!simple && (\n          <Form.Group controlId=\"failureTargetChapter\">\n            <Form.Label>Cap de destino con fracaso:</Form.Label>\n            <Form.Control as=\"select\" name=\"failureTargetChapter\" custom onChange={onChange}>\n              <option value=\"null\">Ninguno</option>\n              {chapterList.map((chapter) =>\n                chapter._id === failureTargetChapter ? (\n                  <option selected value={chapter._id}>\n                    {chapter.description}\n                  </option>\n                ) : (\n                  <option value={chapter._id}>{chapter.description}</option>\n                )\n              )}\n            </Form.Control>\n          </Form.Group>\n        )}\n      </Form>\n    </Card>\n  );\n}\n\nexport default withRouter(ChoiceForm);\n","import React, { useState, useEffect } from \"react\";\nimport choicesService from \"../../services/choices.service\";\nimport chapterService from \"../../services/chapter.service\";\nimport styled from \"styled-components\";\nimport { withRouter } from \"react-router-dom\";\n\nconst Row = styled.div`\n  display: flex;\n`;\n\nconst Col4 = styled.div`\n  width: 25%;\n`;\n\nfunction ChoiceFormRow(props) {\n  const { finishChoiceForm, idx, choice, toogleCard, closeChoiceForm, match, simple } = props;\n  const ChapterService = new chapterService();\n  const ChoicesService = new choicesService();\n  const [description, setDescription] = useState(choice ? choice.description : \"\");\n  const [difficulty, setDifficulty] = useState(choice ? choice.trial.difficulty : 10);\n  const [characteristic, setCharacteristic] = useState(choice ? choice.trial.characteristic : \"str\");\n  const [pxGranted, setPxGranted] = useState(choice ? choice.pxGranted : 0);\n  const [successTargetChapter, setSuccessTargetChapter] = useState(choice ? choice.successTargetChapter : null);\n  const [failureTargetChapter, setFailureTargetChapter] = useState(choice ? choice.failureTargetChapter : null);\n  const [chapterList, setChapterList] = useState([]);\n\n  useEffect(() => {\n    ChapterService.getChaptersFromGame(match.params.gameId).then((chapterList) => {\n      setChapterList(chapterList);\n    });\n  }, [match.params.gameId]);\n\n  function createChoice(choice) {\n    ChoicesService.createChoice(choice).then((createdChoice) => {\n      finishChoiceForm(createdChoice._id, idx, createdChoice);\n    });\n  }\n\n  function updateChoice(choice) {\n    ChoicesService.updateChoice(choice).then((updatedChoice) => {\n      toogleCard(idx);\n    });\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    const trial = { difficulty, characteristic };\n    if (choice && simple) {\n      choice.trial = { difficulty: -10, characteristic: \"str\" };\n      choice.description = description;\n      choice.pxGranted = 0;\n      choice.successTargetChapter = successTargetChapter;\n      choice.failureTargetChapter = successTargetChapter;\n      updateChoice(choice);\n    } else if (choice) {\n      choice.trial = trial;\n      choice.description = description;\n      choice.pxGranted = pxGranted;\n      choice.successTargetChapter = successTargetChapter;\n      choice.failureTargetChapter = failureTargetChapter;\n      updateChoice(choice);\n    } else if (simple) {\n      console.log(\"creación simple\");\n      const newChoice = {\n        description,\n        trial: { difficulty: -10, characteristic: \"str\" },\n        pxGranted: 0,\n        successTargetChapter,\n        failureTargetChapter: successTargetChapter,\n      };\n      console.log(newChoice, \"choice pa tu body\");\n      createChoice(newChoice);\n    } else {\n      const newChoice = { description, trial, pxGranted, successTargetChapter, failureTargetChapter };\n      createChoice(newChoice);\n    }\n  }\n\n  function onChange(e) {\n    const { name, value } = e.currentTarget;\n    switch (name) {\n      case \"description\":\n        setDescription(value);\n        break;\n      case \"difficulty\":\n        setDifficulty(value);\n        break;\n      case \"characteristic\":\n        console.log(value);\n        setCharacteristic(value);\n        break;\n      case \"pxGranted\":\n        console.log(value);\n        setPxGranted(value);\n        break;\n      case \"successTargetChapter\":\n        console.log(value);\n        setSuccessTargetChapter(value);\n        break;\n      case \"failureTargetChapter\":\n        console.log(value);\n        setFailureTargetChapter(value);\n        break;\n      default:\n        throw Error(\"Algo ha ido mal con el formulario\");\n    }\n  }\n\n  return (\n    <div>\n      <Row>\n        <div\n          onClick={() => {\n            closeChoiceForm ? closeChoiceForm(idx) : toogleCard(idx);\n          }}\n          style={{ width: \"40px\" }}\n          variant=\"danger\"\n        >\n          <i className=\"fas fa-times\"></i>\n        </div>\n        <div onClick={submitForm} style={{ width: \"40px\" }} variant=\"success\">\n          <i className=\"fas fa-check\"></i>\n        </div>\n      </Row>\n      <form onSubmit={submitForm} className=\"choiceForm\">\n        <Row>\n          <Col4>\n            <label>\n              Describe la elección:\n              <input id=\"description\" name=\"description\" onChange={onChange} value={description} placeholder=\"Fuerzo la puerta\" />\n            </label>\n          </Col4>\n          <Col4>\n            {!simple && (\n              <>\n                <label>\n                  ¿Que dificultad tiene?\n                  <input\n                    id=\"difficulty\"\n                    type=\"number\"\n                    name=\"difficulty\"\n                    onChange={onChange}\n                    value={difficulty}\n                    placeholder=\"Fuerzo la puerta\"\n                  />\n                </label>\n                {choice ? null : (\n                  <small>\n                    Dificultades de 10 son adecuadas para una persona media, 15 son para expertos y 20 para verdaderos prodígios.\n                  </small>\n                )}\n                <label>\n                  ¿Qué caracteristica es necesaria para superarla?\n                  <select id=\"characteristic\" onChange={onChange} name=\"characteristic\">\n                    <option value=\"str\">Fuerza</option>\n                    <option value=\"des\">Destreza</option>\n                    <option value=\"agi\">Agilidad, velocidad</option>\n                    <option value=\"con\">Constitución física</option>\n                    <option value=\"int\">Inteligencia</option>\n                    <option value=\"wis\">Sabiduría</option>\n                    <option value=\"char\">Carisma</option>\n                  </select>\n                </label>\n              </>\n            )}\n          </Col4>\n          <Col4>\n            {!simple && (\n              <label>\n                Cuanta experiencia da el éxito:\n                <input id=\"pxGranted\" name=\"pxGranted\" onChange={onChange} value={pxGranted} placeholder=\"100\" type=\"number\" />\n              </label>\n            )}\n          </Col4>\n          <Col4>\n            <label>\n              {!simple ? \"Cap de destino con exito:\" : \"Cap de destino\"}\n              <select id=\"successTargetChapter\" name=\"successTargetChapter\" onChange={onChange}>\n                <option value=\"null\">Ninguno</option>\n                {chapterList.map((chapter) =>\n                  chapter._id === successTargetChapter ? (\n                    <option selected value={chapter._id}>\n                      {chapter.description}\n                    </option>\n                  ) : (\n                    <option value={chapter._id}>{chapter.description}</option>\n                  )\n                )}\n              </select>\n            </label>\n\n            {!simple && (\n              <label>\n                Cap de destino con fracaso:\n                <select id=\"failuterTargetChapter\" as=\"select\" name=\"failureTargetChapter\" custom onChange={onChange}>\n                  <option value=\"null\">Ninguno</option>\n                  {chapterList.map((chapter) =>\n                    chapter._id === failureTargetChapter ? (\n                      <option selected value={chapter._id}>\n                        {chapter.description}\n                      </option>\n                    ) : (\n                      <option value={chapter._id}>{chapter.description}</option>\n                    )\n                  )}\n                </select>\n              </label>\n            )}\n          </Col4>\n        </Row>\n      </form>\n    </div>\n  );\n}\n\nexport default withRouter(ChoiceFormRow);\n","import React from \"react\";\nimport { Card } from \"react-bootstrap\";\nfunction ChoiceCard({ choice, idx, toogleCard }) {\n  function returnCharacteristic(characteristic) {\n    let result;\n    switch (characteristic) {\n      case \"str\":\n        result = \"Fuerza\";\n        break;\n      case \"des\":\n        result = \"Destreza\";\n        break;\n      case \"agi\":\n        result = \"Agilidad, velocidad\";\n        break;\n      case \"con\":\n        result = \"Constitución\";\n        break;\n      case \"wis\":\n        result = \"Sabiduría\";\n        break;\n      case \"int\":\n        result = \"Inteligencia\";\n        break;\n      case \"char\":\n        result = \"Carisma\";\n        break;\n      default:\n        throw Error(\"algo fue mal con la card de la choice\");\n    }\n    return result;\n  }\n\n  return (\n    <Card>\n      <Card.Header onClick={() => toogleCard(idx)}>Editar</Card.Header>\n      <Card.Body style={{ backgroundColor: choice.successTargetChapter && choice.failureTargetChapter ? \"lightgreen\" : \"orange\" }}>\n        <p>{choice.description}</p>\n        <p>{returnCharacteristic(choice.trial.characteristic)}</p>\n        <p>{choice.trial.difficulty}</p>\n        <p>{choice.pxGranted}</p>\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default ChoiceCard;\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Row, Col } from \"react-bootstrap\";\nimport ChoiceForm from \"../Choice/ChoiceForm\";\nimport ChoiceFormRow from \"../Choice/ChoiceFormRow\";\nimport ChoiceCard from \"../Choice/ChoiceCard\";\nimport chapterService from \"../../services/chapter.service\";\nimport { withRouter } from \"react-router-dom\";\nimport CKEditor from \"@ckeditor/ckeditor5-react\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\n\nfunction NewChapterForm(props) {\n  const { updateLastGames, match, chapterId, getAllChapters, closeNewChapterForm, simple } = props;\n\n  const ChapterService = new chapterService();\n\n  let gameId = match.params.gameId;\n\n  const [description, setDescription] = useState(\"\");\n  const [choices, setChoices] = useState([]);\n  const [choicesObj, setChoicesObj] = useState([]);\n  const [choiceForms, setChoiceForms] = useState([]);\n  const [ready, setReady] = useState(false);\n\n  function populateThisChapter() {\n    if (chapterId) {\n      ChapterService.getChapter(chapterId).then((chapter) => {\n        setDescription(chapter.description);\n        setChoicesObj(chapter.choices);\n        setChoices(chapter.choices.filter((choice) => choice._id));\n        setReady(true);\n      });\n    } else {\n      setDescription(\"El texto de tu capítulo va aquí\");\n    }\n  }\n\n  useEffect(() => {\n    populateThisChapter();\n  }, []);\n\n  function retrieveChoicesIds(id, idx) {\n    const choicesCopy = [...choices];\n    choicesCopy.push(id);\n    setChoices(choicesCopy);\n  }\n\n  function createChoiceCard(choiceObj) {\n    const choicesObjCopy = [...choicesObj];\n    choicesObjCopy.push(choiceObj);\n    setChoicesObj(choicesObjCopy);\n  }\n\n  function finishChoiceForm(id, idx, choiceObj) {\n    retrieveChoicesIds(id, idx);\n    createChoiceCard(choiceObj);\n    closeChoiceForm(idx);\n  }\n\n  function closeChoiceForm(idx) {\n    const choiceFormsCopy = [...choiceForms];\n    choiceFormsCopy.splice(idx, 1);\n    setChoiceForms(choiceFormsCopy);\n  }\n\n  function createChapter(chapter) {\n    ChapterService.createChapter(chapter)\n      .then((createdChapter) => {\n        getAllChapters();\n        updateLastGames();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function updateChapter(chapter) {\n    ChapterService.updateChapter(chapter)\n      .then((updatedChapter) => {\n        updateLastGames();\n        populateThisChapter();\n        getAllChapters();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    if (!description) return;\n    if (chapterId) {\n      updateChapter({ _id: chapterId, description, choices });\n    } else {\n      createChapter({ description, choices, gameId });\n      closeNewChapterForm();\n    }\n  }\n\n  function addChoice() {\n    const choiceFormsCopy = [...choiceForms];\n    choiceFormsCopy.push(true);\n    setChoiceForms(choiceFormsCopy);\n  }\n\n  function toogleCard(idx) {\n    console.log(idx);\n    const choicesObjCopy = [...choicesObj];\n    const choiceCopy = { ...choicesObjCopy[idx] };\n    choiceCopy.show = !choicesObj[idx].show;\n    choicesObjCopy.splice(idx, 1, choiceCopy);\n    setChoicesObj(choicesObjCopy);\n  }\n\n  return chapterId && !ready ? (\n    \"loading\"\n  ) : (\n    <div className=\".ck-editor\">\n      <CKEditor\n        editor={ClassicEditor}\n        data={description}\n        onInit={(editor) => {\n          // You can store the \"editor\" and use when it is needed.\n          console.log(\"Editor is ready to use!\", editor);\n        }}\n        onChange={(event, editor) => {\n          const data = editor.getData();\n          setDescription(data);\n          console.log({ event, editor, data });\n        }}\n        onBlur={(event, editor) => {\n          console.log(\"Blur.\", editor);\n        }}\n        onFocus={(event, editor) => {\n          console.log(\"Focus.\", editor);\n        }}\n      />\n\n      <Button onClick={addChoice}>Añadir elección</Button>\n\n      {choicesObj.map((eachChoice, idx) => (\n        <Col key={idx} lg={3}>\n          {!eachChoice.show ? (\n            <ChoiceCard toogleCard={toogleCard} choice={eachChoice} idx={idx} simple={simple} />\n          ) : (\n            <ChoiceForm simple={simple} toogleCard={toogleCard} choice={eachChoice} idx={idx} />\n          )}\n        </Col>\n      ))}\n      {choiceForms.map((eachform, idx) => (\n        <div key={idx}>{React.cloneElement(<ChoiceFormRow />, { idx, finishChoiceForm, closeChoiceForm, simple })}</div>\n      ))}\n\n      <Button onClick={submitForm}>{chapterId ? \"Modificar\" : \"Crear\"}</Button>\n    </div>\n  );\n}\n\nexport default withRouter(NewChapterForm);\n","import React, { useState, useEffect } from \"react\";\nimport gameService from \"../services/games.service\";\nimport NewChapterForm from \"../components/Chapter/NewChapterForm\";\nimport chapterService from \"../services/chapter.service\";\nimport { ListGroup } from \"react-bootstrap\";\nimport styled, { createGlobalStyle } from \"styled-components\";\n\nconst StyledListGroup = styled(ListGroup)`\n  div {\n    background-color: ${(props) => props.theme.background.overlay};\n  }\n`;\n\nfunction EditChapters({ loggedInUser, updateLastGames, match, history }) {\n  const RestaurateScroll = createGlobalStyle`\n    html, body {\n      overflow: auto\n    }\n  `;\n\n  const ChapterService = new chapterService();\n  const GameService = new gameService();\n  const [allChapters, setallChapters] = useState([]);\n  const [showNewForm, setShowNewForm] = useState(false);\n  const [simple, setSimple] = useState(null);\n  function checkOwnership() {\n    GameService.getOneGame(match.params.gameId).then((game) => {\n      setSimple(game.simple);\n      if (!(game.creator === loggedInUser._id)) history.replace(`/read/${match.params.gameId}`);\n    });\n  }\n\n  function getAllChapters() {\n    ChapterService.getChaptersFromGame(match.params.gameId).then((allChapters) => {\n      setallChapters(allChapters);\n    });\n  }\n\n  function expandChapter(idx) {\n    const allChaptersCopy = [...allChapters];\n    const chapterCopy = { ...allChaptersCopy[idx] };\n    chapterCopy.show = !allChapters[idx].show;\n    allChaptersCopy.splice(idx, 1, chapterCopy);\n    setallChapters(allChaptersCopy);\n  }\n\n  useEffect(() => {\n    checkOwnership();\n  }, [loggedInUser]);\n\n  useEffect(() => {\n    getAllChapters();\n  }, []);\n\n  return (\n    <>\n      <RestaurateScroll />\n      <StyledListGroup>\n        {allChapters.length && (\n          <div>\n            <h1>Edita los capitulos ya creados</h1>\n            {allChapters.map((chapter, idx) => (\n              <>\n                <StyledListGroup.Item active={chapter.show} onClick={() => expandChapter(idx)}>\n                  <div dangerouslySetInnerHTML={{ __html: chapter.description }} />\n                </StyledListGroup.Item>\n                {chapter.show ? (\n                  <StyledListGroup.Item>\n                    <NewChapterForm\n                      simple={simple}\n                      chapterId={chapter._id}\n                      getAllChapters={getAllChapters}\n                      loggedInUser={loggedInUser}\n                      updateLastGames={updateLastGames}\n                    ></NewChapterForm>\n                  </StyledListGroup.Item>\n                ) : null}\n              </>\n            ))}\n          </div>\n        )}\n      </StyledListGroup>\n\n      <StyledListGroup>\n        <div>\n          <h1>Escribe un nuevo capitulo</h1>\n          <StyledListGroup.Item onClick={() => setShowNewForm(!showNewForm)}>\n            {allChapters.length ? \"Escribe un nuevo capitulo\" : \"Escribe el primer capítulo\"}\n          </StyledListGroup.Item>\n          {showNewForm ? (\n            <NewChapterForm\n              simple={simple}\n              closeNewChapterForm={() => setShowNewForm(false)}\n              getAllChapters={getAllChapters}\n              loggedInUser={loggedInUser}\n              updateLastGames={updateLastGames}\n            ></NewChapterForm>\n          ) : null}\n        </div>\n      </StyledListGroup>\n    </>\n  );\n}\n\nexport default EditChapters;\n","import axios from \"axios\";\n\nclass savedGamesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/savedGames/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getUserSaves(userId, gameId) {\n    const query = gameId ? `/user/?userId=${userId}&gameId=${gameId}` : `/user/?userId=${userId}`;\n\n    return this.service\n      .get(query)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getFullSave(saveId) {\n    return this.service\n      .get(`/full/?saveId=${saveId}`)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  createSavedGame({ gameId, currentChapter, character }) {\n    return this.service\n      .post(\"\", {\n        gameId,\n        currentChapter,\n        character,\n      })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  assignSaveToUser(userId, saveId) {\n    return this.service\n      .post(\"/assign\", { userId, saveId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  updateSavedGame({ savedGameId, gameId, currentChapter, character }) {\n    return this.service.patch(\"\", { savedGameId, gameId, currentChapter, character }).then((res) => res.data);\n  }\n\n  deleteSave(savedGameId) {\n    return this.service\n      .delete(\"\", { savedGameId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default savedGamesService;\n","import axios from \"axios\";\n\nclass characterService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/characters/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getCharactersFromUser(userId) {\n    return this.service\n      .get(`/?userId=${userId}`)\n      .then((res) => res.data.characters)\n      .catch((err) => console.log(err));\n  }\n\n  createCharacter(character) {\n    return this.service\n      .post(\"\", { character })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  assignCharacterToUser(userId, characterId) {\n    return this.service\n      .post(\"assign\", { userId, characterId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default characterService;\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport characterService from \"../../services/character.service\";\n\nfunction CharacterForm({ setCharacter, hideForm, setUser, loggedInUser }) {\n  const CharacterService = new characterService();\n  const [name, setName] = useState(\"\");\n  const [hp] = useState(100);\n  const [str, setStr] = useState(8);\n  const [des, setDes] = useState(8);\n  const [agi, setAgi] = useState(8);\n  const [con, setCon] = useState(8);\n  const [int, setInt] = useState(8);\n  const [wis, setWis] = useState(8);\n  const [char, setChar] = useState(8);\n  const [totalPoints, setTotalPoints] = useState(27);\n\n  function closeForm() {\n    setName(\"\");\n    hideForm();\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    const newCharacter = {\n      name,\n      hp,\n      str,\n      des,\n      agi,\n      con,\n      int,\n      wis,\n      char,\n    };\n\n    CharacterService.createCharacter(newCharacter).then((createdCharacter) => {\n      CharacterService.assignCharacterToUser(loggedInUser._id, createdCharacter._id).then((updatedUser) => {\n        setUser(updatedUser);\n      });\n      closeForm();\n    });\n  }\n\n  function onChange(e) {\n    const { name, value } = e.currentTarget;\n    let newTotal = totalPoints;\n    console.log(value);\n    if (name !== \"name\") {\n      newTotal = calculatePoints(name, value);\n    }\n    console.log(newTotal);\n    if (newTotal >= 0) {\n      switch (name) {\n        case \"name\":\n          setName(value);\n          break;\n        case \"str\":\n          setStr(value);\n          break;\n        case \"des\":\n          setDes(value);\n          break;\n        case \"agi\":\n          setAgi(value);\n          break;\n        case \"con\":\n          setCon(value);\n          break;\n        case \"int\":\n          setInt(value);\n          break;\n        case \"wis\":\n          setWis(value);\n          break;\n        case \"char\":\n          setChar(value);\n          break;\n        default:\n          throw Error(\"Algo fue mal con el formulario\");\n      }\n      setTotalPoints(newTotal);\n    }\n  }\n\n  function calculatePoints(name, value) {\n    let total = 27;\n    const obj = { str, des, agi, con, int, wis, char };\n    obj[name] = value;\n    for (let key in obj) {\n      total = total - (obj[key] - 8);\n    }\n\n    return total;\n  }\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Form.Group controlId=\"name\">\n        <Form.Label>Nombre del personaje</Form.Label>\n        <Form.Control onChange={onChange} value={name} name=\"name\" type=\"text\" placeholder=\"Aragor, hijo de Arathorn\" />\n      </Form.Group>\n      {!totalPoints && (\n        <p>\n          <em>Has superado el máximo de puntos a repartir</em>\n        </p>\n      )}\n      <Form.Group controlId=\"str\">\n        <Form.Label>Fuerza</Form.Label>\n        <Form.Control onChange={onChange} value={str} name=\"str\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(str / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"des\">\n        <Form.Label>Destreza</Form.Label>\n        <Form.Control onChange={onChange} value={des} name=\"des\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(des / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"agi\">\n        <Form.Label>Agilidad, velocidad</Form.Label>\n        <Form.Control onChange={onChange} value={agi} name=\"agi\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(agi / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"con\">\n        <Form.Label>Constitución física, fortaleza</Form.Label>\n        <Form.Control onChange={onChange} value={con} name=\"con\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(con / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"int\">\n        <Form.Label>Inteligencia</Form.Label>\n        <Form.Control onChange={onChange} value={int} name=\"int\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(int / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"wis\">\n        <Form.Label>Sabiduría, astucia</Form.Label>\n        <Form.Control onChange={onChange} value={wis} name=\"wis\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(wis / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"char\">\n        <Form.Label>Carisma</Form.Label>\n        <Form.Control onChange={onChange} value={char} name=\"char\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(char / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\">\n        Crear\n      </Button>\n    </Form>\n  );\n}\n\nexport default CharacterForm;\n","import React from \"react\";\nimport { Button } from \"../Buttons\";\nimport styled from \"styled-components\";\nfunction CharacterList({ characters, newSave }) {\n  const CustomLi = styled.li`\n    margin: 15px 0;\n  `;\n  console.log(newSave);\n  return (\n    <ul>\n      {characters.map((char) => (\n        <CustomLi>\n          <Button text={`${char.name}. Nivel: ${char.level}`} onClick={newSave ? () => newSave(char._id) : null} />\n          <small>\n            Fue: {char.str} Des: {char.des} Agi: {char.agi} Int: {char.int} Sab: {char.wis} Car: {char.char}\n          </small>\n        </CustomLi>\n      ))}\n    </ul>\n  );\n}\n\nexport default CharacterList;\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport CharacterForm from \"../Character/CharacterForm\";\nimport CharacterList from \"../Character/CharacterList\";\nimport savedGamesService from \"../../services/savedGames.service\";\nimport chapterService from \"../../services/chapter.service\";\n\nfunction NewSaveGame({ loggedInUser, setUser, match, updateSavedGames, history }) {\n  const ChapterService = new chapterService();\n  const SavedGamesService = new savedGamesService();\n  const [, setCharacter] = useState(null);\n  const [showForm, setShowForm] = useState(false);\n\n  function toogleForm() {\n    setShowForm(!showForm);\n  }\n\n  function newSave(chosenCharacter) {\n    ChapterService.getChaptersFromGame(match.params.gameId)\n      .then((chapters) => {\n        return SavedGamesService.createSavedGame({\n          gameId: match.params.gameId,\n          currentChapter: chapters[0]._id,\n          character: chosenCharacter,\n        });\n      })\n      .then((savedGame) => {\n        updateSavedGames(savedGame);\n        history.push(`/chapter/${savedGame._id}`);\n        return SavedGamesService.assignSaveToUser(loggedInUser._id, savedGame._id);\n      })\n      .then((updatedUser) => {\n        setUser(updatedUser);\n      });\n  }\n\n  return (\n    <>\n      <h3>Elige un personaje para jugar: </h3>\n      {loggedInUser.characters.length > 0 && <CharacterList newSave={newSave} characters={loggedInUser.characters} />}\n      <button onClick={toogleForm}>También puedes crear un nuevo personaje</button>\n      {showForm && <CharacterForm hideForm={toogleForm} setUser={setUser} loggedInUser={loggedInUser} setCharacter={setCharacter} />}\n    </>\n  );\n}\n\nexport default withRouter(NewSaveGame);\n","import React from \"react\";\nconst UserContext = React.createContext(false);\nexport const UserProvider = UserContext.Provider;\nexport default UserContext;\n","import React, { useContext } from \"react\";\n\nimport { withRouter } from \"react-router-dom\";\nimport UserContext from \"../../UserContext\";\nimport { Link } from \"react-router-dom\";\nimport { Dropdown } from \"react-bootstrap\";\n\nfunction GameBriefing(props) {\n  const { game, savedGames } = props;\n  console.log(props);\n  const loggedInUser = useContext(UserContext);\n\n  return props.noUser ? (\n    !game ? (\n      <p>Loading game</p>\n    ) : (\n      <section>\n        <article>\n          <h1>{game.title}</h1>\n          <p>{game.description}</p>\n          <Dropdown>\n            <Dropdown.Toggle variant=\"failure\" id=\"dropdown-basic\">\n              Para jugar, registrate.\n            </Dropdown.Toggle>\n\n            <Dropdown.Menu></Dropdown.Menu>\n          </Dropdown>\n        </article>\n      </section>\n    )\n  ) : !game ? (\n    <p>loading game</p>\n  ) : (\n    <section>\n      <article>\n        <h1>{game.title}</h1>\n        <p>{game.description}</p>\n        {loggedInUser ? (\n          <>\n            <Dropdown>\n              <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                Continua la aventura\n              </Dropdown.Toggle>\n\n              <Dropdown.Menu>\n                {savedGames.map((save) => (\n                  <Link to={`/chapter/${save._id}`}>\n                    <Dropdown.Item disabled>{save.character.name}</Dropdown.Item>\n                  </Link>\n                ))}\n              </Dropdown.Menu>\n            </Dropdown>\n          </>\n        ) : (\n          <button disabled={true}>Continuar la aventura</button>\n        )}\n      </article>\n    </section>\n  );\n}\n\nexport default withRouter(GameBriefing);\n","import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router\";\nimport gamesService from \"../services/games.service\";\nimport savedGamesService from \"../services/savedGames.service\";\nimport NewSaveGame from \"../components/Game/NewSaveGame\";\nimport GameBriefing from \"../components/Game/GameBriefing\";\nimport { Row, Col } from \"react-bootstrap\";\n\nfunction GameOverView(props) {\n  const GamesService = new gamesService();\n  const SavedGamesService = new savedGamesService();\n\n  const { match, loggedInUser, setUser } = props;\n  const gameId = match.params.gameId;\n  const [game, setGame] = useState(null);\n  const [savedGames, setSavedGames] = useState([]);\n\n  useEffect(() => {\n    GamesService.getOneGame(props.match.params.gameId).then((game) => setGame(game));\n    loggedInUser && SavedGamesService.getUserSaves(loggedInUser._id, gameId).then((savedGames) => setSavedGames(savedGames));\n  }, [props.match.params.gameId, loggedInUser]);\n\n  function updateSavedGames(newSave) {\n    const savedGamesCopy = [...savedGames];\n    savedGamesCopy.push(newSave);\n    setSavedGames(savedGamesCopy);\n  }\n\n  return props.noUser ? (\n    <GameBriefing game={game} noUser={props.noUser} />\n  ) : (\n    <Row style={{ justifyContent: \"space-between\" }}>\n      <Col lg={5}>\n        <NewSaveGame updateSavedGames={updateSavedGames} setUser={setUser} loggedInUser={loggedInUser} />\n      </Col>\n      <Col lg={5}>\n        <GameBriefing game={game} savedGames={savedGames} />\n      </Col>\n    </Row>\n  );\n}\n\nexport default withRouter(GameOverView);\n","import axios from \"axios\";\n\nclass characterChoicesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/characterChoices/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  makeChoice(saveId, choiceId, characterId) {\n    return this.service\n      .post(`/makeChoice`, { saveId, choiceId, characterId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default characterChoicesService;\n","import React from \"react\";\nimport characterChoicesService from \"../../services/characterChoices.service\";\nimport { withRouter } from \"react-router-dom\";\n\nfunction Chapter(props) {\n  const CharacterChoiceService = new characterChoicesService();\n  const { currentChapter, character } = props.game;\n\n  function makeChoice(e) {\n    CharacterChoiceService.makeChoice(props.game._id, e.currentTarget.id, character._id).then((result) => {\n      console.log(result);\n      props.updateChapter();\n    });\n  }\n\n  return (\n    <div>\n      <div dangerouslySetInnerHTML={{ __html: currentChapter.description }}></div>\n      {currentChapter.choices.map((choice) => {\n        return choice.successTargetChapter && choice.failureTargetChapter ? (\n          <button onClick={makeChoice} id={choice._id}>\n            {choice.description}\n          </button>\n        ) : (\n          <button disabled onClick={makeChoice} id={choice._id}>\n            {choice.description}\n          </button>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default withRouter(Chapter);\n","import React, { useEffect, useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport savedGamesService from \"../services/savedGames.service\";\nimport Chapter from \"../components/Chapter/Chapter\";\nimport { Spinner } from \"react-bootstrap\";\n\nfunction ChapterWrapper(props) {\n  const SavedGamesService = new savedGamesService();\n  const { match } = props;\n\n  const [savedGame, setSavedGame] = useState(null);\n  const [ready, setReady] = useState(false);\n\n  useEffect(() => {\n    //Not sure if this is good practice for removing the warning...\n    const update = () =>\n      SavedGamesService.getFullSave(match.params.savedGameId).then((savedGame) => {\n        console.log(savedGame, match.params.savedGameId);\n        setSavedGame(savedGame);\n        setReady(true);\n      });\n    update();\n  }, [match.params.savedGameId]);\n\n  function updateChapter() {\n    SavedGamesService.getFullSave(match.params.savedGameId).then((savedGame) => {\n      console.log(savedGame, match.params.savedGameId);\n      setSavedGame(savedGame);\n      setReady(true);\n    });\n  }\n\n  return ready ? <Chapter updateChapter={updateChapter} game={savedGame} /> : <Spinner />;\n}\n\nexport default withRouter(ChapterWrapper);\n","import React, { useEffect } from \"react\";\nimport { FlowChartWithState } from \"@mrblenny/react-flow-chart\";\n\nfunction GameFlowChart() {\n  const infoChart = { offset: { x: 0, y: 0 }, nodes: {}, links: {}, selected: {}, hovered: {} };\n\n  const game = {\n    chapters: [\n      {\n        choices: [\n          {\n            trial: {\n              difficulty: 12,\n              characteristic: \"wis\",\n            },\n            _id: \"5ee78d507cafcc6ff67a26b5\",\n            description: \"Es una trampa! Nadie regala cocretas\",\n            pxGranted: 20,\n            successTargetChapter: \"5eeb5282c9e649469cc02f57\",\n            failureTargetChapter: \"5ee78dae7cafcc6ff67a26b9\",\n            createdAt: \"2020-06-15T15:01:36.817Z\",\n            updatedAt: \"2020-06-18T14:17:56.992Z\",\n            __v: 0,\n          },\n        ],\n        _id: \"5ee78d527cafcc6ff67a26b6\",\n        description:\n          \"<p>La Encarni sale a recibirte con un grueso y sucio delantal.&nbsp;</p><p>Te dice:</p><p><strong>&nbsp;- Pasa, pasa, que he hecho cocretas!</strong></p>\",\n        createdAt: \"2020-06-15T15:01:38.268Z\",\n        updatedAt: \"2020-06-19T09:05:54.671Z\",\n        __v: 0,\n      },\n      {\n        choices: [\n          {\n            trial: {\n              difficulty: 15,\n              characteristic: \"agi\",\n            },\n            _id: \"5ee78d947cafcc6ff67a26b7\",\n            description: \"Sal echando leches\",\n            pxGranted: 40,\n            createdAt: \"2020-06-15T15:02:44.525Z\",\n            updatedAt: \"2020-06-15T15:02:44.525Z\",\n            __v: 0,\n          },\n          {\n            trial: {\n              difficulty: 20,\n              characteristic: \"str\",\n            },\n            _id: \"5ee78daa7cafcc6ff67a26b8\",\n            description: \"Vence a la tia en un combate de judo\",\n            pxGranted: 100,\n            createdAt: \"2020-06-15T15:03:06.701Z\",\n            updatedAt: \"2020-06-18T15:01:31.879Z\",\n            __v: 0,\n            failureTargetChapter: null,\n            successTargetChapter: \"5eeb5355c9e649469cc02f59\",\n          },\n        ],\n        _id: \"5ee78dae7cafcc6ff67a26b9\",\n        description: \"La cagaste burlancaster, no te diste cuenta de que era una trampa!\",\n        createdAt: \"2020-06-15T15:03:10.168Z\",\n        updatedAt: \"2020-06-18T15:01:35.968Z\",\n        __v: 0,\n      },\n      {\n        choices: [\n          {\n            trial: {\n              difficulty: 15,\n              characteristic: \"agi\",\n            },\n            _id: \"5eeb6296d575fb5b166a5a5d\",\n            description: \"Salgo corriendo por la puerta\",\n            pxGranted: 100,\n            createdAt: \"2020-06-18T12:48:22.885Z\",\n            updatedAt: \"2020-06-18T12:48:22.885Z\",\n            __v: 0,\n          },\n        ],\n        _id: \"5eeb5282c9e649469cc02f57\",\n        description: \"Te diste cuenta a tiempo. ¡Eran croquetas bomba! Ahora parece que la tía Herminia está buscando algo en un cajón\",\n        createdAt: \"2020-06-18T11:39:46.349Z\",\n        updatedAt: \"2020-06-18T12:48:26.865Z\",\n        __v: 0,\n      },\n      {\n        choices: [\n          {\n            trial: {\n              difficulty: 16,\n              characteristic: \"des\",\n            },\n            _id: \"5eeb81390147d80017ba979f\",\n            description: \"Robo una moto y me las piro de aquí\",\n            pxGranted: 20,\n            createdAt: \"2020-06-18T14:59:05.064Z\",\n            updatedAt: \"2020-06-18T14:59:05.064Z\",\n            __v: 0,\n          },\n          {\n            trial: {\n              difficulty: 8,\n              characteristic: \"des\",\n            },\n            _id: \"5eeb814b0147d80017ba97a0\",\n            description: \"Robo un patinete y me las piro de aquí\",\n            pxGranted: 0,\n            createdAt: \"2020-06-18T14:59:23.048Z\",\n            updatedAt: \"2020-06-18T14:59:23.048Z\",\n            __v: 0,\n          },\n        ],\n        _id: \"5eeb5355c9e649469cc02f59\",\n        description: \"Tus habilidades judokas acabaron con tu tia. Pero ahora la policia te persigue.\",\n        createdAt: \"2020-06-18T11:43:17.400Z\",\n        updatedAt: \"2020-06-18T14:59:31.921Z\",\n        __v: 0,\n      },\n      {\n        choices: [],\n        _id: \"5eeb5370c9e649469cc02f5b\",\n        description: \"No eres bastante rápido escapando. Estás muerto\",\n        createdAt: \"2020-06-18T11:43:44.214Z\",\n        updatedAt: \"2020-06-18T17:15:05.506Z\",\n        __v: 0,\n      },\n      {\n        choices: [],\n        _id: \"5eeba171ceae463c79f4b051\",\n        description: \"Nuevo cap\",\n        createdAt: \"2020-06-18T17:16:33.641Z\",\n        updatedAt: \"2020-06-18T17:16:33.641Z\",\n        __v: 0,\n      },\n    ],\n    _id: \"5ee782d3be81f5578be85b00\",\n    creator: \"5ee7829ebe81f5578be85aff\",\n    title: \"La casa de la Encarni\",\n    minLevel: 1,\n    description:\n      \"En la casa de la Encarni están sucendiendo cosas telibles. Las cocretas se dan la vuelta solas y el pescado sabe rico. ¿Averiguarás el misterio?\",\n    createdAt: \"2020-06-15T14:16:51.406Z\",\n    updatedAt: \"2020-06-18T17:23:31.155Z\",\n    __v: 0,\n  };\n\n  useEffect(() => {\n    function generateNode(mainObj, chapter, posX, posY) {\n      const chapNode = {\n        id: chapter._id,\n        type: \"input-output\",\n        position: {\n          x: posX,\n          y: posY,\n        },\n        ports: {},\n      };\n\n      const nodes = mainObj.nodes;\n      chapter.choices.forEach((choice) => {\n        chapNode.ports[choice._id] = {\n          id: choice._id,\n          type: \"output\",\n          properties: {\n            value: \"yes\",\n          },\n        };\n        mainObj.nodes[choice._id] = chapNode;\n        console.log(\"2\", nodes);\n\n        //genera links en mainObj\n        if (choice.successTargetChapter) {\n          //generar links\n          mainObj.links[choice.successTargetChapter] = {\n            id: choice.successTargetChapter,\n            from: {\n              nodeId: chapter._id,\n              portId: chapter._id,\n            },\n            to: {\n              nodeId: choice.successTargetChapter,\n              portId: chapter._id,\n            },\n          };\n\n          if (!mainObj.nodes[choice.successTargetChapter]) {\n            mainObj.nodes[choice.successTargetChapter] = {\n              ports: {},\n            };\n          }\n          mainObj.nodes[choice.successTargetChapter].ports[chapter._id] = { id: chapter._id, type: \"input\" };\n        }\n\n        console.log(\"3\", mainObj);\n\n        if (choice.failureTargetChapter) {\n          mainObj.links[choice.failureTargetChapter] = {\n            id: choice.failureTargetChapter,\n            from: {\n              nodeId: chapter._id,\n              portId: chapter._id,\n            },\n            to: {\n              nodeId: choice.failureTargetChapter,\n              portId: chapter._id,\n            },\n          };\n\n          console.log(\"4\", nodes);\n\n          if (!mainObj.nodes[choice.failureTargetChapter]) {\n            mainObj.nodes[choice.failureTargetChapter] = {\n              ports: {},\n              links: {},\n            };\n          }\n          console.log(\"5\", nodes);\n\n          if (!mainObj.nodes[choice.failureTargetChapter].ports[chapter._id]) {\n            mainObj.nodes[choice.failureTargetChapter].ports[chapter._id] = { id: chapter._id, type: \"input\" };\n          }\n        }\n      });\n\n      console.log(nodes);\n      for (let key in nodes) {\n        if (nodes[key].position == undefined) nodes[key].position = { x: 600, y: 600 };\n      }\n      //////////////////////////////\n    }\n\n    game.chapters.forEach((chap, idx) => {\n      generateNode(infoChart, chap, 0, (idx + 1) * 300);\n    });\n\n    console.log(infoChart, \"FINAL\");\n  }, []);\n\n  //////////////////////////////\n  return <FlowChartWithState initialValue={infoChart} />;\n}\n\nexport default GameFlowChart;\n","export const darkTheme = {\n  background: {\n    general: \"rgba(0,0,0, 0.9)\",\n    semiSolid: \"rgba(0, 0, 0, 0.7)\",\n    solid: \"rgba(11,11,11, 1)\",\n    light: \"rgba(240, 240, 240, 0.9)\",\n    modals: \"rgba(40, 40, 40, 1)\",\n    overlay: \"rgba(255, 255, 255, 0.1)\",\n    lightOverlay: \"rgba(255, 255, 255, 0.01)\",\n  },\n  colors: {\n    light: \"rgba(240, 240, 240, 0.9)\",\n    general: \"rgb(200, 200, 200)\",\n  },\n};\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\nimport Navbar from \"./layout/Navbar\";\nimport LastGames from \"./views/LastGames\";\nimport MyGames from \"./views/MyGames\";\nimport gamesService from \"./services/games.service\";\nimport authService from \"./services/auth.service\";\nimport LoginForm from \"./components/Auth/LoginForm\";\nimport SignupForm from \"./components/Auth/SignupForm\";\nimport CenteredModal from \"./components/utils/Modal\";\nimport NewGame from \"./views/NewGame\";\nimport EditChapters from \"./views/EditChapters\";\nimport GameOverview from \"./views/GameOverView\";\nimport CharacterList from \"./components/Character/CharacterList\";\nimport ChapterWrapper from \"./views/ChapterWrapper\";\nimport GameFlowChart from \"./components/utils/GameFlowchart\";\nimport { ThemeProvider, createGlobalStyle } from \"styled-components\";\n\nimport { UserProvider } from \"./UserContext\";\nimport { darkTheme } from \"./themeContext\";\n\nfunction App() {\n  const GamesService = new gamesService();\n  const AuthService = new authService();\n\n  const [lastGames, setlastGames] = useState([]);\n  const [loggedInUser, setloggedInUser] = useState(false);\n\n  function logout() {\n    AuthService.logout().then(() => setloggedInUser(null));\n  }\n\n  function setUser(user) {\n    setloggedInUser(user);\n  }\n\n  function updateLastGames() {\n    GamesService.getLastGames().then((last10) => {\n      if (Array.isArray(last10) && !last10.every((elm) => lastGames.find((game) => game._id === elm._id))) {\n        setlastGames(last10);\n      }\n    });\n  }\n\n  //Recover games on mount\n  useEffect(() => {\n    updateLastGames();\n    return () => {\n      setlastGames([]);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (loggedInUser === false) {\n      AuthService.loggedin().then((user) => {\n        if (user) setloggedInUser(user);\n        else setloggedInUser(null);\n      });\n    }\n    return () => {};\n  }, []);\n\n  const [loginModal, setloginModal] = useState(false);\n  const [signupModal, setSignupModal] = useState(false);\n\n  const GlobalStyle = createGlobalStyle`\n    html, body {\n      overflow: hidden;\n    }\n    body {\n      color: ${darkTheme.colors.general};\n      background-color: ${darkTheme.background.general};\n      -webkit-overflow-scrolling: touch;\n    }\n    a {\n      color: #eee;\n    }\n    a:hover {\n      color: #eee;\n      text-decoration: none;\n    }\n`;\n\n  return (\n    <Switch>\n      <ThemeProvider theme={darkTheme}>\n        <UserProvider value={loggedInUser}>\n          <GlobalStyle />\n          <Navbar\n            logout={logout}\n            showSignup={() => setSignupModal(true)}\n            showLogin={() => setloginModal(true)}\n            loggedInUser={loggedInUser}\n          />\n          <Container fluid>\n            <main style={{ height: \"calc(100vh - 60px)\" }} className=\"app-wrapper\">\n              <Route exact path=\"/\" render={() => <LastGames loggedInUser={loggedInUser} games={lastGames} />} />\n              {loggedInUser ? (\n                <>\n                  <Route exact path=\"/myGames\" render={() => <MyGames loggedInUser={loggedInUser} />} />\n                  <Route exact path=\"/newGame\" render={() => <NewGame updateLastGames={updateLastGames} loggedInUser={loggedInUser} />} />\n                  <Route exact path=\"/myCharacters\" render={() => <CharacterList characters={loggedInUser.characters} />} />\n                  <Route\n                    exact\n                    path=\"/modify/:gameId\"\n                    render={({ match, history }) => (\n                      <EditChapters history={history} match={match} updateLastGames={updateLastGames} loggedInUser={loggedInUser} />\n                    )}\n                  />\n                  <Route exact path=\"/chapter/:savedGameId\" render={() => <ChapterWrapper />} />\n                  <Route exact path=\"/read/:gameId\" render={() => <GameOverview setUser={setUser} loggedInUser={loggedInUser} />} />\n                  {/* <Route exact path=\"/flowchart/:gameId\" render={() => <GameFlowChart />} /> */}\n                </>\n              ) : (\n                <>\n                  <Route exact path=\"/read/:gameId\" render={() => <GameOverview noUser setUser={setUser} loggedInUser={loggedInUser} />} />\n                  <Route exact path=\"/:algo\">\n                    <h1>Para ver este contenido has de estar logueado</h1>\n                  </Route>\n                  <CenteredModal title={\"Login\"} show={loginModal} onHide={() => setloginModal(false)}>\n                    <LoginForm setUser={setUser} />\n                  </CenteredModal>\n                  <CenteredModal title={\"Signup\"} show={signupModal} onHide={() => setSignupModal(false)}>\n                    <SignupForm setUser={setUser} />\n                  </CenteredModal>\n                </>\n              )}\n            </main>\n          </Container>\n        </UserProvider>\n      </ThemeProvider>\n    </Switch>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Route path=\"/\" render={(match) => <App {...match} />} />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/d6book.f2700073.svg\";","module.exports = __webpack_public_path__ + \"static/media/d20.32c11da5.svg\";","module.exports = __webpack_public_path__ + \"static/media/playingTable.e9c5973e.png\";"],"sourceRoot":""}