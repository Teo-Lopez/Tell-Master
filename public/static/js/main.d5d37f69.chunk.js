(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,a){e.exports=a.p+"static/media/r02.bde458ff.png"},103:function(e,t,a){e.exports=a.p+"static/media/r03.d9ed47a0.png"},104:function(e,t,a){e.exports=a.p+"static/media/r04.43694589.png"},105:function(e,t,a){e.exports=a.p+"static/media/r07.8d873eb0.png"},106:function(e,t,a){e.exports=a.p+"static/media/r08.02e3d8aa.png"},107:function(e,t,a){e.exports=a.p+"static/media/r09.b799ee05.png"},108:function(e,t,a){e.exports=a.p+"static/media/r10.e872788c.png"},109:function(e,t,a){e.exports=a.p+"static/media/r11.e1fb3055.png"},110:function(e,t,a){e.exports=a.p+"static/media/r12.cc0de9f1.png"},111:function(e,t,a){e.exports=a.p+"static/media/r13.ba069347.png"},112:function(e,t,a){e.exports=a.p+"static/media/r14.1caa17d0.png"},113:function(e,t,a){e.exports=a.p+"static/media/r15.b865a968.png"},114:function(e,t,a){e.exports=a.p+"static/media/r16.ed090d48.png"},115:function(e,t,a){e.exports=a.p+"static/media/r17.65cb70b6.png"},116:function(e,t,a){e.exports=a.p+"static/media/r18.6f4ebc7c.png"},117:function(e,t,a){e.exports=a.p+"static/media/r19.c8774adb.png"},118:function(e,t,a){e.exports=a.p+"static/media/r20.d21f8366.png"},119:function(e,t,a){e.exports=a.p+"static/media/diceRoll.afd53a36.mp3"},124:function(e,t,a){e.exports=a(171)},130:function(e,t,a){},131:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a(10),l=a(28),i=a.n(l),u=(a(129),a(130),a(8)),s=a(3),m=(a(131),a(180)),d=a(183),p=a(177),h=a(184),f=a(178),g=a(7),b=a(66),E=a.n(b);var v=function(e){var t=e.onSearch,a=e.className,c=Object(n.useState)(""),o=Object(s.a)(c,2),l=o[0],i=o[1];return r.a.createElement("form",{autoComplete:"off",className:a,onSubmit:function(e){e.preventDefault()}},r.a.createElement("label",null,r.a.createElement("input",{name:"searchbar",type:"text",value:l,onChange:function(e){var a=e.currentTarget.value;i(a),t(a)}})))};function x(){var e=Object(u.a)(["\n\t.search-input {\n\t\tmargin: -14px 0;\n\t\theight: 30px;\n\t\twidth: 100%;\n\t\tlabel,\n\t\tlabel input {\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t\tborder: none;\n\t\t\tborder-radius: 5px;\n\t\t\tbackground-color: rgba(30, 30, 30);\n\t\t\tcolor: white;\n\n\t\t\t&:focus {\n\t\t\t\toutline: none;\n\t\t\t}\n\t\t}\n\t}\n\n\t.dropdown {\n\t\theight: 38px;\n\t\t/* position: absolute;\n    top: 50%;\n    left: 50%; */\n\t\t/* transform: translateX(-50%) translateY(-50%); */\n\t\t/* padding: 20px; */\n\t\tbackground-color: black;\n\t\tbox-shadow: 0 5px 10px 0 rgba(0, 0, 0, 0.5);\n\t\twidth: 300px;\n\t\tfont-family: 'Lato', sans-serif;\n\n\t\t.dropdown__switch:checked {\n\t\t\tcolor: red;\n\t\t}\n\t\t.dropdown__switch:checked + .dropdown__options-filter .dropdown__select {\n\t\t\ttransform: scaleY(1);\n\t\t\tcolor: red;\n\t\t}\n\n\t\t.dropdown__switch:checked + .dropdown__options-filter .dropdown__filter:after {\n\t\t\ttransform: rotate(-135deg);\n\t\t}\n\n\t\t.dropdown__options-filter {\n\t\t\twidth: 100%;\n\t\t\tcursor: pointer;\n\n\t\t\tul {\n\t\t\t\tz-index: 9999;\n\t\t\t\tbackground-color: black;\n\t\t\t\tlist-style: none;\n\t\t\t\tcolor: white;\n\t\t\t\tli {\n\t\t\t\t\tbackground-color: black;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.dropdown__filter-selected {\n\t\t\t\tline-height: 0px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\n\t\t.dropdown__filter {\n\t\t\tdisplay: flex;\n\t\t\tposition: relative;\n\t\t\tpadding: 20px;\n\t\t\tborder: 1px solid #d6d6d6;\n\t\t\tborder-radius: 30px;\n\t\t\tbackground-color: #fff;\n\t\t\tcolor: #595959;\n\t\t\tfont-size: 14px;\n\t\t\ttext-transform: uppercase;\n\t\t\ttransition: 0.3s;\n\t\t\theight: 36px;\n\n\t\t\t&:focus {\n\t\t\t\toutline: none;\n\t\t\t\t/* box-shadow: 0 0 5px 3px #4d1091; */\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 45%;\n\t\t\t\tright: 20px;\n\t\t\t\twidth: 10px;\n\t\t\t\theight: 10px;\n\t\t\t\ttransform: rotate(45deg) translateX(-45%);\n\t\t\t\ttransition: 0.2s ease-in-out;\n\t\t\t\tborder-right: 2px solid #595959;\n\t\t\t\tborder-bottom: 2px solid #595959;\n\t\t\t\tcontent: '';\n\t\t\t}\n\t\t}\n\n\t\t.dropdown__select {\n\t\t\tposition: absolute;\n\t\t\ttop: 100%;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\tmargin-top: 5px;\n\t\t\ttransition: 0.2s ease-in-out;\n\t\t\tfont-weight: 300;\n\t\t\tbox-shadow: 0 5px 10px 0 rgba(152, 152, 152, 0.6);\n\t\t\ttransform: scaleY(0);\n\t\t\ttransform-origin: top;\n\t\t\toverflow: hidden;\n\t\t}\n\n\t\t.dropdown__select-option {\n\t\t\tpadding: 20px;\n\t\t\ttransition: 0.3s;\n\t\t\tbackground-color: #fff;\n\t\t\tborder-bottom: 1px solid #d6d6d6;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-bottom: 0;\n\t\t\t}\n\n\t\t\t&:hover {\n\t\t\t\tbackground-color: #f9f9f9;\n\t\t\t}\n\t\t}\n\t}\n"]);return x=function(){return e},e}var C=g.c.div(x());var j=function(e){var t=e.children,a=e.onSearch;return r.a.createElement(C,null,r.a.createElement("div",{className:"dropdown"},r.a.createElement("input",{type:"checkbox",checked:!!t.length,className:"dropdown__switch",id:"filter-switch",hidden:!0}),r.a.createElement("label",{for:"filter-switch",className:"dropdown__options-filter"},r.a.createElement("ul",{className:"dropdown__filter",role:"listbox",tabindex:"-1"},r.a.createElement("li",{className:"dropdown__filter-selected"},r.a.createElement(v,{className:"search-input",onSearch:a})),r.a.createElement("li",null,r.a.createElement("ul",{className:"dropdown__select"},t))))))};function O(){var e=Object(u.a)(["\n\tdisplay: flex;\n"]);return O=function(){return e},e}var w=g.c.span(O());var k=function(e){var t=e.cb,a=Object(n.useState)([]),o=Object(s.a)(a,2),l=o[0],i=o[1],u=Object(n.useState)(""),m=Object(s.a)(u,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){return t(d).then((function(e){return i(e)})),function(){i([])}}),[d,t]),r.a.createElement(w,null,r.a.createElement(j,{onSearch:function(e){return p(e)}},l.map((function(e){return r.a.createElement("li",{"aria-selected":!0,className:"dropdown__select-option",role:"option"},r.a.createElement(c.b,{to:"/read/".concat(e._id)},e.title))}))))},y=a(16),I=a(17),S=a(18),_=a.n(S),G=function(){function e(){Object(y.a)(this,e),this.baseURL="".concat("https://tellmaster.herokuapp.com/api","/games/"),this.service=_.a.create({baseURL:this.baseURL,withCredentials:!0})}return Object(I.a)(e,[{key:"getOneGame",value:function(e){return this.service.get("/?gameId=".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"getByTitle",value:function(e){return this.service.get("/title?title=".concat(e)).then((function(e){return e.data?e.data:[]})).catch((function(e){return console.log(e)}))}},{key:"getOwnedGames",value:function(e){return this.service.get("/owned?creatorId=".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"getLastGames",value:function(){return this.service.get("/last?limit=5").then((function(e){return e.data.gamesFound})).catch((function(e){return console.log(e)}))}},{key:"createGame",value:function(e){var t=e.creator,a=e.title,n=e.minLevel,r=e.description,c=e.simple;return this.service.post("",{creator:t,title:a,minLevel:n,description:r,simple:c}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}}]),e}();function L(){var e=Object(u.a)(["\n\t\tbackground-color: rgba(0, 0, 0, 0.7);\n\t\theight: 60px;\n\t\tp,\n\t\ta {\n\t\t\tcolor: ",";\n\t\t}\n\t\t.dropdown-menu {\n\t\t\tbackground-color: ",";\n\t\t\t.dropdown-item:hover {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\t\t}\n\t"]);return L=function(){return e},e}var T=new G,U=function(e){return T.getByTitle(e)};var F=function(e){var t=e.loggedInUser,a=e.showLogin,n=e.showSignup,o=e.logout,l=Object(g.c)(d.a)(L(),(function(e){return e.theme.colors.light+"!important"}),(function(e){return e.theme.background.semiSolid}),(function(e){return e.theme.background.modals}));return!1===t?r.a.createElement(p.a,null):null===t?r.a.createElement(l,null,r.a.createElement(h.a,{style:{width:"60%"}},r.a.createElement(h.a.Item,null,r.a.createElement(h.a.Link,{as:c.c,to:"/"},r.a.createElement("img",{style:{height:"36px"},src:E.a,alt:"Logo de dado icosa\xe9drico"}))),r.a.createElement(h.a.Item,null,r.a.createElement(h.a.Link,{onClick:a},"Login")),r.a.createElement(h.a.Item,null,r.a.createElement(h.a.Link,{onClick:n},"Signup"))),r.a.createElement(h.a,{style:{width:"40%",justifyContent:"flex-end"}},r.a.createElement(k,{cb:U}))):r.a.createElement(l,null,r.a.createElement(h.a,{style:{width:"60%"}},r.a.createElement(h.a.Item,null,r.a.createElement(h.a.Link,{as:c.c,to:"/"},r.a.createElement("img",{style:{height:"36px"},src:E.a,alt:"Logo de dado icosa\xe9drico"}))),r.a.createElement(h.a.Item,null,r.a.createElement(f.a,{title:"Mis historias",id:"nav-dropdown",drop:"down"},r.a.createElement(f.a.Item,null,r.a.createElement(h.a.Link,{as:c.c,to:"/myGames"},"En juego")),r.a.createElement(f.a.Divider,null),r.a.createElement(f.a.Item,null,r.a.createElement(h.a.Link,{as:c.c,to:"/myCreatedGames"},"Creadas por m\xed")))),r.a.createElement(h.a.Item,null,r.a.createElement(h.a.Link,{as:c.c,to:"/myCharacters"},"Mis personajes")),r.a.createElement(h.a.Item,null,r.a.createElement(h.a.Link,{as:c.c,to:"/newGame"},"Crear Partida"))),r.a.createElement(h.a,{style:{width:"40%",justifyContent:"flex-end"}},r.a.createElement(k,{cb:U}),r.a.createElement(h.a.Item,{onClick:o},"Logout")))},N=a(69),A=a.n(N),z=a(59),R=a.n(z),D=a(60),H=a.n(D);function B(){var e=Object(u.a)(["\n  margin: 10px 0;\n  padding: 10px 0;\n  border-radius: 2px;\n\n  p {\n    font-size: 1.2em;\n  }\n\n  &:hover {\n    h2 {\n      transition: font-size 500ms;\n      font-size: 1.4em;\n    }\n    font-size: 1.3em;\n    background-color: ",";\n  }\n"]);return B=function(){return e},e}function M(){var e=Object(u.a)(["\n  font-size: 3em;\n  animation: "," 5s ease-out;\n  color: ",";\n  font-weight: 900;\n  letter-spacing: 5px;\n  text-align: center;\n"]);return M=function(){return e},e}function P(){var e=Object(u.a)(["\n      from {\n        opacity: 0;\n      }\n\n      to {\n        opacity: 1;\n      }\n    "]);return P=function(){return e},e}function Y(){var e=Object(u.a)(["\n  margin: 20px;\n  transform: translateY();\n  animation: "," 4s ease-out;\n"]);return Y=function(){return e},e}function Q(){var e=Object(u.a)(["\n  position: absolute;\n  left: 5%;\n  top: 100px;\n  z-index: -9000;\n  transform: rotate(-15deg);\n  opacity: 0.5;\n  filter: blur(1px);\n  filter: contrast(70%);\n  animation: "," 3s cubic-bezier(0.71, 0.57, 0.46, 0.92);\n"]);return Q=function(){return e},e}function W(){var e=Object(u.a)(["\n    from {\n      transform: translateY(1000px) rotate(0deg)\n    }\n    \n    to {\n      rotate(-15deg)\n      /* rotate(-15deg) */\n      transform: translateY(0px) rotate(-15deg)\n    }\n    "]);return W=function(){return e},e}function q(){var e=Object(u.a)(["\n    from {\n      opacity: 0;\n      transform: translateY(1000px)\n    }\n    \n    to {\n      opacity: 1;\n      transform: translateY(0px)\n    }\n  "]);return q=function(){return e},e}function J(){var e=Object(u.a)(["\n  background-color: ",";\n  text-align: center;\n  height: 80vh;\n  padding-top: 40px;\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]);return J=function(){return e},e}var X=g.c.section(J(),(function(e){return e.theme.background.lightOverlay})),$=Object(g.d)(q()),K=Object(g.d)(W()),V=g.c.img(Q(),K),Z=g.c.article(Y(),$),ee=Object(g.d)(P()),te=g.c.h1(M(),ee,(function(e){return e.theme.colors.general})),ae=g.c.div(B(),(function(e){return e.theme.background.overlay}));var ne=function(e){var t=e.games,a=e.loggedInUser,o=Object(n.useState)(!1),l=Object(s.a)(o,2),i=l[0],u=l[1];return Object(n.useEffect)((function(){if(!i){var e=document.createElement("link");e.rel="preload",e.as="image",e.href=A.a;var t=document.createElement("link"),a=document.createElement("link");t.rel="prefetch",a.rel="prefetch",t.href=R.a,a.href=H.a,t.as="image",a.as="image",document.head.append(t),document.head.append(a),document.head.append(e),u(!0)}}),[]),r.a.createElement("div",{id:"container1",style:{overflow:"hidden"}},r.a.createElement(te,null,"\xdaltimas historias"),r.a.createElement(X,{id:"container2"},r.a.createElement(V,{src:A.a}),r.a.createElement(Z,null,t.map((function(e,t){return r.a.createElement(c.b,{to:a&&a._id===e.creator?"/modify/".concat(e._id):"/read/".concat(e._id)},r.a.createElement(ae,{key:t},r.a.createElement("h2",null,e.title),r.a.createElement("em",null,"Nivel minimo: ",e.minLevel),r.a.createElement("p",null,e.description.slice(0,350))))})))))},re=function(){function e(){Object(y.a)(this,e),this.baseURL="".concat("https://tellmaster.herokuapp.com/api","/savedGames/"),this.service=_.a.create({baseURL:this.baseURL,withCredentials:!0})}return Object(I.a)(e,[{key:"getUserSaves",value:function(e,t){var a=t?"/user/?userId=".concat(e,"&gameId=").concat(t):"/user/?userId=".concat(e);return this.service.get(a).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"getAllSaves",value:function(e){var t="/user/all/?userId=".concat(e);return this.service.get(t).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"getFullSave",value:function(e){return this.service.get("/full/?saveId=".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"createSavedGame",value:function(e){var t=e.gameId,a=e.currentChapter,n=e.character;return this.service.post("",{gameId:t,currentChapter:a,character:n}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"assignSaveToUser",value:function(e,t){return this.service.post("/assign",{userId:e,saveId:t}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"updateSavedGame",value:function(e){var t=e.savedGameId,a=e.gameId,n=e.currentChapter,r=e.character,c=e.finished;return this.service.patch("",{savedGameId:t,gameId:a,currentChapter:n,character:r,finished:c}).then((function(e){return e.data}))}},{key:"deleteSave",value:function(e){return this.service.delete("",{savedGameId:e}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}}]),e}(),ce=r.a.createContext(!1),oe=ce.Provider,le=ce;var ie=function(e){var t=Object(n.useContext)(le),a=new re,o=Object(n.useState)(null),l=Object(s.a)(o,2),i=l[0],u=l[1];return Object(n.useEffect)((function(){a.getAllSaves(t._id).then((function(e){return u(e)}))}),[]),i?i.length?r.a.createElement("ul",null,i.map((function(e){return console.log(e),r.a.createElement(c.b,{to:"/read/".concat(e.gameId._id)},r.a.createElement("li",null,e.gameId.description))}))):r.a.createElement("p",null,"A\xfan no tienes historias en juego"):r.a.createElement(r.a.Fragment,null)},ue=function(){function e(){Object(y.a)(this,e),this.baseURL="".concat("https://tellmaster.herokuapp.com/api","/auth/"),this.service=_.a.create({baseURL:this.baseURL,withCredentials:!0,timeout:3e4,timeoutErrorMessage:"El servidor ha tardado demasiado tiempo en responder"})}return Object(I.a)(e,[{key:"login",value:function(e){var t=e.username,a=e.email,n=e.password;return this.service.post("login",{username:t,email:a,password:n}).then((function(e){return e.data})).catch((function(e){if(console.log({err:e}),"401"===e.response.status)return null;"ECONNABORTED"===e.code&&console.error(e.message)}))}},{key:"signup",value:function(e){var t=e.username,a=e.email,n=e.password;return this.service.post("signup",{username:t,email:a,password:n}).then((function(e){return e.data})).catch((function(e){console.log({err:e}),"ECONNABORTED"===e.code&&console.error(e.message)}))}},{key:"logout",value:function(){return this.service.post("logout").then((function(e){return e.data})).catch((function(e){console.log({err:e}),"ECONNABORTED"===e.code&&console.error(e.message)}))}},{key:"loggedin",value:function(){return this.service.get("loggedin").then((function(e){return e.data})).catch((function(e){console.log({err:e}),"ECONNABORTED"===e.code&&console.error(e.message)}))}}]),e}(),se=a(182);function me(){var e=Object(u.a)(["\n  width: 100px;\n"]);return me=function(){return e},e}function de(){var e=Object(u.a)(["\n    background-color: rgba(0, 0, 0, 1);\n    color: white;\n    border: 0.3px solid white;\n    display: inline-block;\n    font-weight: 400;\n    text-align: center;\n    vertical-align: middle;\n    -webkit-user-select: none;\n    user-select: none;\n    padding: 0.375rem 0.75rem;\n    font-size: 1rem;\n    line-height: 1.5;\n    border-radius: 0.25rem;\n    &:hover {\n      background-color: rgba(44, 44, 44, 1);\n      -webkit-box-shadow: 0px 10px 7px 1px rgba(252, 252, 252, 0.3);\n      -moz-box-shadow: 0px 1px 7px 1px rgba(252, 252, 252, 0.3);\n      box-shadow: 0px 1px 7px 1px rgba(252, 252, 252, 0.3);\n      transform: scale(1.05);\n      transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n    }\n  "]);return de=function(){return e},e}var pe=function(e){var t=g.c.button(de());return r.a.createElement(t,e,e.text)},he=Object(g.c)(pe)(me());var fe=function(e){var t=e.setUser,a=e.onHide,c=new ue,o=Object(n.useState)(""),l=Object(s.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),p=d[0],h=d[1],f=Object(n.useState)(""),g=Object(s.a)(f,2),b=g[0],E=g[1];function v(e){var t=e.currentTarget,a=t.name,n=t.value;switch(a){case"username":u(n);break;case"email":h(n);break;case"password":E(n);break;default:throw Error("no correct value")}}return r.a.createElement(se.a,{onSubmit:function(e){e.preventDefault(),c.login({username:i,email:p,password:b}).then((function(e){return t(e)})),u(""),h(""),E(""),a&&a()}},r.a.createElement(se.a.Group,{controlId:"username"},r.a.createElement(se.a.Label,null,"Username"),r.a.createElement(se.a.Control,{onChange:v,name:"username",value:i,type:"text",placeholder:"Enter username"}),r.a.createElement(se.a.Text,null,"Choose an username.")),r.a.createElement(se.a.Group,{controlId:"email",value:p},r.a.createElement(se.a.Label,null,"Email address"),r.a.createElement(se.a.Control,{onChange:v,name:"email",type:"email",placeholder:"Enter email"}),r.a.createElement(se.a.Text,null,"We'll never share your email with anyone else.")),r.a.createElement(se.a.Group,{controlId:"password",value:b},r.a.createElement(se.a.Label,null,"Password"),r.a.createElement(se.a.Control,{onChange:v,name:"password",type:"password",placeholder:"Password"})),r.a.createElement(pe,{text:"Submit",type:"submit"}))},ge=a(95);var be=function(e){var t=e.setUser,a=e.onHide,c=new ue,o=Object(n.useState)(""),l=Object(s.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),p=d[0],h=d[1],f=Object(n.useState)(""),g=Object(s.a)(f,2),b=g[0],E=g[1];function v(e){var t=e.currentTarget,a=t.name,n=t.value;switch(a){case"username":u(n);break;case"email":h(n);break;case"password":E(n);break;default:throw Error("no correct value")}}return r.a.createElement(se.a,{onSubmit:function(e){e.preventDefault(),c.signup({username:i,email:p,password:b}).then((function(e){return t(e)})),a&&a()}},r.a.createElement(se.a.Group,{controlId:"username"},r.a.createElement(se.a.Label,null,"Username"),r.a.createElement(se.a.Control,{onChange:v,name:"username",value:i,type:"text",placeholder:"Enter username"}),r.a.createElement(se.a.Text,{className:"text-muted"},"Choose an username.")),r.a.createElement(se.a.Group,{controlId:"email",value:p},r.a.createElement(se.a.Label,null,"Email address"),r.a.createElement(se.a.Control,{onChange:v,name:"email",type:"email",placeholder:"Enter email"}),r.a.createElement(se.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(se.a.Group,{controlId:"password",value:b},r.a.createElement(se.a.Label,null,"Password"),r.a.createElement(se.a.Control,{onChange:v,name:"password",type:"password",placeholder:"Password"})),r.a.createElement(ge.a,{variant:"primary",type:"submit"},"Submit"))},Ee=a(181);function ve(){var e=Object(u.a)(["\n    background-color: ",";\n    width: 40%;\n    margin: 10vh auto;\n    border-radius: 5px;\n    font-size: 1.1em;\n    color: white;\n\n    div {\n      background-color: ",";\n    }\n  "]);return ve=function(){return e},e}var xe=function(e){var t=e.show,a=e.children,c=e.onHide,o=e.title,l=e.noHeader,i=g.c.div(ve(),(function(e){return e.theme.background.modals}),(function(e){return e.theme.background.modals}));return r.a.createElement(Ee.a,{dialogAs:i,show:t,onHide:c,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,autoFocus:!0},!l&&r.a.createElement(Ee.a.Header,{closeButton:!0,onHide:c},r.a.createElement(Ee.a.Title,{id:"contained-modal-title-vcenter"},o)),r.a.createElement(Ee.a.Body,null,Object(n.cloneElement)(a,{show:t,onHide:c})))};var Ce=Object(o.f)((function(e){var t=e.loggedInUser,a=e.updateLastGames,c=e.history,o=e.simple,l=new G,i=Object(n.useState)(""),u=Object(s.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(1),h=Object(s.a)(p,2),f=h[0],g=h[1],b=Object(n.useState)(""),E=Object(s.a)(b,2),v=E[0],x=E[1];function C(e){var t=e.currentTarget,a=t.name,n=t.value;switch(a){case"title":d(n);break;case"description":x(n);break;case"minLevel":g(n);break;default:throw Error("Algo ha ido mal con el formulario")}}return r.a.createElement("div",null,r.a.createElement("h2",null,"Crear un nuevo juego es muy sencillo tan solo necesitas..."),r.a.createElement(se.a,{onSubmit:function(e){e.preventDefault(),o&&g(1),l.createGame({creator:t._id,title:m,minLevel:f,description:v,simple:o}).then((function(e){a(),console.log(e),c.push("/modify/".concat(e._id)),console.log(e)}))}},r.a.createElement(se.a.Group,{controlId:"title"},r.a.createElement(se.a.Label,null,"Elegir un titulo:"),r.a.createElement(se.a.Control,{name:"title",onChange:C,value:m,type:"text",placeholder:"El titulo de tu historia!"})),!o&&r.a.createElement(se.a.Group,{controlId:"minLevel"},r.a.createElement(se.a.Label,null,"Un nivel m\xednimo para comenzar la aventura:"),r.a.createElement("p",null,f),r.a.createElement(se.a.Control,{name:"minLevel",onChange:C,value:f,type:"range",min:"1",max:"20",step:"1",placeholder:"Ej: 5"}),r.a.createElement(se.a.Text,{className:"text-muted"},"Las aventuras b\xe1sicas comienzan en nivel 1, de 8 a 14 ya son todo un reto, a partir de ah\xed los heroes pueden luchar contra los mismos dioses.")),r.a.createElement(se.a.Group,{controlId:"description"},r.a.createElement(se.a.Label,null,"El resumen de tu aventura! Hazlo atractivo de forma que la gente quiera jugarla ;)"),r.a.createElement(se.a.Control,{name:"description",onChange:C,value:v,type:"text",placeholder:"El titulo de tu historia!"})),r.a.createElement(he,{type:"submit",text:"Crear"})))})),je=a(179),Oe=a(96);function we(){var e=Object(u.a)(["\n  z-index: -9000;\n  opacity: 0.5;\n  filter: blur(1px);\n  filter: contrast(80%);\n"]);return we=function(){return e},e}var ke=g.c.img(we()),ye=function(e){return r.a.createElement(ke,e)};function Ie(){var e=Object(u.a)(["\n    position: absolute;\n    right: 0px;\n    top: -40px;\n    max-height: 200px;\n    max-width: 200px;\n    transform: rotate(15deg);\n  "]);return Ie=function(){return e},e}function Se(){var e=Object(u.a)(["\n    position: absolute;\n    left: 0px;\n    top: -40px;\n    max-height: 200px;\n    max-width: 200px;\n    transform: rotate(-15deg);\n  "]);return Se=function(){return e},e}function _e(){var e=Object(u.a)(["\n    text-align: center;\n    font-size: 3rem;\n\n    &:hover {\n      cursor: pointer;\n      transform: scale(1.2);\n      p {\n        text-shadow: 0px 10px 10px white;\n        border-top: 1px solid white;\n      }\n    }\n  "]);return _e=function(){return e},e}function Ge(){var e=Object(u.a)(["\n    align-items: center;\n    height: calc(60vh);\n  "]);return Ge=function(){return e},e}var Le=function(e){var t=e.setMode,a=Object(g.c)(je.a)(Ge()),n=Object(g.c)(Oe.a)(_e()),c=Object(g.c)(ye)(Se()),o=Object(g.c)(ye)(Ie());return r.a.createElement(a,null,r.a.createElement(n,{onClick:function(){return t(!0)}},r.a.createElement(c,{src:R.a}),r.a.createElement("p",null,"Historia simple")),r.a.createElement(n,{onClick:function(){return t(!1)}},r.a.createElement(o,{src:H.a}),r.a.createElement("p",null,"Aventura de Rol")))};var Te=function(e){var t=e.loggedInUser,a=e.updateLastGames,c=Object(n.useState)(null),o=Object(s.a)(c,2),l=o[0],i=o[1];return null===l?r.a.createElement(Le,{setMode:i}):r.a.createElement(Ce,{simple:l,updateLastGames:a,loggedInUser:t})},Ue=a(62),Fe=a(29),Ne=a(185),Ae=function(){function e(){Object(y.a)(this,e),this.baseURL="".concat("https://tellmaster.herokuapp.com/api","/choices/"),this.service=_.a.create({baseURL:this.baseURL,withCredentials:!0})}return Object(I.a)(e,[{key:"getChoicesFromChapter",value:function(e){return this.service.get("/?chapterId=".concat(e)).then((function(e){return e.data.choicesFound})).catch((function(e){return console.log(e)}))}},{key:"createChoice",value:function(e){var t=e.description,a=e.trial,n=e.successTargetChapter,r=e.failureTargetChapter,c=e.pxGranted;return this.service.post("",{description:t,trial:a,successTargetChapter:n,failureTargetChapter:r,pxGranted:c}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"updateChoice",value:function(e){return this.service.patch("/",e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"deleteChoice",value:function(e){return this.service.delete("",{choiceId:e}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}}]),e}(),ze=function(){function e(){Object(y.a)(this,e),this.baseURL="".concat("https://tellmaster.herokuapp.com/api","/chapters/"),this.service=_.a.create({baseURL:this.baseURL,withCredentials:!0})}return Object(I.a)(e,[{key:"getChapter",value:function(e){return this.service.get("/?chapterId=".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"getChaptersFromGame",value:function(e){return this.service.get("/fromGame/?gameId=".concat(e)).then((function(e){return e.data.chapters})).catch((function(e){return console.log(e)}))}},{key:"createChapter",value:function(e){var t=e.description,a=e.choices,n=e.gameId,r=e.title,c=e.last;return this.service.post("",{description:t,choices:a,gameId:n,title:r,last:c}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"updateChapter",value:function(e){return this.service.patch("/",e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}}]),e}(),Re=new ze,De=new Ae;var He=Object(o.f)((function(e){var t=e.finishChoiceForm,a=e.idx,c=e.choice,o=e.toogleCard,l=e.closeChoiceForm,i=e.match,u=e.simple,m=Object(n.useState)(c?c.description:""),d=Object(s.a)(m,2),p=d[0],h=d[1],f=Object(n.useState)(c?c.trial.difficulty:10),g=Object(s.a)(f,2),b=g[0],E=g[1],v=Object(n.useState)(c?c.trial.characteristic:"str"),x=Object(s.a)(v,2),C=x[0],j=x[1],O=Object(n.useState)(c?c.pxGranted:0),w=Object(s.a)(O,2),k=w[0],y=w[1],I=Object(n.useState)(c?c.successTargetChapter:null),S=Object(s.a)(I,2),_=S[0],G=S[1],L=Object(n.useState)(c?c.failureTargetChapter:null),T=Object(s.a)(L,2),U=T[0],F=T[1],N=Object(n.useState)([]),A=Object(s.a)(N,2),z=A[0],R=A[1];function D(e){De.createChoice(e).then((function(e){t(e._id,a,e)}))}function H(e){De.updateChoice(e).then((function(e){o(a)}))}function B(e){var t=e.currentTarget,a=t.name,n=t.value;switch(a){case"description":h(n);break;case"difficulty":E(n);break;case"characteristic":console.log(n),j(n);break;case"pxGranted":console.log(n),y(n);break;case"successTargetChapter":console.log(n),G(n);break;case"failureTargetChapter":console.log(n),F(n);break;default:throw Error("Algo ha ido mal con el formulario")}}return Object(n.useEffect)((function(){Re.getChaptersFromGame(i.params.gameId).then((function(e){R(e)}))}),[i.params.gameId]),r.a.createElement(Ne.a,null,r.a.createElement(se.a,{onSubmit:function(e){e.preventDefault();var t={difficulty:b,characteristic:C};if(c&&u)c.trial={difficulty:-10,characteristic:"str"},c.description=p,c.pxGranted=0,c.successTargetChapter=_,c.failureTargetChapter=_,H(c);else if(c)c.trial=t,c.description=p,c.pxGranted=k,c.successTargetChapter=_,c.failureTargetChapter=U,H(c);else if(u){console.log("creaci\xf3n simple");var a={description:p,trial:{difficulty:-10,characteristic:"str"},pxGranted:0,successTargetChapter:_,failureTargetChapter:_};console.log(a,"choice pa tu body"),D(a)}else{D({description:p,trial:t,pxGranted:k,successTargetChapter:_,failureTargetChapter:U})}},className:"choiceForm"},r.a.createElement(Ne.a.Header,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(ge.a,{onClick:function(){l?l(a):o(a)},style:{width:"40px"},variant:"danger"},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement(ge.a,{type:"submit",style:{width:"40px"},variant:"success"},r.a.createElement("i",{className:"fas fa-check"}))),r.a.createElement(Ne.a.Body,null,r.a.createElement(se.a.Group,{controlId:"choice"},r.a.createElement(se.a.Label,null,"Describe la elecci\xf3n:"),r.a.createElement(se.a.Control,{as:"textarea",name:"description",onChange:B,value:p,placeholder:"Fuerzo la puerta"}),!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a.Label,null,"\xbfQue dificultad tiene?"),r.a.createElement(se.a.Control,{type:"number",name:"difficulty",onChange:B,value:b}),c?null:r.a.createElement(se.a.Text,null,"Dificultades de 10 son adecuadas para una persona media, 15 son para expertos y 20 para verdaderos prod\xedgios."),r.a.createElement(se.a.Label,null,"\xbfQu\xe9 caracteristica es necesaria para superarla?"),r.a.createElement(se.a.Control,{onChange:B,name:"characteristic",as:"select",custom:!0},r.a.createElement("option",{value:"str"},"Fuerza"),r.a.createElement("option",{value:"des"},"Destreza"),r.a.createElement("option",{value:"agi"},"Agilidad, velocidad"),r.a.createElement("option",{value:"con"},"Constituci\xf3n f\xedsica"),r.a.createElement("option",{value:"int"},"Inteligencia"),r.a.createElement("option",{value:"wis"},"Sabidur\xeda"),r.a.createElement("option",{value:"char"},"Carisma")))),!u&&r.a.createElement(se.a.Group,{controlId:"choice"},r.a.createElement(se.a.Label,null,"Cuanta experiencia da el \xe9xito:"),r.a.createElement(se.a.Control,{name:"pxGranted",onChange:B,value:k,placeholder:"100",type:"number"}))),r.a.createElement(se.a.Group,{controlId:"successTargetChapter"},r.a.createElement(se.a.Label,null,u?"Cap de destino":"Cap de destino con exito:"),r.a.createElement(se.a.Control,{as:"select",custom:!0,name:"successTargetChapter",onChange:B},r.a.createElement("option",{value:"null"},"Ninguno"),z.map((function(e){return e._id===_?r.a.createElement("option",{dangerouslySetInnerHTML:{__html:e.title},selected:!0,value:e._id}):r.a.createElement("option",{dangerouslySetInnerHTML:{__html:e.title},value:e._id})})))),!u&&r.a.createElement(se.a.Group,{controlId:"failureTargetChapter"},r.a.createElement(se.a.Label,null,"Cap de destino con fracaso:"),r.a.createElement(se.a.Control,{as:"select",name:"failureTargetChapter",custom:!0,onChange:B},r.a.createElement("option",{value:"null"},"Ninguno"),z.map((function(e){return e._id===U?r.a.createElement("option",{dangerouslySetInnerHTML:{__html:e.title},selected:!0,value:e._id}):r.a.createElement("option",{dangerouslySetInnerHTML:{__html:e.title},value:e._id})}))))))}));function Be(){var e=Object(u.a)(["\n\twidth: 25%;\n\t/* background-color: ","; */\n"]);return Be=function(){return e},e}function Me(){var e=Object(u.a)(["\n\tdisplay: flex;\n\tbackground-color: ",";\n\tpadding: 10px;\n"]);return Me=function(){return e},e}function Pe(){var e=Object(u.a)(["\n\tborder: ",";\n\tmargin: 15px 0;\n\tcolor: ",";\n\tform {\n\t\tborder-top: 1px solid rgba(200, 200, 200, 1);\n\t\tbackground-color: ",";\n\t}\n"]);return Pe=function(){return e},e}var Ye=g.c.div(Pe(),(function(e){return"1px solid "+e.theme.colors.general}),(function(e){return e.theme.colors.light}),(function(e){return e.theme.background.modals})),Qe=g.c.div(Me(),(function(e){return e.theme.background.modals})),We=g.c.div(Be(),(function(e){return e.theme.background.modals}));var qe=Object(o.f)((function(e){var t=e.finishChoiceForm,a=e.idx,c=e.choice,o=e.toogleCard,l=e.closeChoiceForm,i=e.match,u=e.simple,m=new ze,d=new Ae,p=Object(n.useState)(c?c.description:""),h=Object(s.a)(p,2),f=h[0],g=h[1],b=Object(n.useState)(c?c.trial.difficulty:10),E=Object(s.a)(b,2),v=E[0],x=E[1],C=Object(n.useState)(c?c.trial.characteristic:"str"),j=Object(s.a)(C,2),O=j[0],w=j[1],k=Object(n.useState)(c?c.pxGranted:0),y=Object(s.a)(k,2),I=y[0],S=y[1],_=Object(n.useState)(c?c.successTargetChapter:null),G=Object(s.a)(_,2),L=G[0],T=G[1],U=Object(n.useState)(c?c.failureTargetChapter:null),F=Object(s.a)(U,2),N=F[0],A=F[1],z=Object(n.useState)([]),R=Object(s.a)(z,2),D=R[0],H=R[1];function B(e){d.createChoice(e).then((function(e){t(e._id,a,e)}))}function M(e){d.updateChoice(e).then((function(e){o(a)}))}function P(e){e.preventDefault();var t={difficulty:v,characteristic:O};if(c&&u)c.trial={difficulty:-10,characteristic:"str"},c.description=f,c.pxGranted=0,c.successTargetChapter=L,c.failureTargetChapter=L,M(c);else if(c)c.trial=t,c.description=f,c.pxGranted=I,c.successTargetChapter=L,c.failureTargetChapter=N,M(c);else if(u){console.log("creaci\xf3n simple");var a={description:f,trial:{difficulty:-10,characteristic:"str"},pxGranted:0,successTargetChapter:L,failureTargetChapter:L};console.log(a,"choice pa tu body"),B(a)}else{B({description:f,trial:t,pxGranted:I,successTargetChapter:L,failureTargetChapter:N})}}function Y(e){var t=e.currentTarget,a=t.name,n=t.value;switch(a){case"description":g(n);break;case"difficulty":x(n);break;case"characteristic":console.log(n),w(n);break;case"pxGranted":console.log(n),S(n);break;case"successTargetChapter":console.log(n),T(n);break;case"failureTargetChapter":console.log(n),A(n);break;default:throw Error("Algo ha ido mal con el formulario")}}return Object(n.useEffect)((function(){m.getChaptersFromGame(i.params.gameId).then((function(e){H(e)}))}),[i.params.gameId,m]),r.a.createElement(Ye,null,r.a.createElement(Qe,null,r.a.createElement("div",{onClick:function(){l?l(a):o(a)},style:{borderRadius:"5px",padding:"2px",marginRight:"20px",height:"30px",width:"30px",backgroundColor:"red",textAlign:"center"}},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("div",{onClick:P,style:{borderRadius:"5px",padding:"2px",marginRight:"20px",height:"30px",width:"30px",backgroundColor:"green",textAlign:"center"}},r.a.createElement("i",{className:"fas fa-check"}))),r.a.createElement("form",{onSubmit:P,className:"choiceForm"},r.a.createElement(Qe,null,r.a.createElement(We,null,r.a.createElement("label",null,"Describe la elecci\xf3n:",r.a.createElement("textarea",{id:"description",name:"description",onChange:Y,value:f,placeholder:"Fuerzo la puerta"}))),r.a.createElement(We,null,!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"\xbfQue dificultad tiene?",r.a.createElement("input",{id:"difficulty",type:"number",name:"difficulty",onChange:Y,value:v,placeholder:"Fuerzo la puerta"})),c?null:r.a.createElement("small",null,"Dificultades de 10 son adecuadas para una persona media, 15 son para expertos y 20 para verdaderos prod\xedgios."),r.a.createElement("label",null,"\xbfQu\xe9 caracteristica es necesaria para superarla?",r.a.createElement("select",{id:"characteristic",onChange:Y,name:"characteristic"},r.a.createElement("option",{value:"str"},"Fuerza"),r.a.createElement("option",{value:"des"},"Destreza"),r.a.createElement("option",{value:"agi"},"Agilidad, velocidad"),r.a.createElement("option",{value:"con"},"Constituci\xf3n f\xedsica"),r.a.createElement("option",{value:"int"},"Inteligencia"),r.a.createElement("option",{value:"wis"},"Sabidur\xeda"),r.a.createElement("option",{value:"char"},"Carisma"))))),r.a.createElement(We,null,!u&&r.a.createElement("label",null,"Cuanta experiencia da el \xe9xito:",r.a.createElement("input",{id:"pxGranted",name:"pxGranted",onChange:Y,value:I,placeholder:"100",type:"number"}))),r.a.createElement(We,null,r.a.createElement("label",null,u?"Cap de destino":"Cap de destino con exito:",r.a.createElement("select",{id:"successTargetChapter",name:"successTargetChapter",onChange:Y},r.a.createElement("option",{value:"null"},"Ninguno"),D.map((function(e){return e._id===L?r.a.createElement("option",{selected:!0,value:e._id},e.title):r.a.createElement("option",{value:e._id},e.title)})))),!u&&r.a.createElement("label",null,"Cap de destino con fracaso:",r.a.createElement("select",{id:"failuterTargetChapter",as:"select",name:"failureTargetChapter",custom:!0,onChange:Y},r.a.createElement("option",{value:"null"},"Ninguno"),D.map((function(e){return e._id===N?r.a.createElement("option",{selected:!0,value:e._id},e.title):r.a.createElement("option",{value:e._id},e.title)}))))))))}));var Je=function(e){var t=e.choice,a=e.idx,n=e.toogleCard,c=e.simple;return r.a.createElement(Ne.a,null,r.a.createElement(Ne.a.Header,{onClick:function(){return n(a)}},"Editar"),r.a.createElement(Ne.a.Body,{style:{color:"black",backgroundColor:t.successTargetChapter&&t.failureTargetChapter?"rgba(0,255,127, 0.3)":"rgba(255,165,0, 0.5)"}},r.a.createElement("p",null,t.description),!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,function(e){var t;switch(e){case"str":t="Fuerza";break;case"des":t="Destreza";break;case"agi":t="Agilidad, velocidad";break;case"con":t="Constituci\xf3n";break;case"wis":t="Sabidur\xeda";break;case"int":t="Inteligencia";break;case"char":t="Carisma";break;default:throw Error("algo fue mal con la card de la choice")}return t}(t.trial.characteristic)),r.a.createElement("p",null,t.trial.difficulty),r.a.createElement("p",null,t.pxGranted))))},Xe=a(98),$e=a.n(Xe),Ke=a(99),Ve=a.n(Ke);function Ze(){var e=Object(u.a)(["\n\tmargin-bottom: 10px;\n\tcolor: black;\n"]);return Ze=function(){return e},e}function et(){var e=Object(u.a)(["\n\ttransition: height 400s ease-out;\n\theight: ",";\n\t/* background-color: ","; */\n"]);return et=function(){return e},e}var tt=new ze,at=g.c.div(et(),(function(e){return e.ready?"auto":"15px"}),(function(e){return e.ready?"white":"red"})),nt=g.c.div(Ze());var rt=Object(o.f)((function(e){var t=e.updateLastGames,a=e.match,c=e.chapterId,o=e.getAllChapters,l=e.closeNewChapterForm,i=e.simple,u=a.params.gameId,m=Object(n.useState)(""),d=Object(s.a)(m,2),p=d[0],h=d[1],f=Object(n.useState)([]),g=Object(s.a)(f,2),b=g[0],E=g[1],v=Object(n.useState)([]),x=Object(s.a)(v,2),C=x[0],j=x[1],O=Object(n.useState)([]),w=Object(s.a)(O,2),k=w[0],y=w[1],I=Object(n.useState)(!1),S=Object(s.a)(I,2),_=S[0],G=S[1],L=Object(n.useState)(""),T=Object(s.a)(L,2),U=T[0],F=T[1],N=Object(n.useState)(!1),A=Object(s.a)(N,2),z=A[0],R=A[1],D=Object(n.useCallback)((function(){c&&tt.getChapter(c).then((function(e){F(e.title),h(e.description),j(e.choices),E(e.choices.filter((function(e){return e._id}))),G(!0),R(e.last)}))}),[c]);function H(e,t,a){!function(e,t){var a=Object(Fe.a)(b);a.push(e),E(a)}(e),function(e){var t=Object(Fe.a)(C);t.push(e),j(t)}(a),B(t)}function B(e){var t=Object(Fe.a)(k);t.splice(e,1),y(t)}function M(e){console.log(e);var t=Object(Fe.a)(C),a=Object(Ue.a)({},t[e]);a.show=!C[e].show,t.splice(e,1,a),j(t)}function P(e){var t=e.currentTarget,a=t.name,n=t.value,r=t.checked;switch(a){case"title":F(n);break;case"last":console.log(r),R(r);break;default:throw Error("Error onChange")}}return Object(n.useEffect)((function(){D()}),[D]),c&&r.a.createElement(at,{ready:_},_?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"T\xedtulo del cap\xedtulo:",r.a.createElement("input",{onChange:P,placeholder:"#1.0 El comienzo",name:"title",value:U,maxLength:"230"})),r.a.createElement("div",{className:".ck-editor"},r.a.createElement(nt,null,r.a.createElement($e.a,{editor:Ve.a,data:p,placeholder:"El texto del capitulo va aqu\xed",onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var a=t.getData();h(a),console.log({event:e,editor:t,data:a})},onBlur:function(e,t){console.log("Blur.",t)},onFocus:function(e,t){console.log("Focus.",t)}})),r.a.createElement("div",{style:{margin:"10px 0"}},r.a.createElement(je.a,null,C.map((function(e,t){return r.a.createElement(Oe.a,{key:t,lg:3},e.show?r.a.createElement(xe,{noHeader:!0,show:!0},r.a.createElement(He,{simple:i,toogleCard:M,choice:e,idx:t})):r.a.createElement(Je,{toogleCard:M,choice:e,idx:t,simple:i}))}))),r.a.createElement("div",{style:{margin:"10px 0"}},r.a.createElement(ge.a,{style:{margin:"0 5px"},onClick:function(){var e=Object(Fe.a)(k);e.push(!0),y(e)}},"A\xf1adir elecci\xf3n"),r.a.createElement(ge.a,{style:{margin:"0 5px"},onClick:function(e){var a;e.preventDefault(),p&&(c?(a={_id:c,description:p,choices:b,title:U,last:z},tt.updateChapter(a).then((function(e){t(),D(),o()})).catch((function(e){return console.log(e)}))):(!function(e){tt.createChapter(e).then((function(e){o(),t()})).catch((function(e){return console.log(e)}))}({description:p,choices:b,gameId:u,title:U,last:z}),l()))}},c?"Guardar cambios":"Crear"))),k.map((function(e,t){return r.a.createElement("div",{key:t},r.a.cloneElement(r.a.createElement(qe,null),{idx:t,finishChoiceForm:H,closeChoiceForm:B,simple:i}))})),r.a.createElement("div",null,r.a.createElement("label",null,"Last chapter?",r.a.createElement("input",{onChange:P,name:"last",checked:z,type:"checkbox"}))))):r.a.createElement("p",null,"loading"))}));function ct(){var e=Object(u.a)(["\n    html, body {\n      overflow: auto\n    }\n  "]);return ct=function(){return e},e}function ot(){var e=Object(u.a)(["\n\tborder-radius: 3px;\n\tbackground-color: ",";\n\tpadding: 15px;\n\tmargin-bottom: 15px;\n\ttransition: all 2s;\n\t&:hover {\n\t}\n"]);return ot=function(){return e},e}function lt(){var e=Object(u.a)(["\n\tbackground-color: ",";\n\tborder-radius: 2px;\n\tpadding: 15px;\n\ttransition: all 2s;\n"]);return lt=function(){return e},e}var it=new ze,ut=new G,st=g.c.div(lt(),(function(e){return e.theme.background.modals})),mt=g.c.div(ot(),(function(e){return e.theme.background.list}));var dt=function(e){var t=e.loggedInUser,a=e.updateLastGames,c=e.match,o=e.history,l=Object(g.b)(ct()),i=Object(n.useState)([]),u=Object(s.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(!1),h=Object(s.a)(p,2),f=h[0],b=h[1],E=Object(n.useState)(null),v=Object(s.a)(E,2),x=v[0],C=v[1],j=Object(n.useCallback)((function(){ut.getOneGame(c.params.gameId).then((function(e){C(e.simple),e.creator!==t._id&&o.replace("/read/".concat(c.params.gameId))}))}),[c.params.gameId,o,t]),O=Object(n.useCallback)(it.getChaptersFromGame(c.params.gameId).then((function(e){d(e)}),[c.params.gameId]));return Object(n.useEffect)((function(){j()}),[t,j]),Object(n.useEffect)((function(){O()}),[O]),r.a.createElement(r.a.Fragment,null,r.a.createElement(l,null),m.length?r.a.createElement(st,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Edita los capitulos ya creados"),m.map((function(e,n){return r.a.createElement(mt,null,r.a.createElement("div",{style:{width:"100%"},active:e.show,onClick:function(){return function(e){var t=Object(Fe.a)(m),a=Object(Ue.a)({},t[e]);a.show=!m[e].show,t.splice(e,1,a),d(t)}(n)}},r.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.title}})),e.show&&r.a.createElement(rt,{simple:x,chapterId:e._id,getAllChapters:O,loggedInUser:t,updateLastGames:a}))})))):null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{style:{margin:"10px 0"}},r.a.createElement("h1",null,"Escribe un nuevo capitulo"),r.a.createElement("div",{onClick:function(){return b(!f)}},r.a.createElement(pe,{text:m.length?"Escribe un nuevo capitulo":"Escribe el primer cap\xedtulo"}))),f&&r.a.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.1)",padding:"10px"}},r.a.createElement(rt,{simple:x,closeNewChapterForm:function(){return b(!1)},getAllChapters:O,loggedInUser:t,updateLastGames:a})))))},pt=function(){function e(){Object(y.a)(this,e),this.baseURL="".concat("https://tellmaster.herokuapp.com/api","/characters/"),this.service=_.a.create({baseURL:this.baseURL,withCredentials:!0})}return Object(I.a)(e,[{key:"getCharactersFromUser",value:function(e){return this.service.get("/?userId=".concat(e)).then((function(e){return e.data.characters})).catch((function(e){return console.log(e)}))}},{key:"createCharacter",value:function(e){return this.service.post("",{character:e}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},{key:"assignCharacterToUser",value:function(e,t){return this.service.post("assign",{userId:e,characterId:t}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}}]),e}();var ht=function(e){e.setCharacter;var t=e.hideForm,a=e.setUser,c=e.loggedInUser,o=new pt,l=Object(n.useState)(""),i=Object(s.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)(100),p=Object(s.a)(d,1)[0],h=Object(n.useState)(8),f=Object(s.a)(h,2),g=f[0],b=f[1],E=Object(n.useState)(8),v=Object(s.a)(E,2),x=v[0],C=v[1],j=Object(n.useState)(8),O=Object(s.a)(j,2),w=O[0],k=O[1],y=Object(n.useState)(8),I=Object(s.a)(y,2),S=I[0],_=I[1],G=Object(n.useState)(8),L=Object(s.a)(G,2),T=L[0],U=L[1],F=Object(n.useState)(8),N=Object(s.a)(F,2),A=N[0],z=N[1],R=Object(n.useState)(8),D=Object(s.a)(R,2),H=D[0],B=D[1],M=Object(n.useState)(27),P=Object(s.a)(M,2),Y=P[0],Q=P[1];function W(e){var t=e.currentTarget,a=t.name,n=t.value,r=Y;if(console.log(n),"name"!==a&&(r=function(e,t){var a=27,n={str:g,des:x,agi:w,con:S,int:T,wis:A,char:H};for(var r in n[e]=t,n)a-=n[r]-8;return a}(a,n)),console.log(r),r>=0){switch(a){case"name":m(n);break;case"str":b(n);break;case"des":C(n);break;case"agi":k(n);break;case"con":_(n);break;case"int":U(n);break;case"wis":z(n);break;case"char":B(n);break;default:throw Error("Algo fue mal con el formulario")}Q(r)}}return r.a.createElement(se.a,{onSubmit:function(e){e.preventDefault();var n={name:u,hp:p,str:g,des:x,agi:w,con:S,int:T,wis:A,char:H};o.createCharacter(n).then((function(e){o.assignCharacterToUser(c._id,e._id).then((function(e){a(e)})),m(""),t()}))}},r.a.createElement(se.a.Group,{controlId:"name"},r.a.createElement(se.a.Label,null,"Nombre del personaje"),r.a.createElement(se.a.Control,{onChange:W,value:u,name:"name",type:"text",placeholder:"Aragor, hijo de Arathorn"})),!Y&&r.a.createElement("p",null,r.a.createElement("em",null,"Has superado el m\xe1ximo de puntos a repartir")),r.a.createElement(se.a.Group,{controlId:"str"},r.a.createElement(se.a.Label,null,"Fuerza"),r.a.createElement(se.a.Control,{onChange:W,value:g,name:"str",type:"number",min:7,max:18}),r.a.createElement(se.a.Text,null,"Bonificaci\xf3n al dado: ",parseInt(g/2-5))),r.a.createElement(se.a.Group,{controlId:"des"},r.a.createElement(se.a.Label,null,"Destreza"),r.a.createElement(se.a.Control,{onChange:W,value:x,name:"des",type:"number",min:7,max:18}),r.a.createElement(se.a.Text,null,"Bonificaci\xf3n al dado: ",parseInt(x/2-5))),r.a.createElement(se.a.Group,{controlId:"agi"},r.a.createElement(se.a.Label,null,"Agilidad, velocidad"),r.a.createElement(se.a.Control,{onChange:W,value:w,name:"agi",type:"number",min:7,max:18}),r.a.createElement(se.a.Text,null,"Bonificaci\xf3n al dado: ",parseInt(w/2-5))),r.a.createElement(se.a.Group,{controlId:"con"},r.a.createElement(se.a.Label,null,"Constituci\xf3n f\xedsica, fortaleza"),r.a.createElement(se.a.Control,{onChange:W,value:S,name:"con",type:"number",min:7,max:18}),r.a.createElement(se.a.Text,null,"Bonificaci\xf3n al dado: ",parseInt(S/2-5))),r.a.createElement(se.a.Group,{controlId:"int"},r.a.createElement(se.a.Label,null,"Inteligencia"),r.a.createElement(se.a.Control,{onChange:W,value:T,name:"int",type:"number",min:7,max:18}),r.a.createElement(se.a.Text,null,"Bonificaci\xf3n al dado: ",parseInt(T/2-5))),r.a.createElement(se.a.Group,{controlId:"wis"},r.a.createElement(se.a.Label,null,"Sabidur\xeda, astucia"),r.a.createElement(se.a.Control,{onChange:W,value:A,name:"wis",type:"number",min:7,max:18}),r.a.createElement(se.a.Text,null,"Bonificaci\xf3n al dado: ",parseInt(A/2-5))),r.a.createElement(se.a.Group,{controlId:"char"},r.a.createElement(se.a.Label,null,"Carisma"),r.a.createElement(se.a.Control,{onChange:W,value:H,name:"char",type:"number",min:7,max:18}),r.a.createElement(se.a.Text,null,"Bonificaci\xf3n al dado: ",parseInt(H/2-5))),r.a.createElement(ge.a,{variant:"primary",type:"submit"},"Crear"))};function ft(){var e=Object(u.a)(["\n    margin: 15px 0;\n  "]);return ft=function(){return e},e}var gt=function(e){var t=e.characters,a=e.onClick,n=g.c.li(ft());return t.length?r.a.createElement("ul",null,t.map((function(e){return e.name.includes("Simple Game")?null:r.a.createElement(n,null,r.a.createElement(pe,{text:"".concat(e.name,". Nivel: ").concat(e.level),onClick:a?function(){return a(e._id)}:null}),r.a.createElement("small",null,"Fue: ",e.str," Des: ",e.des," Agi: ",e.agi," Int: ",e.int," Sab: ",e.wis," Car: ",e.char))}))):r.a.createElement("div",null,r.a.createElement("p",null,"A\xfan no tienes personajes creados."))};var bt=Object(o.f)((function(e){var t=e.loggedInUser,a=e.setUser,c=e.match,o=e.updateSavedGames,l=e.history,i=new ze,u=new re,m=Object(n.useState)(null),d=Object(s.a)(m,2)[1],p=Object(n.useState)(!1),h=Object(s.a)(p,2),f=h[0],g=h[1];function b(){g(!f)}return console.log(t.characters.length),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Elige un personaje para jugar: "),t.characters.length>0&&r.a.createElement(gt,{onClick:function(e){i.getChaptersFromGame(c.params.gameId).then((function(t){return u.createSavedGame({gameId:c.params.gameId,currentChapter:t[0]._id,character:e})})).then((function(e){return o(e),l.push("/chapter/".concat(e._id)),u.assignSaveToUser(t._id,e._id)})).then((function(e){a(e)}))},characters:t.characters}),r.a.createElement("button",{onClick:b},"Tambi\xe9n puedes crear un nuevo personaje"),f&&r.a.createElement(ht,{hideForm:b,setUser:a,loggedInUser:t,setCharacter:d}))})),Et=a(34);var vt=function(e){var t=e.game,a=e.savedGames,n=e.loggedInUser;return t?e.noUser?r.a.createElement("section",null,r.a.createElement("article",null,r.a.createElement("h1",null,t.title),r.a.createElement("p",null,t.description),"Para jugar, registrate.")):r.a.createElement("section",null,r.a.createElement("article",null,r.a.createElement("h1",null,t.title),r.a.createElement("p",null,t.description),n?0===a.length?r.a.createElement("div",null,r.a.createElement("p",null,"Haz click en un personaje para empezar a jugar")):r.a.createElement(r.a.Fragment,null,r.a.createElement(Et.a,null,r.a.createElement(Et.a.Toggle,{variant:"success",id:"dropdown-basic"},r.a.createElement(pe,{text:"Continua la aventura"})),r.a.createElement(Et.a.Menu,null,a.map((function(e){return e.finished?null:r.a.createElement(c.b,{to:"/chapter/".concat(e._id)},r.a.createElement(Et.a.Item,{disabled:!0},e.character.name))})))),r.a.createElement(Et.a,null,r.a.createElement(Et.a.Toggle,{variant:"success",id:"dropdown-basic"},r.a.createElement(pe,{text:"Partidas terminadas"})),r.a.createElement(Et.a.Menu,null,a.map((function(e){return e.finished?r.a.createElement(c.b,{to:"/finished/".concat(e._id)},r.a.createElement(Et.a.Item,{disabled:!0},e.character.name)):null}))))):r.a.createElement(pe,{disabled:!0},"Continuar la aventura"))):r.a.createElement("p",null,"Loading game")},xt=new pt,Ct=new re,jt=new ze;var Ot=Object(o.f)((function(e){var t=e.game,a=e.savedGames,n=e.loggedInUser,o=e.setUser,l=e.updateSavedGames,i=e.history,u=e.match;function s(){var e="Simple Game ".concat(a.length+1);xt.createCharacter({name:e,hp:1e3,str:100,des:100,agi:100,con:100,int:100,wis:100,char:100}).then((function(e){return xt.assignCharacterToUser(n._id,e._id).then((function(t){return a=e._id,void jt.getChaptersFromGame(u.params.gameId).then((function(e){return Ct.createSavedGame({gameId:u.params.gameId,currentChapter:e[0]._id,character:a})})).then((function(e){return l(e),i.push("/chapter/".concat(e._id)),Ct.assignSaveToUser(n._id,e._id)})).then((function(e){o(e)}));var a}))}))}function m(){s()}return t||n&&!e.noUser?e.noUser?r.a.createElement("section",null,r.a.createElement("article",null,r.a.createElement("h1",null,t.title),r.a.createElement("p",null,t.description),"Para jugar, registrate."),"createAndAssignCharacter"):r.a.createElement("section",null,r.a.createElement("article",null,r.a.createElement("h1",null,t.title),r.a.createElement("p",null,t.description),n?0===t.chapters.length?r.a.createElement(pe,{text:"A\xfan no tiene ning\xfan capitulo",disabled:!0,onClick:m}):0===a.length?r.a.createElement(pe,{text:"Comienza la partida",onClick:m}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Et.a,null,r.a.createElement(Et.a.Toggle,{variant:"transparent",id:"dropdown-basic"},r.a.createElement(pe,{text:"Continua la aventura"})),r.a.createElement(Et.a.Menu,{style:{backgroundColor:"rgba(40,40,40)"},variant:"transparent"},a.map((function(e){return r.a.createElement(c.b,{to:"/chapter/".concat(e._id)},r.a.createElement(Et.a.Item,{as:"div"},r.a.createElement(pe,{text:e.character.name})))})),r.a.createElement(Et.a.Divider,null),r.a.createElement(Et.a.Item,{as:"div"},r.a.createElement(pe,{text:"Comienza una nueva aventura",onClick:m}))))):r.a.createElement(pe,{text:"Continuar la aventura",disabled:!0}))):r.a.createElement("p",null,"Loading game")}));var wt=Object(o.f)((function(e){var t=e.game,a=e.savedGames,c=e.simple,o=e.updateSavedGames,l=e.setUser,i=e.noUser,u=Object(n.useContext)(le);return c?r.a.createElement(Ot,{noUser:i,updateSavedGames:o,setUser:l,loggedInUser:u,game:t,savedGames:a}):r.a.createElement(vt,{noUser:i,loggedInUser:u,game:t,savedGames:a})})),kt=new G,yt=new re;var It=Object(o.f)((function(e){var t=e.match,a=e.loggedInUser,c=e.setUser,o=t.params.gameId,l=Object(n.useState)(null),i=Object(s.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)([]),p=Object(s.a)(d,2),h=p[0],f=p[1];function g(e){var t=Object(Fe.a)(h);t.push(e),f(t)}return Object(n.useEffect)((function(){kt.getOneGame(e.match.params.gameId).then((function(e){return m(e)})),a&&yt.getUserSaves(a._id,o).then((function(e){return f(e)}))}),[e.match.params.gameId,a,o]),e.noUser?r.a.createElement(wt,{game:u,noUser:e.noUser}):u?u.simple?r.a.createElement(wt,{simple:!0,updateSavedGames:g,setUser:c,game:u,savedGames:h}):r.a.createElement(je.a,{style:{justifyContent:"space-between"}},r.a.createElement(Oe.a,{lg:5},r.a.createElement(bt,{updateSavedGames:g,setUser:c,loggedInUser:a})),r.a.createElement(Oe.a,{lg:5},r.a.createElement(wt,{game:u,savedGames:h}))):r.a.createElement(r.a.Fragment,null,"Loading")})),St=function(){function e(){Object(y.a)(this,e),this.baseURL="".concat("https://tellmaster.herokuapp.com/api","/characterChoices/"),this.service=_.a.create({baseURL:this.baseURL,withCredentials:!0})}return Object(I.a)(e,[{key:"makeChoice",value:function(e,t,a){return this.service.post("/makeChoice",{saveId:e,choiceId:t,characterId:a}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}}]),e}(),_t=a(100),Gt=a.n(_t),Lt=a(101);function Tt(){var e=Object(u.a)(["\n  position: absolute;\n  width: 360px;\n  height: 360px;\n  left: calc(50% - 360px);\n  top: 50%;\n"]);return Tt=function(){return e},e}var Ut=g.c.div(Tt());var Ft=function(e){var t=e.hideAnimation,a=e.sprite,n=e.sound,c=Object(Lt.a)(n),o=Object(s.a)(c,1)[0];return r.a.createElement(Ut,null,r.a.createElement(Gt.a,{className:"my-element__class--style",image:a,widthFrame:320,heightFrame:180,steps:12,fps:10,autoplay:!0,loop:!1,endAt:12,backgroundSize:"cover",backgroundPosition:"center center",onPlay:function(e){console.log("init"),o()},onPause:function(e){setTimeout((function(){t()}),1e3)}}))};var Nt=function(e){var t=e.choices,a=e.makeChoice,n=void 0===a?function(){}:a;return t.map((function(e){return e.successTargetChapter&&e.failureTargetChapter?r.a.createElement("button",{onClick:n,id:e._id},e.description):r.a.createElement("button",{disabled:!0,onClick:n,id:e._id},e.description)}))},At=a(37),zt=a.n(At),Rt=a(102),Dt=a.n(Rt),Ht=a(103),Bt=a.n(Ht),Mt=a(104),Pt=a.n(Mt),Yt=a(105),Qt=a.n(Yt),Wt=a(106),qt=a.n(Wt),Jt=a(107),Xt=a.n(Jt),$t=a(108),Kt=a.n($t),Vt=a(109),Zt=a.n(Vt),ea=a(110),ta=a.n(ea),aa=a(111),na=a.n(aa),ra=a(112),ca=a.n(ra),oa=a(113),la=a.n(oa),ia=a(114),ua=a.n(ia),sa=a(115),ma=a.n(sa),da=a(116),pa=a.n(da),ha=a(117),fa=a.n(ha),ga=a(118),ba=a.n(ga),Ea=a(119),va=a.n(Ea),xa={1:zt.a,2:Dt.a,3:Bt.a,4:Pt.a,5:zt.a,6:zt.a,7:Qt.a,8:qt.a,9:Xt.a,10:Kt.a,11:Zt.a,12:ta.a,13:na.a,14:ca.a,15:la.a,16:ua.a,17:ma.a,18:pa.a,19:fa.a,20:ba.a};var Ca=Object(o.f)((function(e){var t=new St,a=e.game,c=a.currentChapter,o=a.character,l=Object(n.useState)(null),i=Object(s.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)(!1),p=Object(s.a)(d,2),h=p[0],f=p[1];return r.a.createElement("div",null,h&&r.a.createElement(Ft,{sprite:u,sound:va.a,hideAnimation:function(){return f(!1)}}),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:c.description}}),r.a.createElement(Nt,{makeChoice:function(a){t.makeChoice(e.game._id,a.currentTarget.id,o._id).then((function(t){console.log(t,"resultado de make choice"),m(xa[t.roll]),f(!0),e.updateChapterOnSave()}))},choices:c.choices}))})),ja=new re;var Oa=Object(o.f)((function(e){var t=e.match,a=Object(n.useState)(null),c=Object(s.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!1),u=Object(s.a)(i,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){ja.getFullSave(t.params.savedGameId).then((function(e){l(e),d(!0)}))}),[t.params.savedGameId]),m?o.currentChapter?r.a.createElement(Ca,{updateChapterOnSave:function(){ja.getFullSave(t.params.savedGameId).then((function(e){e.currentChapter.last&&(e.finished=!0,ja.updateSavedGame({savedGameId:t.params.savedGameId,finished:!0})),l(e),d(!0)}))},game:o}):r.a.createElement("div",null,r.a.createElement("p",null,"Esta aventura a\xfan no tiene capitulos.")):r.a.createElement(p.a,null)})),wa=new G;var ka=function(e){var t=Object(n.useContext)(le),a=Object(n.useState)(null),o=Object(s.a)(a,2),l=o[0],i=o[1];return Object(n.useEffect)((function(){wa.getOwnedGames(t._id).then((function(e){return i(e)}))}),[t._id]),l?l.length?r.a.createElement("ul",null,l.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,e.title),r.a.createElement(c.b,{to:"/read/".concat(e._id)},"Jugar"),r.a.createElement("br",null),r.a.createElement(c.b,{to:"/modify/".concat(e._id)},"Editar"))}))):r.a.createElement("p",null,"A\xfan no tienes historias en juego"):r.a.createElement(r.a.Fragment,null)},ya=new re,Ia=new ze;var Sa=Object(o.f)((function(e){return Object(n.useEffect)((function(){ya.getFullSave(e.match.params.saveId).then((function(e){var t=e.choicesTree.map((function(e){var t=e.didSuccess?e.choice.successTargetChapter:e.choice.failureTargetChapter;return Ia.getChapter(t).then((function(e){return e}))}));Promise.all(t).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}))}),[e.match.params.saveId]),r.a.createElement("div",null)})),_a={background:{general:"rgba(0,0,0, 0.9)",semiSolid:"rgba(0, 0, 0, 0.7)",solid:"rgba(11,11,11, 1)",light:"rgba(240, 240, 240, 0.9)",modals:"rgba(40, 40, 40, 1)",list:"rgba(70, 70, 70, 1)",overlay:"rgba(255, 255, 255, 0.1)",lightOverlay:"rgba(255, 255, 255, 0.01)"},colors:{light:"rgba(240, 240, 240, 0.9)",general:"rgb(200, 200, 200)"}};var Ga=function(e){var t=e.character;return t?r.a.createElement("div",null,r.a.createElement("h5",null,t.name),r.a.createElement("p",null,"Level: ",t.level),r.a.createElement("p",null,"Experience: ",t.exp),r.a.createElement("small",null,"Fue: ",t.str," Des: ",t.des," Agi: ",t.agi," Int: ",t.int," Sab: ",t.wis," Car: ",t.char)):null};var La=function(e){var t=e.characters,a=Object(n.useState)(!1),c=Object(s.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(null),u=Object(s.a)(i,2),m=u[0],d=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{onClick:function(e){var a=t.find((function(t){return t._id==e}));d(a),l(!0)},characters:t}),r.a.createElement(xe,{noHeader:!0,onHide:function(){return l(!1)},show:o},r.a.createElement(Ga,{character:m})))};function Ta(){var e=Object(u.a)(["\n    html, body {\n      overflow: hidden;\n    }\n    body {\n      color: ",";\n      background-color: ",";\n      -webkit-overflow-scrolling: touch;\n    }\n    a {\n      color: #eee;\n    }\n    a:hover {\n      color: #eee;\n      text-decoration: none;\n    }\n"]);return Ta=function(){return e},e}var Ua=new G,Fa=new ue;var Na=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(s.a)(l,2),u=i[0],d=i[1];function p(e){d(e)}var h=Object(n.useCallback)((function(){!function(){return Ua.getLastGames().then((function(e){return a.some((function(t){return e.some((function(e){return t._id!==e._id}))}))}))}&&Ua.getLastGames().then((function(e){Array.isArray(e)&&!e.every((function(e){return a.find((function(t){return t._id===e._id}))}))&&c(e)}))}),[a]);Object(n.useEffect)((function(){return h(),function(){c([])}}),[h]),Object(n.useEffect)((function(){return!1===u&&Fa.loggedin().then((function(e){d(e||null)})),function(){}}),[u]);var f=Object(n.useState)(!1),b=Object(s.a)(f,2),E=b[0],v=b[1],x=Object(n.useState)(!1),C=Object(s.a)(x,2),j=C[0],O=C[1],w=Object(g.b)(Ta(),_a.colors.general,_a.background.general);return r.a.createElement(o.c,null,r.a.createElement(g.a,{theme:_a},r.a.createElement(oe,{value:u},r.a.createElement(w,null),r.a.createElement(F,{logout:function(){Fa.logout().then((function(){return d(null)}))},showSignup:function(){return O(!0)},showLogin:function(){return v(!0)},loggedInUser:u}),r.a.createElement(m.a,{fluid:!0},r.a.createElement("main",{style:{height:"calc(100vh - 60px)"},className:"app-wrapper"},r.a.createElement(o.a,{exact:!0,path:"/",render:function(){return r.a.createElement(ne,{loggedInUser:u,games:a})}}),u?r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{exact:!0,path:"/myGames",render:function(){return r.a.createElement(ie,{loggedInUser:u})}}),r.a.createElement(o.a,{exact:!0,path:"/myCreatedGames",render:function(){return r.a.createElement(ka,{loggedInUser:u})}}),r.a.createElement(o.a,{exact:!0,path:"/newGame",render:function(){return r.a.createElement(Te,{updateLastGames:h,loggedInUser:u})}}),r.a.createElement(o.a,{exact:!0,path:"/myCharacters",render:function(){return r.a.createElement(La,{characters:u.characters})}}),r.a.createElement(o.a,{exact:!0,path:"/modify/:gameId",render:function(e){var t=e.match,a=e.history;return r.a.createElement(dt,{history:a,match:t,updateLastGames:h,loggedInUser:u})}}),r.a.createElement(o.a,{exact:!0,path:"/chapter/:savedGameId",render:function(){return r.a.createElement(Oa,null)}}),r.a.createElement(o.a,{exact:!0,path:"/read/:gameId",render:function(){return r.a.createElement(It,{setUser:p,loggedInUser:u})}}),r.a.createElement(o.a,{exact:!0,path:"/finished/:saveId",render:function(){return r.a.createElement(Sa,{loggedInUser:u})}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{exact:!0,path:"/read/:gameId",render:function(){return r.a.createElement(It,{noUser:!0,setUser:p,loggedInUser:u})}}),r.a.createElement(o.a,{exact:!0,path:"/:algo"},r.a.createElement("h1",null,"Para ver este contenido has de estar logueado")),r.a.createElement(xe,{title:"Login",show:E,onHide:function(){return v(!1)}},r.a.createElement(fe,{setUser:p})),r.a.createElement(xe,{title:"Signup",show:j,onHide:function(){return O(!1)}},r.a.createElement(be,{setUser:p}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,null,r.a.createElement(o.a,{path:"/",render:function(e){return r.a.createElement(Na,e)}}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},37:function(e,t,a){e.exports=a.p+"static/media/r01.66469ed4.png"},59:function(e,t,a){e.exports=a.p+"static/media/d6book.f2700073.svg"},60:function(e,t,a){e.exports=a.p+"static/media/d20.32c11da5.svg"},66:function(e,t,a){e.exports=a.p+"static/media/invertedlogo.9e69b76b.png"},69:function(e,t,a){e.exports=a.p+"static/media/playingTable.e9c5973e.png"}},[[124,1,2]]]);
//# sourceMappingURL=main.d5d37f69.chunk.js.map