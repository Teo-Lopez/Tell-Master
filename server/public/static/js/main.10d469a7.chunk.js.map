{"version":3,"sources":["components/Chapter/assets/diceSprites/r02.png","components/Chapter/assets/diceSprites/r03.png","components/Chapter/assets/diceSprites/r04.png","components/Chapter/assets/diceSprites/r07.png","components/Chapter/assets/diceSprites/r08.png","components/Chapter/assets/diceSprites/r09.png","components/Chapter/assets/diceSprites/r10.png","components/Chapter/assets/diceSprites/r11.png","components/Chapter/assets/diceSprites/r12.png","components/Chapter/assets/diceSprites/r13.png","components/Chapter/assets/diceSprites/r14.png","components/Chapter/assets/diceSprites/r15.png","components/Chapter/assets/diceSprites/r16.png","components/Chapter/assets/diceSprites/r17.png","components/Chapter/assets/diceSprites/r18.png","components/Chapter/assets/diceSprites/r19.png","components/Chapter/assets/diceSprites/r20.png","components/Chapter/assets/diceRoll.mp3","layout/SearchInput.jsx","layout/Select.jsx","layout/Searchbar.jsx","services/games.service.js","layout/Navbar.jsx","views/LastGames.jsx","services/savedGames.service.js","UserContext.js","views/MyGames.jsx","services/auth.service.js","components/Buttons.js","components/Auth/LoginForm.jsx","components/Auth/SignupForm.jsx","components/utils/Modal.jsx","components/Game/NewGameForm.jsx","components/Images.js","components/Game/ModeSelect.jsx","views/NewGame.jsx","services/choices.service.js","services/chapter.service.js","components/Choice/ChoiceForm.jsx","components/Choice/ChoiceFormRow.jsx","components/Choice/ChoiceCard.jsx","components/Chapter/NewChapterForm.jsx","views/EditChapters.jsx","services/character.service.js","components/Character/CharacterForm.jsx","components/Character/CharacterList.jsx","components/Game/NewSaveGame.jsx","components/Game/StartPlayingButton.jsx","components/Game/SimpleStartPlaying.jsx","components/Game/GameBriefing.jsx","views/GameOverView.jsx","services/characterChoices.service.js","components/Chapter/DiceAnimation.jsx","components/Choice/ChoicesList.jsx","components/Chapter/Chapter.jsx","views/ChapterWrapper.jsx","views/MyCreatedGames.jsx","views/FinishedGame.jsx","themeContext.js","App.js","serviceWorker.js","index.js","components/Chapter/assets/diceSprites/r01.png","components/Game/assets/d6book.svg","components/Game/assets/d20.svg","invertedlogo.png","views/assets/playingTable.png"],"names":["module","exports","SearchInput","onSearch","className","useState","searchText","setSearchText","autoComplete","onSubmit","e","preventDefault","name","type","value","onChange","currentTarget","Dropdown","styled","div","Select","children","checked","length","id","hidden","for","role","tabindex","aria-selected","SearchBar","span","Searchbar","cb","search","setSearch","useEffect","console","log","then","result","text","map","game","to","_id","title","gamesService","this","baseURL","process","service","axios","create","withCredentials","get","res","data","catch","err","gamesFound","creator","minLevel","description","simple","post","createdGame","CustomNavbar","loggedInUser","showLogin","showSignup","logout","GameService","searchGames","getByTitle","StyledNavbar","Navbar","props","theme","colors","light","background","semiSolid","modals","Spinner","Nav","style","width","Item","Link","as","NavLink","height","src","logo","onClick","justifyContent","NavDropdown","drop","Divider","MainsSectionWrapper","section","lightOverlay","upwardTransition","keyframes","imgTransition","Background","img","MainSection","article","appear","Title","h1","general","GameCard","overlay","LastGames","games","preloadSet","setPreloadSet","mainBackgroundPreload","document","createElement","rel","href","playingTable","d6Prefetch","d20Prefetch","D6","D20","head","append","overflow","idx","key","slice","savedGamesService","userId","gameId","query","saveId","currentChapter","character","savedGameId","finished","patch","delete","UserContext","React","createContext","UserProvider","Provider","MyGames","useContext","SavedGamesService","savedGames","setSavedGames","getAllSaves","saves","save","authService","timeout","timeoutErrorMessage","username","email","password","response","status","code","error","message","Button","StyledButton","button","SmallButton","LoginForm","setUser","onHide","AuthService","setUsername","setEmail","setPassword","Error","Form","login","Group","controlId","Label","Control","placeholder","Text","SignupForm","signup","variant","CenteredModal","show","noHeader","ThemeModal","Modal","dialogAs","size","aria-labelledby","centered","autoFocus","Header","closeButton","Body","cloneElement","withRouter","updateLastGames","history","GamesService","setTitle","setMinLevel","setDescription","createGame","finally","push","min","max","step","ImageFiltered","BackgroundImage","ModeSelect","setMode","ModeWrapper","Row","ModeBox","Col","LeftBackgroundImage","RightBackgroundImage","EasyDice","D20Dice","NewGame","setSimple","choicesService","choicesFound","trial","successTargetChapter","failureTargetChapter","pxGranted","choice","choiceId","chapters","choices","last","chapter","finishChoiceForm","toogleCard","closeChoiceForm","match","ChapterService","chapterService","ChoicesService","difficulty","setDifficulty","characteristic","setCharacteristic","setPxGranted","setSuccessTargetChapter","setFailureTargetChapter","chapterList","setChapterList","createChoice","createdChoice","updateChoice","updatedChoice","getChaptersFromGame","params","Card","newChoice","display","custom","dangerouslySetInnerHTML","__html","selected","ChoiceFormWrapper","Col4","submitForm","borderRadius","padding","marginRight","backgroundColor","textAlign","ChoiceCard","color","returnCharacteristic","EditorWrapper","chapterId","getAllChapters","closeNewChapterForm","setChoices","choicesObj","setChoicesObj","choiceForms","setChoiceForms","ready","setReady","setLast","populateThisChapter","getChapter","filter","choiceObj","choicesCopy","retrieveChoicesIds","choicesObjCopy","createChoiceCard","choiceFormsCopy","splice","choiceCopy","maxLength","editor","ClassicEditor","onInit","event","getData","onBlur","onFocus","margin","updateChapter","updatedChapter","createChapter","createdChapter","eachform","eachChoice","lg","List","ListPoint","list","EditChapters","RestaurateScroll","createGlobalStyle","gameService","allChapters","setallChapters","showNewForm","setShowNewForm","getOneGame","replace","active","allChaptersCopy","chapterCopy","expandChapter","characterService","characters","characterId","CharacterForm","setCharacter","hideForm","CharacterService","setName","hp","str","setStr","des","setDes","agi","setAgi","con","setCon","int","setInt","wis","setWis","char","setChar","totalPoints","setTotalPoints","newTotal","total","obj","calculatePoints","newCharacter","createCharacter","createdCharacter","assignCharacterToUser","updatedUser","parseInt","CharacterList","newSave","CustomLi","li","includes","level","updateSavedGames","showForm","setShowForm","toogleForm","chosenCharacter","createSavedGame","savedGame","assignSaveToUser","StartPlayingButton","noUser","Toggle","Menu","disabled","createCharAndSave","_","startGame","setGame","savedGamesCopy","getUserSaves","characterChoicesService","AnimationWrapper","DiceAnimation","hideAnimation","sprite","sound","useSound","playDice","image","widthFrame","heightFrame","steps","fps","autoplay","loop","endAt","backgroundSize","backgroundPosition","onPlay","spritesheet","onPause","setTimeout","ChoicesList","makeChoice","rollSprites","r01","r02","r03","r04","r05","r06","r07","r08","r09","r10","r11","r12","r13","r14","r15","r16","r17","r18","r19","r20","CharacterChoiceService","setSprite","showAnimation","setShowAnimation","rollSound","roll","updateChapterOnSave","setSavedGame","getFullSave","updateSavedGame","MyCreatedGames","createdGames","setCreatedGames","getOwnedGames","chaptersPromise","choicesTree","target","didSuccess","Promise","all","chaptersTravelled","darkTheme","solid","App","lastGames","setlastGames","setloggedInUser","user","getLastGames","last10","Array","isArray","every","elm","find","loggedin","loginModal","setloginModal","signupModal","setSignupModal","GlobalStyle","Container","fluid","exact","path","render","Boolean","window","location","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.10d469a7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/r02.bde458ff.png\";","module.exports = __webpack_public_path__ + \"static/media/r03.d9ed47a0.png\";","module.exports = __webpack_public_path__ + \"static/media/r04.43694589.png\";","module.exports = __webpack_public_path__ + \"static/media/r07.8d873eb0.png\";","module.exports = __webpack_public_path__ + \"static/media/r08.02e3d8aa.png\";","module.exports = __webpack_public_path__ + \"static/media/r09.b799ee05.png\";","module.exports = __webpack_public_path__ + \"static/media/r10.e872788c.png\";","module.exports = __webpack_public_path__ + \"static/media/r11.e1fb3055.png\";","module.exports = __webpack_public_path__ + \"static/media/r12.cc0de9f1.png\";","module.exports = __webpack_public_path__ + \"static/media/r13.ba069347.png\";","module.exports = __webpack_public_path__ + \"static/media/r14.1caa17d0.png\";","module.exports = __webpack_public_path__ + \"static/media/r15.b865a968.png\";","module.exports = __webpack_public_path__ + \"static/media/r16.ed090d48.png\";","module.exports = __webpack_public_path__ + \"static/media/r17.65cb70b6.png\";","module.exports = __webpack_public_path__ + \"static/media/r18.6f4ebc7c.png\";","module.exports = __webpack_public_path__ + \"static/media/r19.c8774adb.png\";","module.exports = __webpack_public_path__ + \"static/media/r20.d21f8366.png\";","module.exports = __webpack_public_path__ + \"static/media/diceRoll.afd53a36.mp3\";","import React, { useState } from \"react\";\n\nfunction SearchInput({ onSearch, className }) {\n  const [searchText, setSearchText] = useState(\"\");\n\n  function onSubmit(e) {\n    e.preventDefault();\n  }\n\n  function onChange(e) {\n    const { value } = e.currentTarget;\n    setSearchText(value);\n    onSearch(value);\n  }\n\n  return (\n    <form autoComplete=\"off\" className={className} onSubmit={onSubmit}>\n      <label>\n        <input name=\"searchbar\" type=\"text\" value={searchText} onChange={onChange}></input>\n      </label>\n    </form>\n  );\n}\n\nexport default SearchInput;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport SearchInput from \"./SearchInput\";\n\nconst Dropdown = styled.div`\n  .search-input {\n    margin: -14px 0;\n    height: 30px;\n    width: 100%;\n    label,\n    label input {\n      height: 100%;\n      width: 100%;\n      border: none;\n      border-radius: 5px;\n      background-color: rgba(30, 30, 30);\n      color: white;\n\n      &:focus {\n        outline: none;\n      }\n    }\n  }\n\n  .dropdown {\n    height: 38px;\n    /* position: absolute;\n    top: 50%;\n    left: 50%; */\n    /* transform: translateX(-50%) translateY(-50%); */\n    /* padding: 20px; */\n    background-color: black;\n    box-shadow: 0 5px 10px 0 rgba(0, 0, 0, 0.5);\n    width: 300px;\n    font-family: \"Lato\", sans-serif;\n\n    .dropdown__switch:checked {\n      color: red;\n    }\n    .dropdown__switch:checked + .dropdown__options-filter .dropdown__select {\n      transform: scaleY(1);\n      color: red;\n    }\n\n    .dropdown__switch:checked + .dropdown__options-filter .dropdown__filter:after {\n      transform: rotate(-135deg);\n    }\n\n    .dropdown__options-filter {\n      width: 100%;\n      cursor: pointer;\n\n      ul {\n        z-index: 9999;\n        background-color: black;\n        list-style: none;\n        color: white;\n        li {\n          background-color: black;\n        }\n      }\n\n      .dropdown__filter-selected {\n        line-height: 0px;\n        width: 100%;\n      }\n    }\n\n    .dropdown__filter {\n      display: flex;\n      position: relative;\n      padding: 20px;\n      border: 1px solid #d6d6d6;\n      border-radius: 30px;\n      background-color: #fff;\n      color: #595959;\n      font-size: 14px;\n      text-transform: uppercase;\n      transition: 0.3s;\n      height: 36px;\n\n      &:focus {\n        outline: none;\n        /* box-shadow: 0 0 5px 3px #4d1091; */\n      }\n\n      &::after {\n        position: absolute;\n        top: 45%;\n        right: 20px;\n        width: 10px;\n        height: 10px;\n        transform: rotate(45deg) translateX(-45%);\n        transition: 0.2s ease-in-out;\n        border-right: 2px solid #595959;\n        border-bottom: 2px solid #595959;\n        content: \"\";\n      }\n    }\n\n    .dropdown__select {\n      position: absolute;\n      top: 100%;\n      left: 0;\n      width: 100%;\n      margin-top: 5px;\n      transition: 0.2s ease-in-out;\n      font-weight: 300;\n      box-shadow: 0 5px 10px 0 rgba(152, 152, 152, 0.6);\n      transform: scaleY(0);\n      transform-origin: top;\n      overflow: hidden;\n    }\n\n    .dropdown__select-option {\n      padding: 20px;\n      transition: 0.3s;\n      background-color: #fff;\n      border-bottom: 1px solid #d6d6d6;\n\n      &:last-of-type {\n        border-bottom: 0;\n      }\n\n      &:hover {\n        background-color: #f9f9f9;\n      }\n    }\n  }\n`;\n\nfunction Select({ children, onSearch }) {\n  return (\n    <Dropdown>\n      <div className=\"dropdown\">\n        <input type=\"checkbox\" checked={children.length ? true : false} className=\"dropdown__switch\" id=\"filter-switch\" hidden />\n        <label for=\"filter-switch\" className=\"dropdown__options-filter\">\n          <ul className=\"dropdown__filter\" role=\"listbox\" tabindex=\"-1\">\n            <li className=\"dropdown__filter-selected\" aria-selected=\"true\">\n              <SearchInput className=\"search-input\" onSearch={onSearch} />\n            </li>\n            <li>\n              <ul className=\"dropdown__select\">{children}</ul>\n            </li>\n          </ul>\n        </label>\n      </div>\n    </Dropdown>\n  );\n}\n\nexport default Select;\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Select from \"./Select\";\nimport { Link } from \"react-router-dom\";\n\nconst SearchBar = styled.span`\n  display: flex;\n`;\nfunction Searchbar({ cb }) {\n  const [search, setSearch] = useState([]);\n  const [searchText, setSearchText] = useState(\"\");\n\n  const onSearch = (text) => setSearchText(text);\n\n  useEffect(() => {\n    console.log(cb);\n    cb(searchText).then((result) => setSearch(result));\n    return () => {\n      setSearch([]);\n    };\n  }, [searchText]);\n\n  return (\n    <SearchBar>\n      <Select onSearch={onSearch}>\n        {search.map((game) => (\n          <li className=\"dropdown__select-option\" role=\"option\">\n            <Link to={`/read/${game._id}`}>{game.title}</Link>\n          </li>\n        ))}\n      </Select>\n    </SearchBar>\n  );\n}\n\nexport default Searchbar;\n","import axios from \"axios\";\n\nclass gamesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/games/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getOneGame(id) {\n    return this.service\n      .get(`/?gameId=${id}`)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getByTitle(name) {\n    return this.service\n      .get(`/title?title=${name}`)\n      .then((res) => (res.data ? res.data : []))\n      .catch((err) => console.log(err));\n  }\n\n  getOwnedGames(id) {\n    return this.service\n      .get(`/owned?creatorId=${id}`)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getLastGames() {\n    return this.service\n      .get(\"/last?limit=5\")\n      .then((res) => res.data.gamesFound)\n      .catch((err) => console.log(err));\n  }\n\n  createGame({ creator, title, minLevel, description, simple }) {\n    return this.service\n      .post(\"\", { creator, title, minLevel, description, simple })\n      .then((res) => res.data.createdGame)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default gamesService;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Container, Navbar, Nav, NavDropdown, Row, Col, Spinner } from \"react-bootstrap\";\nimport styled from \"styled-components\";\nimport logo from \"../invertedlogo.png\";\nimport Searchbar from \"./Searchbar\";\nimport gamesService from \"../services/games.service\";\nfunction CustomNavbar({ loggedInUser, showLogin, showSignup, logout }) {\n  const GameService = new gamesService();\n  const searchGames = (title) => {\n    return GameService.getByTitle(title);\n  };\n\n  const StyledNavbar = styled(Navbar)`\n    background-color: rgba(0, 0, 0, 0.7);\n    height: 60px;\n    p,\n    a {\n      color: ${(props) => props.theme.colors.light + \"!important\"};\n    }\n    .dropdown-menu {\n      background-color: ${(props) => props.theme.background.semiSolid};\n      .dropdown-item:hover {\n        background-color: ${(props) => props.theme.background.modals};\n      }\n    }\n  `;\n\n  return loggedInUser === false ? (\n    <Spinner />\n  ) : loggedInUser === null ? (\n    <StyledNavbar>\n      <Nav style={{ width: \"60%\" }}>\n        <Nav.Item>\n          <Nav.Link as={NavLink} to={\"/\"}>\n            <img style={{ height: \"36px\" }} src={logo}></img>\n          </Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link onClick={showLogin}>Login</Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link onClick={showSignup}>Signup</Nav.Link>\n        </Nav.Item>\n      </Nav>\n      <Nav style={{ width: \"40%\", justifyContent: \"flex-end\" }}>\n        <Searchbar cb={searchGames} />\n      </Nav>\n    </StyledNavbar>\n  ) : (\n    <StyledNavbar>\n      <Nav style={{ width: \"60%\" }}>\n        <Nav.Item>\n          <Nav.Link as={NavLink} to={\"/\"}>\n            <img style={{ height: \"36px\" }} src={logo}></img>\n          </Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <NavDropdown title=\"Mis historias\" id=\"nav-dropdown\" drop=\"down\">\n            <NavDropdown.Item>\n              <Nav.Link as={NavLink} to={\"/myGames\"}>\n                En juego\n              </Nav.Link>\n            </NavDropdown.Item>\n            <NavDropdown.Divider />\n            <NavDropdown.Item>\n              <Nav.Link as={NavLink} to={\"/myCreatedGames\"}>\n                Creadas por m\n              </Nav.Link>\n            </NavDropdown.Item>\n          </NavDropdown>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link as={NavLink} to={\"/myCharacters\"}>\n            Mis personajes\n          </Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link as={NavLink} to={\"/newGame\"}>\n            Crear Partida\n          </Nav.Link>\n        </Nav.Item>\n      </Nav>\n      <Nav style={{ width: \"40%\", justifyContent: \"flex-end\" }}>\n        {/* <Nav.Item> */}\n        <Searchbar cb={searchGames} />\n        {/* </Nav.Item> */}\n        <Nav.Item onClick={logout}>Logout</Nav.Item>\n      </Nav>\n    </StyledNavbar>\n  );\n}\n\nexport default CustomNavbar;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled, { keyframes } from \"styled-components\";\nimport playingTable from \"./assets/playingTable.png\";\nimport D6 from \"../components/Game/assets/d6book.svg\";\nimport D20 from \"../components/Game/assets/d20.svg\";\n\nconst MainsSectionWrapper = styled.section`\n  background-color: ${(props) => props.theme.background.lightOverlay};\n  text-align: center;\n  height: 80vh;\n  padding-top: 40px;\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n`;\n\nconst upwardTransition = keyframes`\n    from {\n      opacity: 0;\n      transform: translateY(1000px)\n    }\n    \n    to {\n      opacity: 1;\n      transform: translateY(0px)\n    }\n  `;\n\nconst imgTransition = keyframes`\n    from {\n      transform: translateY(1000px) rotate(0deg)\n    }\n    \n    to {\n      rotate(-15deg)\n      /* rotate(-15deg) */\n      transform: translateY(0px) rotate(-15deg)\n    }\n    `;\n\nconst Background = styled.img`\n  position: absolute;\n  left: 5%;\n  top: 100px;\n  z-index: -9000;\n  transform: rotate(-15deg);\n  opacity: 0.5;\n  filter: blur(1px);\n  filter: contrast(70%);\n  animation: ${imgTransition} 3s cubic-bezier(0.71, 0.57, 0.46, 0.92);\n`;\n\nconst MainSection = styled.article`\n  margin: 20px;\n  transform: translateY();\n  animation: ${upwardTransition} 4s ease-out;\n`;\n\nconst appear = keyframes`\n      from {\n        opacity: 0;\n      }\n\n      to {\n        opacity: 1;\n      }\n    `;\n\nconst Title = styled.h1`\n  font-size: 3em;\n  animation: ${appear} 5s ease-out;\n  color: ${(props) => props.theme.colors.general};\n  font-weight: 900;\n  letter-spacing: 5px;\n  text-align: center;\n`;\n\nconst GameCard = styled.div`\n  margin: 10px 0;\n  padding: 10px 0;\n  border-radius: 2px;\n\n  p {\n    font-size: 1.2em;\n  }\n\n  &:hover {\n    h2 {\n      transition: font-size 500ms;\n      font-size: 1.4em;\n    }\n    font-size: 1.3em;\n    background-color: ${(props) => props.theme.background.overlay};\n  }\n`;\n\nfunction LastGames({ games, loggedInUser }) {\n  const [preloadSet, setPreloadSet] = useState(false);\n  useEffect(() => {\n    if (!preloadSet) {\n      const mainBackgroundPreload = document.createElement(\"link\");\n      mainBackgroundPreload.rel = \"preload\";\n      mainBackgroundPreload.as = \"image\";\n      mainBackgroundPreload.href = playingTable;\n\n      const d6Prefetch = document.createElement(\"link\");\n      const d20Prefetch = document.createElement(\"link\");\n      d6Prefetch.rel = \"prefetch\";\n      d20Prefetch.rel = \"prefetch\";\n      d6Prefetch.href = D6;\n      d20Prefetch.href = D20;\n      d6Prefetch.as = \"image\";\n      d20Prefetch.as = \"image\";\n\n      document.head.append(d6Prefetch);\n      document.head.append(d20Prefetch);\n      document.head.append(mainBackgroundPreload);\n\n      setPreloadSet(true);\n    }\n  }, []);\n\n  return (\n    <div id=\"container1\" style={{ overflow: \"hidden\" }}>\n      <Title>ltimas historias</Title>\n      <MainsSectionWrapper id=\"container2\">\n        <Background src={playingTable} />\n        <MainSection>\n          {games.map((game, idx) => (\n            <Link to={loggedInUser && loggedInUser._id === game.creator ? `/modify/${game._id}` : `/read/${game._id}`}>\n              <GameCard key={idx}>\n                <h2>{game.title}</h2>\n                <em>Nivel minimo: {game.minLevel}</em>\n                <p>{game.description.slice(0, 350)}</p>\n              </GameCard>\n            </Link>\n          ))}\n        </MainSection>\n      </MainsSectionWrapper>\n    </div>\n  );\n}\n\nexport default LastGames;\n","import axios from \"axios\";\n\nclass savedGamesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/savedGames/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getUserSaves(userId, gameId) {\n    const query = gameId ? `/user/?userId=${userId}&gameId=${gameId}` : `/user/?userId=${userId}`;\n\n    return this.service\n      .get(query)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getAllSaves(userId) {\n    const query = `/user/all/?userId=${userId}`;\n\n    return this.service\n      .get(query)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getFullSave(saveId) {\n    return this.service\n      .get(`/full/?saveId=${saveId}`)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  createSavedGame({ gameId, currentChapter, character }) {\n    return this.service\n      .post(\"\", {\n        gameId,\n        currentChapter,\n        character,\n      })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  assignSaveToUser(userId, saveId) {\n    return this.service\n      .post(\"/assign\", { userId, saveId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  updateSavedGame({ savedGameId, gameId, currentChapter, character, finished }) {\n    return this.service.patch(\"\", { savedGameId, gameId, currentChapter, character, finished }).then((res) => res.data);\n  }\n\n  deleteSave(savedGameId) {\n    return this.service\n      .delete(\"\", { savedGameId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default savedGamesService;\n","import React from \"react\";\nconst UserContext = React.createContext(false);\nexport const UserProvider = UserContext.Provider;\nexport default UserContext;\n","import React, { useEffect, useContext, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport savedGamesService from \"../services/savedGames.service\";\nimport UserContext from \"../UserContext\";\n\nfunction MyGames(props) {\n  const loggedInUser = useContext(UserContext);\n  const SavedGamesService = new savedGamesService();\n  const [savedGames, setSavedGames] = useState(null);\n  useEffect(() => {\n    SavedGamesService.getAllSaves(loggedInUser._id).then((saves) => setSavedGames(saves));\n  }, []);\n\n  return !savedGames ? (\n    <></>\n  ) : savedGames.length ? (\n    <ul>\n      {savedGames.map((save) => {\n        console.log(save);\n        return (\n          <Link to={`/read/${save.gameId._id}`}>\n            <li>{save.gameId.description}</li>\n          </Link>\n        );\n      })}\n    </ul>\n  ) : (\n    <p>An no tienes historias en juego</p>\n  );\n}\n\nexport default MyGames;\n","import axios from \"axios\";\n\nclass authService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/auth/`;\n    this.service = axios.create({\n      baseURL: this.baseURL,\n      withCredentials: true,\n      timeout: 1000 * 30,\n      timeoutErrorMessage: \"El servidor ha tardado demasiado tiempo en responder\",\n    });\n  }\n\n  login({ username, email, password }) {\n    return this.service\n      .post(\"login\", { username, email, password }) //add form\n      .then((res) => res.data)\n      .catch((err) => {\n        console.log({ err });\n        if (err.response.status == \"401\") return null;\n        if (err.code === \"ECONNABORTED\") console.error(err.message);\n      });\n  }\n\n  signup({ username, email, password }) {\n    return this.service\n      .post(\"signup\", { username, email, password }) //add form\n      .then((res) => res.data)\n      .catch((err) => {\n        console.log({ err });\n        if (err.code === \"ECONNABORTED\") console.error(err.message);\n      });\n  }\n\n  logout() {\n    return this.service\n      .post(\"logout\")\n      .then((res) => res.data)\n      .catch((err) => {\n        console.log({ err });\n        if (err.code === \"ECONNABORTED\") console.error(err.message);\n      });\n  }\n\n  loggedin() {\n    return this.service\n      .get(\"loggedin\")\n      .then((res) => res.data)\n      .catch((err) => {\n        console.log({ err });\n        if (err.code === \"ECONNABORTED\") console.error(err.message);\n      });\n  }\n}\n\nexport default authService;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nexport const Button = (props) => {\n  const StyledButton = styled.button`\n    background-color: rgba(0, 0, 0, 1);\n    color: white;\n    border: 0.3px solid white;\n    display: inline-block;\n    font-weight: 400;\n    text-align: center;\n    vertical-align: middle;\n    -webkit-user-select: none;\n    user-select: none;\n    padding: 0.375rem 0.75rem;\n    font-size: 1rem;\n    line-height: 1.5;\n    border-radius: 0.25rem;\n    &:hover {\n      background-color: rgba(44, 44, 44, 1);\n      -webkit-box-shadow: 0px 10px 7px 1px rgba(252, 252, 252, 0.3);\n      -moz-box-shadow: 0px 1px 7px 1px rgba(252, 252, 252, 0.3);\n      box-shadow: 0px 1px 7px 1px rgba(252, 252, 252, 0.3);\n      transform: scale(1.05);\n      transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n    }\n  `;\n\n  return <StyledButton {...props}>{props.text}</StyledButton>;\n};\n\nexport const SmallButton = styled(Button)`\n  width: 100px;\n`;\n","import React, { useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport authService from \"../../services/auth.service\";\nimport { Button } from \"../Buttons\";\n\nfunction LoginForm({ setUser, onHide }) {\n  const AuthService = new authService();\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function clearForm() {\n    setUsername(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    AuthService.login({ username, email, password }).then((loggedInUser) => setUser(loggedInUser));\n    clearForm();\n    if (onHide) onHide();\n  }\n\n  function onChange(e) {\n    let { name, value } = e.currentTarget;\n    switch (name) {\n      case \"username\":\n        setUsername(value);\n        break;\n      case \"email\":\n        setEmail(value);\n        break;\n      case \"password\":\n        setPassword(value);\n        break;\n      default:\n        throw Error(\"no correct value\");\n    }\n  }\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Form.Group controlId=\"username\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control onChange={onChange} name=\"username\" value={username} type=\"text\" placeholder=\"Enter username\" />\n        <Form.Text>Choose an username.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"email\" value={email}>\n        <Form.Label>Email address</Form.Label>\n        <Form.Control onChange={onChange} name=\"email\" type=\"email\" placeholder=\"Enter email\" />\n        <Form.Text>We'll never share your email with anyone else.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"password\" value={password}>\n        <Form.Label>Password</Form.Label>\n        <Form.Control onChange={onChange} name=\"password\" type=\"password\" placeholder=\"Password\" />\n      </Form.Group>\n      <Button text=\"Submit\" type=\"submit\"></Button>\n    </Form>\n  );\n}\n\nexport default LoginForm;\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport authService from \"../../services/auth.service\";\nfunction SignupForm({ setUser, onHide }) {\n  const AuthService = new authService();\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function submitForm(e) {\n    e.preventDefault();\n    AuthService.signup({ username, email, password }).then((loggedInUser) => setUser(loggedInUser));\n    if (onHide) onHide();\n  }\n\n  function onChange(e) {\n    let { name, value } = e.currentTarget;\n    switch (name) {\n      case \"username\":\n        setUsername(value);\n        break;\n      case \"email\":\n        setEmail(value);\n        break;\n      case \"password\":\n        setPassword(value);\n        break;\n      default:\n        throw Error(\"no correct value\");\n    }\n  }\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Form.Group controlId=\"username\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control onChange={onChange} name=\"username\" value={username} type=\"text\" placeholder=\"Enter username\" />\n        <Form.Text className=\"text-muted\">Choose an username.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"email\" value={email}>\n        <Form.Label>Email address</Form.Label>\n        <Form.Control onChange={onChange} name=\"email\" type=\"email\" placeholder=\"Enter email\" />\n        <Form.Text className=\"text-muted\">We'll never share your email with anyone else.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"password\" value={password}>\n        <Form.Label>Password</Form.Label>\n        <Form.Control onChange={onChange} name=\"password\" type=\"password\" placeholder=\"Password\" />\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\">\n        Submit\n      </Button>\n    </Form>\n  );\n}\n\nexport default SignupForm;\n","import React, { cloneElement } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport styled from \"styled-components\";\n\nfunction CenteredModal(props) {\n  const { show, children, onHide, title, noHeader } = props;\n\n  const ThemeModal = styled.div`\n    background-color: ${(props) => props.theme.background.modals};\n    width: 40%;\n    margin: 10vh auto;\n    border-radius: 5px;\n    font-size: 1.1em;\n    color: white;\n\n    div {\n      background-color: ${(props) => props.theme.background.modals};\n    }\n  `;\n  return (\n    <Modal dialogAs={ThemeModal} show={show} onHide={onHide} size=\"lg\" aria-labelledby=\"contained-modal-title-vcenter\" centered autoFocus>\n      {!noHeader && (\n        <Modal.Header closeButton onHide={onHide}>\n          <Modal.Title id=\"contained-modal-title-vcenter\">{title}</Modal.Title>\n        </Modal.Header>\n      )}\n      <Modal.Body>{cloneElement(children, { show, onHide })}</Modal.Body>\n    </Modal>\n  );\n}\n\nexport default CenteredModal;\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport gamesService from \"../../services/games.service\";\nimport { withRouter } from \"react-router-dom\";\nimport { SmallButton } from \"../Buttons\";\nfunction NewGameForm(props) {\n  const { loggedInUser, updateLastGames, history, simple } = props;\n  const GamesService = new gamesService();\n  const [title, setTitle] = useState(\"\");\n  const [minLevel, setMinLevel] = useState(1);\n  const [description, setDescription] = useState(\"\");\n\n  function submitForm(e) {\n    e.preventDefault();\n    if (simple) {\n      setMinLevel(1);\n    }\n\n    GamesService.createGame({ creator: loggedInUser._id, title, minLevel, description, simple })\n      .then((createdGame) => {\n        updateLastGames();\n        console.log(createdGame);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => history.push(\"/\"));\n  }\n\n  function onChange(e) {\n    const { name, value } = e.currentTarget;\n    switch (name) {\n      case \"title\":\n        setTitle(value);\n        break;\n      case \"description\":\n        setDescription(value);\n        break;\n      case \"minLevel\":\n        setMinLevel(value);\n        break;\n      default:\n        throw Error(\"Algo ha ido mal con el formulario\");\n    }\n  }\n\n  return (\n    <div>\n      <h2>Crear un nuevo juego es muy sencillo tan solo necesitas...</h2>\n      <Form onSubmit={submitForm}>\n        <Form.Group controlId=\"title\">\n          <Form.Label>Elegir un titulo:</Form.Label>\n          <Form.Control name=\"title\" onChange={onChange} value={title} type=\"text\" placeholder=\"El titulo de tu historia!\" />\n        </Form.Group>\n\n        {!simple && (\n          <Form.Group controlId=\"minLevel\">\n            <Form.Label>Un nivel mnimo para comenzar la aventura:</Form.Label>\n            <p>{minLevel}</p>\n            <Form.Control name=\"minLevel\" onChange={onChange} value={minLevel} type=\"range\" min=\"1\" max=\"20\" step=\"1\" placeholder=\"Ej: 5\" />\n            <Form.Text className=\"text-muted\">\n              Las aventuras bsicas comienzan en nivel 1, de 8 a 14 ya son todo un reto, a partir de ah los heroes pueden luchar contra los\n              mismos dioses.\n            </Form.Text>\n          </Form.Group>\n        )}\n\n        <Form.Group controlId=\"description\">\n          <Form.Label>El resumen de tu aventura! Hazlo atractivo de forma que la gente quiera jugarla ;)</Form.Label>\n          <Form.Control name=\"description\" onChange={onChange} value={description} type=\"text\" placeholder=\"El titulo de tu historia!\" />\n        </Form.Group>\n        <SmallButton type=\"submit\" text=\"Crear\" />\n      </Form>\n    </div>\n  );\n}\n\nexport default withRouter(NewGameForm);\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst ImageFiltered = styled.img`\n  z-index: -9000;\n  opacity: 0.5;\n  filter: blur(1px);\n  filter: contrast(80%);\n`;\n\nexport const BackgroundImage = (props) => {\n  return <ImageFiltered {...props} />;\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { BackgroundImage } from \"../Images\";\nimport EasyDice from \"./assets/d6book.svg\";\nimport D20Dice from \"./assets/d20.svg\";\n\nfunction ModeSelect(props) {\n  const { setMode } = props;\n  const ModeWrapper = styled(Row)`\n    align-items: center;\n    height: calc(60vh);\n  `;\n  const ModeBox = styled(Col)`\n    text-align: center;\n    font-size: 3rem;\n\n    &:hover {\n      cursor: pointer;\n      transform: scale(1.2);\n      p {\n        text-shadow: 0px 10px 10px white;\n        border-top: 1px solid white;\n      }\n    }\n  `;\n\n  const LeftBackgroundImage = styled(BackgroundImage)`\n    position: absolute;\n    left: 0px;\n    top: -40px;\n    max-height: 200px;\n    max-width: 200px;\n    transform: rotate(-15deg);\n  `;\n\n  const RightBackgroundImage = styled(BackgroundImage)`\n    position: absolute;\n    right: 0px;\n    top: -40px;\n    max-height: 200px;\n    max-width: 200px;\n    transform: rotate(15deg);\n  `;\n\n  return (\n    <ModeWrapper>\n      <ModeBox onClick={() => setMode(true)}>\n        <LeftBackgroundImage src={EasyDice} />\n        <p>Historia simple</p>\n      </ModeBox>\n      <ModeBox onClick={() => setMode(false)}>\n        <RightBackgroundImage src={D20Dice} />\n        <p>Aventura de Rol</p>\n      </ModeBox>\n    </ModeWrapper>\n  );\n}\n\nexport default ModeSelect;\n","import React, { useState } from \"react\";\nimport NewGameForm from \"../components/Game/NewGameForm\";\nimport ModeSelect from \"../components/Game/ModeSelect\";\nfunction NewGame({ loggedInUser, updateLastGames }) {\n  const [simple, setSimple] = useState(null);\n  if (simple === null) {\n    return <ModeSelect setMode={setSimple} />;\n  } else {\n    return <NewGameForm simple={simple} updateLastGames={updateLastGames} loggedInUser={loggedInUser}></NewGameForm>;\n  }\n}\n\nexport default NewGame;\n","import axios from \"axios\";\n\nclass choicesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/choices/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getChoicesFromChapter(id) {\n    return this.service\n      .get(`/?chapterId=${id}`)\n      .then((res) => res.data.choicesFound)\n      .catch((err) => console.log(err));\n  }\n\n  createChoice({ description, trial, successTargetChapter, failureTargetChapter, pxGranted }) {\n    return this.service\n      .post(\"\", { description, trial, successTargetChapter, failureTargetChapter, pxGranted })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  updateChoice(choice) {\n    return this.service\n      .patch(\"/\", choice)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  deleteChoice(choiceId) {\n    return this.service\n      .delete(\"\", { choiceId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default choicesService;\n","import axios from \"axios\";\n\nclass gamesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/chapters/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getChapter(id) {\n    return this.service\n      .get(`/?chapterId=${id}`)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getChaptersFromGame(id) {\n    return this.service\n      .get(`/fromGame/?gameId=${id}`)\n      .then((res) => res.data.chapters)\n      .catch((err) => console.log(err));\n  }\n\n  createChapter({ description, choices, gameId, title, last }) {\n    return this.service\n      .post(\"\", { description, choices, gameId, title, last })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  updateChapter(chapter) {\n    return this.service\n      .patch(\"/\", chapter)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default gamesService;\n","import React, { useState, useEffect } from \"react\";\nimport { Card, Form, Button } from \"react-bootstrap\";\nimport choicesService from \"../../services/choices.service\";\nimport chapterService from \"../../services/chapter.service\";\nimport { withRouter } from \"react-router-dom\";\n\nfunction ChoiceForm(props) {\n  const { finishChoiceForm, idx, choice, toogleCard, closeChoiceForm, match, simple } = props;\n  const ChapterService = new chapterService();\n  const ChoicesService = new choicesService();\n  const [description, setDescription] = useState(choice ? choice.description : \"\");\n  const [difficulty, setDifficulty] = useState(choice ? choice.trial.difficulty : 10);\n  const [characteristic, setCharacteristic] = useState(choice ? choice.trial.characteristic : \"str\");\n  const [pxGranted, setPxGranted] = useState(choice ? choice.pxGranted : 0);\n  const [successTargetChapter, setSuccessTargetChapter] = useState(choice ? choice.successTargetChapter : null);\n  const [failureTargetChapter, setFailureTargetChapter] = useState(choice ? choice.failureTargetChapter : null);\n  const [chapterList, setChapterList] = useState([]);\n\n  useEffect(() => {\n    ChapterService.getChaptersFromGame(match.params.gameId).then((chapterList) => {\n      setChapterList(chapterList);\n    });\n  }, [match.params.gameId]);\n\n  function createChoice(choice) {\n    ChoicesService.createChoice(choice).then((createdChoice) => {\n      finishChoiceForm(createdChoice._id, idx, createdChoice);\n    });\n  }\n\n  function updateChoice(choice) {\n    ChoicesService.updateChoice(choice).then((updatedChoice) => {\n      toogleCard(idx);\n    });\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    const trial = { difficulty, characteristic };\n    if (choice && simple) {\n      choice.trial = { difficulty: -10, characteristic: \"str\" };\n      choice.description = description;\n      choice.pxGranted = 0;\n      choice.successTargetChapter = successTargetChapter;\n      choice.failureTargetChapter = successTargetChapter;\n      updateChoice(choice);\n    } else if (choice) {\n      choice.trial = trial;\n      choice.description = description;\n      choice.pxGranted = pxGranted;\n      choice.successTargetChapter = successTargetChapter;\n      choice.failureTargetChapter = failureTargetChapter;\n      updateChoice(choice);\n    } else if (simple) {\n      console.log(\"creacin simple\");\n      const newChoice = {\n        description,\n        trial: { difficulty: -10, characteristic: \"str\" },\n        pxGranted: 0,\n        successTargetChapter,\n        failureTargetChapter: successTargetChapter,\n      };\n      console.log(newChoice, \"choice pa tu body\");\n      createChoice(newChoice);\n    } else {\n      const newChoice = { description, trial, pxGranted, successTargetChapter, failureTargetChapter };\n      createChoice(newChoice);\n    }\n  }\n\n  function onChange(e) {\n    const { name, value } = e.currentTarget;\n    switch (name) {\n      case \"description\":\n        setDescription(value);\n        break;\n      case \"difficulty\":\n        setDifficulty(value);\n        break;\n      case \"characteristic\":\n        console.log(value);\n        setCharacteristic(value);\n        break;\n      case \"pxGranted\":\n        console.log(value);\n        setPxGranted(value);\n        break;\n      case \"successTargetChapter\":\n        console.log(value);\n        setSuccessTargetChapter(value);\n        break;\n      case \"failureTargetChapter\":\n        console.log(value);\n        setFailureTargetChapter(value);\n        break;\n      default:\n        throw Error(\"Algo ha ido mal con el formulario\");\n    }\n  }\n\n  return (\n    <Card>\n      <Form onSubmit={submitForm} className=\"choiceForm\">\n        <Card.Header style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <Button\n            onClick={() => {\n              closeChoiceForm ? closeChoiceForm(idx) : toogleCard(idx);\n            }}\n            style={{ width: \"40px\" }}\n            variant=\"danger\"\n          >\n            <i className=\"fas fa-times\"></i>\n          </Button>\n          <Button type=\"submit\" style={{ width: \"40px\" }} variant=\"success\">\n            <i className=\"fas fa-check\"></i>\n          </Button>\n        </Card.Header>\n        <Card.Body>\n          <Form.Group controlId=\"choice\">\n            <Form.Label>Describe la eleccin:</Form.Label>\n            <Form.Control name=\"description\" onChange={onChange} value={description} placeholder=\"Fuerzo la puerta\" />\n\n            {!simple && (\n              <>\n                <Form.Label>Que dificultad tiene?</Form.Label>\n                <Form.Control type=\"number\" name=\"difficulty\" onChange={onChange} value={difficulty} placeholder=\"Fuerzo la puerta\" />\n                {choice ? null : (\n                  <Form.Text>\n                    Dificultades de 10 son adecuadas para una persona media, 15 son para expertos y 20 para verdaderos prodgios.\n                  </Form.Text>\n                )}\n                <Form.Label>Qu caracteristica es necesaria para superarla?</Form.Label>\n                <Form.Control onChange={onChange} name=\"characteristic\" as=\"select\" custom>\n                  <option value=\"str\">Fuerza</option>\n                  <option value=\"des\">Destreza</option>\n                  <option value=\"agi\">Agilidad, velocidad</option>\n                  <option value=\"con\">Constitucin fsica</option>\n                  <option value=\"int\">Inteligencia</option>\n                  <option value=\"wis\">Sabidura</option>\n                  <option value=\"char\">Carisma</option>\n                </Form.Control>\n              </>\n            )}\n          </Form.Group>\n          {!simple && (\n            <Form.Group controlId=\"choice\">\n              <Form.Label>Cuanta experiencia da el xito:</Form.Label>\n              <Form.Control name=\"pxGranted\" onChange={onChange} value={pxGranted} placeholder=\"100\" type=\"number\" />\n            </Form.Group>\n          )}\n        </Card.Body>\n        <Form.Group controlId=\"successTargetChapter\">\n          <Form.Label>{!simple ? \"Cap de destino con exito:\" : \"Cap de destino\"}</Form.Label>\n          <Form.Control as=\"select\" custom name=\"successTargetChapter\" onChange={onChange}>\n            <option value=\"null\">Ninguno</option>\n            {chapterList.map((chapter) =>\n              chapter._id === successTargetChapter ? (\n                <option dangerouslySetInnerHTML={{ __html: chapter.title }} selected value={chapter._id}></option>\n              ) : (\n                <option dangerouslySetInnerHTML={{ __html: chapter.title }} value={chapter._id}></option>\n              )\n            )}\n          </Form.Control>\n        </Form.Group>\n        {!simple && (\n          <Form.Group controlId=\"failureTargetChapter\">\n            <Form.Label>Cap de destino con fracaso:</Form.Label>\n            <Form.Control as=\"select\" name=\"failureTargetChapter\" custom onChange={onChange}>\n              <option value=\"null\">Ninguno</option>\n              {chapterList.map((chapter) =>\n                chapter._id === failureTargetChapter ? (\n                  <option dangerouslySetInnerHTML={{ __html: chapter.title }} selected value={chapter._id}></option>\n                ) : (\n                  <option dangerouslySetInnerHTML={{ __html: chapter.title }} value={chapter._id}></option>\n                )\n              )}\n            </Form.Control>\n          </Form.Group>\n        )}\n      </Form>\n    </Card>\n  );\n}\n\nexport default withRouter(ChoiceForm);\n","import React, { useState, useEffect } from \"react\";\nimport choicesService from \"../../services/choices.service\";\nimport chapterService from \"../../services/chapter.service\";\nimport styled from \"styled-components\";\nimport { withRouter } from \"react-router-dom\";\n\nconst ChoiceFormWrapper = styled.div`\n  border: ${(props) => \"1px solid \" + props.theme.colors.general};\n  margin: 15px 0;\n  color: ${(props) => props.theme.colors.light};\n  form {\n    border-top: 1px solid rgba(200, 200, 200, 1);\n    background-color: ${(props) => props.theme.background.modals};\n  }\n`;\n\nconst Row = styled.div`\n  display: flex;\n  background-color: ${(props) => props.theme.background.modals};\n  padding: 10px;\n`;\n\nconst Col4 = styled.div`\n  width: 25%;\n  /* background-color: ${(props) => props.theme.background.modals}; */\n`;\n\nfunction ChoiceFormRow(props) {\n  const { finishChoiceForm, idx, choice, toogleCard, closeChoiceForm, match, simple } = props;\n  const ChapterService = new chapterService();\n  const ChoicesService = new choicesService();\n  const [description, setDescription] = useState(choice ? choice.description : \"\");\n  const [difficulty, setDifficulty] = useState(choice ? choice.trial.difficulty : 10);\n  const [characteristic, setCharacteristic] = useState(choice ? choice.trial.characteristic : \"str\");\n  const [pxGranted, setPxGranted] = useState(choice ? choice.pxGranted : 0);\n  const [successTargetChapter, setSuccessTargetChapter] = useState(choice ? choice.successTargetChapter : null);\n  const [failureTargetChapter, setFailureTargetChapter] = useState(choice ? choice.failureTargetChapter : null);\n  const [chapterList, setChapterList] = useState([]);\n\n  useEffect(() => {\n    ChapterService.getChaptersFromGame(match.params.gameId).then((chapterList) => {\n      setChapterList(chapterList);\n    });\n  }, [match.params.gameId]);\n\n  function createChoice(choice) {\n    ChoicesService.createChoice(choice).then((createdChoice) => {\n      finishChoiceForm(createdChoice._id, idx, createdChoice);\n    });\n  }\n\n  function updateChoice(choice) {\n    ChoicesService.updateChoice(choice).then((updatedChoice) => {\n      toogleCard(idx);\n    });\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    const trial = { difficulty, characteristic };\n    if (choice && simple) {\n      choice.trial = { difficulty: -10, characteristic: \"str\" };\n      choice.description = description;\n      choice.pxGranted = 0;\n      choice.successTargetChapter = successTargetChapter;\n      choice.failureTargetChapter = successTargetChapter;\n      updateChoice(choice);\n    } else if (choice) {\n      choice.trial = trial;\n      choice.description = description;\n      choice.pxGranted = pxGranted;\n      choice.successTargetChapter = successTargetChapter;\n      choice.failureTargetChapter = failureTargetChapter;\n      updateChoice(choice);\n    } else if (simple) {\n      console.log(\"creacin simple\");\n      const newChoice = {\n        description,\n        trial: { difficulty: -10, characteristic: \"str\" },\n        pxGranted: 0,\n        successTargetChapter,\n        failureTargetChapter: successTargetChapter,\n      };\n      console.log(newChoice, \"choice pa tu body\");\n      createChoice(newChoice);\n    } else {\n      const newChoice = { description, trial, pxGranted, successTargetChapter, failureTargetChapter };\n      createChoice(newChoice);\n    }\n  }\n\n  function onChange(e) {\n    const { name, value } = e.currentTarget;\n    switch (name) {\n      case \"description\":\n        setDescription(value);\n        break;\n      case \"difficulty\":\n        setDifficulty(value);\n        break;\n      case \"characteristic\":\n        console.log(value);\n        setCharacteristic(value);\n        break;\n      case \"pxGranted\":\n        console.log(value);\n        setPxGranted(value);\n        break;\n      case \"successTargetChapter\":\n        console.log(value);\n        setSuccessTargetChapter(value);\n        break;\n      case \"failureTargetChapter\":\n        console.log(value);\n        setFailureTargetChapter(value);\n        break;\n      default:\n        throw Error(\"Algo ha ido mal con el formulario\");\n    }\n  }\n\n  return (\n    <ChoiceFormWrapper>\n      <Row>\n        <div\n          onClick={() => {\n            closeChoiceForm ? closeChoiceForm(idx) : toogleCard(idx);\n          }}\n          style={{\n            borderRadius: \"5px\",\n            padding: \"2px\",\n            marginRight: \"20px\",\n            height: \"30px\",\n            width: \"30px\",\n            backgroundColor: \"red\",\n            textAlign: \"center\",\n          }}\n        >\n          <i className=\"fas fa-times\"></i>\n        </div>\n        <div\n          onClick={submitForm}\n          style={{\n            borderRadius: \"5px\",\n            padding: \"2px\",\n            marginRight: \"20px\",\n            height: \"30px\",\n            width: \"30px\",\n            backgroundColor: \"green\",\n            textAlign: \"center\",\n          }}\n        >\n          <i className=\"fas fa-check\"></i>\n        </div>\n      </Row>\n      <form onSubmit={submitForm} className=\"choiceForm\">\n        <Row>\n          <Col4>\n            <label>\n              Describe la eleccin:\n              <input id=\"description\" name=\"description\" onChange={onChange} value={description} placeholder=\"Fuerzo la puerta\" />\n            </label>\n          </Col4>\n          <Col4>\n            {!simple && (\n              <>\n                <label>\n                  Que dificultad tiene?\n                  <input\n                    id=\"difficulty\"\n                    type=\"number\"\n                    name=\"difficulty\"\n                    onChange={onChange}\n                    value={difficulty}\n                    placeholder=\"Fuerzo la puerta\"\n                  />\n                </label>\n                {choice ? null : (\n                  <small>\n                    Dificultades de 10 son adecuadas para una persona media, 15 son para expertos y 20 para verdaderos prodgios.\n                  </small>\n                )}\n                <label>\n                  Qu caracteristica es necesaria para superarla?\n                  <select id=\"characteristic\" onChange={onChange} name=\"characteristic\">\n                    <option value=\"str\">Fuerza</option>\n                    <option value=\"des\">Destreza</option>\n                    <option value=\"agi\">Agilidad, velocidad</option>\n                    <option value=\"con\">Constitucin fsica</option>\n                    <option value=\"int\">Inteligencia</option>\n                    <option value=\"wis\">Sabidura</option>\n                    <option value=\"char\">Carisma</option>\n                  </select>\n                </label>\n              </>\n            )}\n          </Col4>\n          <Col4>\n            {!simple && (\n              <label>\n                Cuanta experiencia da el xito:\n                <input id=\"pxGranted\" name=\"pxGranted\" onChange={onChange} value={pxGranted} placeholder=\"100\" type=\"number\" />\n              </label>\n            )}\n          </Col4>\n          <Col4>\n            <label>\n              {!simple ? \"Cap de destino con exito:\" : \"Cap de destino\"}\n              <select id=\"successTargetChapter\" name=\"successTargetChapter\" onChange={onChange}>\n                <option value=\"null\">Ninguno</option>\n                {chapterList.map((chapter) =>\n                  chapter._id === successTargetChapter ? (\n                    <option selected value={chapter._id}>\n                      {chapter.title}\n                    </option>\n                  ) : (\n                    <option value={chapter._id}>{chapter.title}</option>\n                  )\n                )}\n              </select>\n            </label>\n\n            {!simple && (\n              <label>\n                Cap de destino con fracaso:\n                <select id=\"failuterTargetChapter\" as=\"select\" name=\"failureTargetChapter\" custom onChange={onChange}>\n                  <option value=\"null\">Ninguno</option>\n                  {chapterList.map((chapter) =>\n                    chapter._id === failureTargetChapter ? (\n                      <option selected value={chapter._id}>\n                        {chapter.title}\n                      </option>\n                    ) : (\n                      <option value={chapter._id}>{chapter.title}</option>\n                    )\n                  )}\n                </select>\n              </label>\n            )}\n          </Col4>\n        </Row>\n      </form>\n    </ChoiceFormWrapper>\n  );\n}\n\nexport default withRouter(ChoiceFormRow);\n","import React from \"react\";\nimport { Card } from \"react-bootstrap\";\nfunction ChoiceCard({ choice, idx, toogleCard }) {\n  function returnCharacteristic(characteristic) {\n    let result;\n    switch (characteristic) {\n      case \"str\":\n        result = \"Fuerza\";\n        break;\n      case \"des\":\n        result = \"Destreza\";\n        break;\n      case \"agi\":\n        result = \"Agilidad, velocidad\";\n        break;\n      case \"con\":\n        result = \"Constitucin\";\n        break;\n      case \"wis\":\n        result = \"Sabidura\";\n        break;\n      case \"int\":\n        result = \"Inteligencia\";\n        break;\n      case \"char\":\n        result = \"Carisma\";\n        break;\n      default:\n        throw Error(\"algo fue mal con la card de la choice\");\n    }\n    return result;\n  }\n\n  return (\n    <Card>\n      <Card.Header onClick={() => toogleCard(idx)}>Editar</Card.Header>\n      <Card.Body\n        style={{\n          color: \"black\",\n          backgroundColor: choice.successTargetChapter && choice.failureTargetChapter ? \"rgba(0,255,127, 0.3)\" : \"rgba(255,165,0, 0.5)\",\n        }}\n      >\n        <p>{choice.description}</p>\n        <p>{returnCharacteristic(choice.trial.characteristic)}</p>\n        <p>{choice.trial.difficulty}</p>\n        <p>{choice.pxGranted}</p>\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default ChoiceCard;\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Row, Col } from \"react-bootstrap\";\nimport ChoiceForm from \"../Choice/ChoiceForm\";\nimport ChoiceFormRow from \"../Choice/ChoiceFormRow\";\nimport ChoiceCard from \"../Choice/ChoiceCard\";\nimport chapterService from \"../../services/chapter.service\";\nimport { withRouter } from \"react-router-dom\";\nimport CKEditor from \"@ckeditor/ckeditor5-react\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport CenteredModal from \"../utils/Modal\";\nimport styled from \"styled-components\";\n\nconst EditorWrapper = styled.div`\n  margin-bottom: 10px;\n  color: black;\n`;\nfunction NewChapterForm(props) {\n  const { updateLastGames, match, chapterId, getAllChapters, closeNewChapterForm, simple } = props;\n\n  const ChapterService = new chapterService();\n\n  let gameId = match.params.gameId;\n\n  const [description, setDescription] = useState(\"\");\n  const [choices, setChoices] = useState([]);\n  const [choicesObj, setChoicesObj] = useState([]);\n  const [choiceForms, setChoiceForms] = useState([]);\n  const [ready, setReady] = useState(false);\n  const [title, setTitle] = useState(\"\");\n  const [last, setLast] = useState(false);\n\n  function populateThisChapter() {\n    if (chapterId) {\n      ChapterService.getChapter(chapterId).then((chapter) => {\n        setTitle(chapter.title);\n        setDescription(chapter.description);\n        setChoicesObj(chapter.choices);\n        setChoices(chapter.choices.filter((choice) => choice._id));\n        setReady(true);\n        setLast(chapter.last);\n      });\n    }\n  }\n\n  useEffect(() => {\n    populateThisChapter();\n  }, []);\n\n  function retrieveChoicesIds(id, idx) {\n    const choicesCopy = [...choices];\n    choicesCopy.push(id);\n    setChoices(choicesCopy);\n  }\n\n  function createChoiceCard(choiceObj) {\n    const choicesObjCopy = [...choicesObj];\n    choicesObjCopy.push(choiceObj);\n    setChoicesObj(choicesObjCopy);\n  }\n\n  function finishChoiceForm(id, idx, choiceObj) {\n    retrieveChoicesIds(id, idx);\n    createChoiceCard(choiceObj);\n    closeChoiceForm(idx);\n  }\n\n  function closeChoiceForm(idx) {\n    const choiceFormsCopy = [...choiceForms];\n    choiceFormsCopy.splice(idx, 1);\n    setChoiceForms(choiceFormsCopy);\n  }\n\n  function createChapter(chapter) {\n    ChapterService.createChapter(chapter)\n      .then((createdChapter) => {\n        getAllChapters();\n        updateLastGames();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function updateChapter(chapter) {\n    ChapterService.updateChapter(chapter)\n      .then((updatedChapter) => {\n        updateLastGames();\n        populateThisChapter();\n        getAllChapters();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    if (!description) return;\n    if (chapterId) {\n      updateChapter({ _id: chapterId, description, choices, title, last });\n    } else {\n      createChapter({ description, choices, gameId, title, last });\n      closeNewChapterForm();\n    }\n  }\n\n  function addChoice() {\n    const choiceFormsCopy = [...choiceForms];\n    choiceFormsCopy.push(true);\n    setChoiceForms(choiceFormsCopy);\n  }\n\n  function toogleCard(idx) {\n    console.log(idx);\n    const choicesObjCopy = [...choicesObj];\n    const choiceCopy = { ...choicesObjCopy[idx] };\n    choiceCopy.show = !choicesObj[idx].show;\n    choicesObjCopy.splice(idx, 1, choiceCopy);\n    setChoicesObj(choicesObjCopy);\n  }\n\n  function onChange(e) {\n    const { name, value, checked } = e.currentTarget;\n    switch (name) {\n      case \"title\":\n        setTitle(value);\n        break;\n      case \"last\":\n        console.log(checked);\n        setLast(checked);\n        break;\n      default:\n        throw Error(\"Error onChange\");\n    }\n  }\n\n  return chapterId && !ready ? (\n    \"loading\"\n  ) : (\n    <>\n      <label>\n        Ttulo del captulo:\n        <input onChange={onChange} placeholder=\"#1.0 El comienzo\" name=\"title\" value={title} maxLength=\"230\"></input>\n      </label>\n      <div className=\".ck-editor\">\n        <EditorWrapper>\n          <CKEditor\n            editor={ClassicEditor}\n            data={description}\n            placeholder=\"El texto del capitulo va aqu\"\n            onInit={(editor) => {\n              // You can store the \"editor\" and use when it is needed.\n              console.log(\"Editor is ready to use!\", editor);\n            }}\n            onChange={(event, editor) => {\n              const data = editor.getData();\n              setDescription(data);\n              console.log({ event, editor, data });\n            }}\n            onBlur={(event, editor) => {\n              console.log(\"Blur.\", editor);\n            }}\n            onFocus={(event, editor) => {\n              console.log(\"Focus.\", editor);\n            }}\n          />\n          <div style={{ margin: \"10px 0\" }}>\n            <Button style={{ margin: \"0 5px\" }} onClick={addChoice}>\n              Aadir eleccin\n            </Button>\n            <Button style={{ margin: \"0 5px\" }} onClick={submitForm}>\n              {chapterId ? \"Hecho\" : \"Crear\"}\n            </Button>\n          </div>\n        </EditorWrapper>\n        {choiceForms.map((eachform, idx) => (\n          <div key={idx}>{React.cloneElement(<ChoiceFormRow />, { idx, finishChoiceForm, closeChoiceForm, simple })}</div>\n        ))}\n        <div>\n          <label>\n            Last chapter?\n            <input onChange={onChange} name=\"last\" checked={last} type=\"checkbox\" />\n          </label>\n        </div>\n        <Row>\n          {choicesObj.map((eachChoice, idx) => (\n            <Col key={idx} lg={3}>\n              {!eachChoice.show ? (\n                <ChoiceCard toogleCard={toogleCard} choice={eachChoice} idx={idx} simple={simple} />\n              ) : (\n                <CenteredModal noHeader show={true}>\n                  <ChoiceForm simple={simple} toogleCard={toogleCard} choice={eachChoice} idx={idx} />\n                </CenteredModal>\n              )}\n            </Col>\n          ))}\n        </Row>\n      </div>\n    </>\n  );\n}\n\nexport default withRouter(NewChapterForm);\n","import React, { useState, useEffect } from \"react\";\nimport gameService from \"../services/games.service\";\nimport NewChapterForm from \"../components/Chapter/NewChapterForm\";\nimport chapterService from \"../services/chapter.service\";\nimport styled, { createGlobalStyle } from \"styled-components\";\nimport { Button } from \"../components/Buttons\";\nconst List = styled.div`\n  background-color: ${(props) => props.theme.background.modals};\n  border-radius: 2px;\n  padding: 15px;\n`;\n\nconst ListPoint = styled.div`\n  border-radius: 3px;\n  background-color: ${(props) => props.theme.background.list};\n  padding: 15px;\n  margin-bottom: 15px;\n  &:hover {\n  }\n`;\n\nfunction EditChapters({ loggedInUser, updateLastGames, match, history }) {\n  const RestaurateScroll = createGlobalStyle`\n    html, body {\n      overflow: auto\n    }\n  `;\n  const ChapterService = new chapterService();\n  const GameService = new gameService();\n  const [allChapters, setallChapters] = useState([]);\n  const [showNewForm, setShowNewForm] = useState(false);\n  const [simple, setSimple] = useState(null);\n  function checkOwnership() {\n    GameService.getOneGame(match.params.gameId).then((game) => {\n      setSimple(game.simple);\n      if (!(game.creator === loggedInUser._id)) history.replace(`/read/${match.params.gameId}`);\n    });\n  }\n\n  function getAllChapters() {\n    ChapterService.getChaptersFromGame(match.params.gameId).then((allChapters) => {\n      setallChapters(allChapters);\n    });\n  }\n\n  function expandChapter(idx) {\n    const allChaptersCopy = [...allChapters];\n    const chapterCopy = { ...allChaptersCopy[idx] };\n    chapterCopy.show = !allChapters[idx].show;\n    allChaptersCopy.splice(idx, 1, chapterCopy);\n    setallChapters(allChaptersCopy);\n  }\n\n  useEffect(() => {\n    checkOwnership();\n  }, [loggedInUser]);\n\n  useEffect(() => {\n    getAllChapters();\n  }, []);\n\n  return (\n    <>\n      <RestaurateScroll />\n      <List>\n        {allChapters.length ? (\n          <div>\n            <h1>Edita los capitulos ya creados</h1>\n            {allChapters.map((chapter, idx) => (\n              <ListPoint>\n                <div style={{ width: \"100%\" }} active={chapter.show} onClick={() => expandChapter(idx)}>\n                  <div dangerouslySetInnerHTML={{ __html: chapter.title }} />\n                </div>\n                {chapter.show ? (\n                  <div>\n                    <NewChapterForm\n                      simple={simple}\n                      chapterId={chapter._id}\n                      getAllChapters={getAllChapters}\n                      loggedInUser={loggedInUser}\n                      updateLastGames={updateLastGames}\n                    ></NewChapterForm>\n                  </div>\n                ) : (\n                  <></>\n                )}\n              </ListPoint>\n            ))}\n          </div>\n        ) : (\n          <></>\n        )}\n      </List>\n\n      <div>\n        <div>\n          <div style={{ margin: \"10px 0\" }}>\n            <h1>Escribe un nuevo capitulo</h1>\n            <div onClick={() => setShowNewForm(!showNewForm)}>\n              <Button text={allChapters.length ? \"Escribe un nuevo capitulo\" : \"Escribe el primer captulo\"} />\n            </div>\n          </div>\n          {showNewForm ? (\n            <div style={{ backgroundColor: \"rgba(255, 255, 255, 0.1)\", padding: \"10px\" }}>\n              <NewChapterForm\n                simple={simple}\n                closeNewChapterForm={() => setShowNewForm(false)}\n                getAllChapters={getAllChapters}\n                loggedInUser={loggedInUser}\n                updateLastGames={updateLastGames}\n              ></NewChapterForm>\n            </div>\n          ) : null}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default EditChapters;\n","import axios from \"axios\";\n\nclass characterService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/characters/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getCharactersFromUser(userId) {\n    return this.service\n      .get(`/?userId=${userId}`)\n      .then((res) => res.data.characters)\n      .catch((err) => console.log(err));\n  }\n\n  createCharacter(character) {\n    return this.service\n      .post(\"\", { character })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  assignCharacterToUser(userId, characterId) {\n    return this.service\n      .post(\"assign\", { userId, characterId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default characterService;\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport characterService from \"../../services/character.service\";\n\nfunction CharacterForm({ setCharacter, hideForm, setUser, loggedInUser }) {\n  const CharacterService = new characterService();\n  const [name, setName] = useState(\"\");\n  const [hp] = useState(100);\n  const [str, setStr] = useState(8);\n  const [des, setDes] = useState(8);\n  const [agi, setAgi] = useState(8);\n  const [con, setCon] = useState(8);\n  const [int, setInt] = useState(8);\n  const [wis, setWis] = useState(8);\n  const [char, setChar] = useState(8);\n  const [totalPoints, setTotalPoints] = useState(27);\n\n  function closeForm() {\n    setName(\"\");\n    hideForm();\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    const newCharacter = {\n      name,\n      hp,\n      str,\n      des,\n      agi,\n      con,\n      int,\n      wis,\n      char,\n    };\n\n    CharacterService.createCharacter(newCharacter).then((createdCharacter) => {\n      CharacterService.assignCharacterToUser(loggedInUser._id, createdCharacter._id).then((updatedUser) => {\n        setUser(updatedUser);\n      });\n      closeForm();\n    });\n  }\n\n  function onChange(e) {\n    const { name, value } = e.currentTarget;\n    let newTotal = totalPoints;\n    console.log(value);\n    if (name !== \"name\") {\n      newTotal = calculatePoints(name, value);\n    }\n    console.log(newTotal);\n    if (newTotal >= 0) {\n      switch (name) {\n        case \"name\":\n          setName(value);\n          break;\n        case \"str\":\n          setStr(value);\n          break;\n        case \"des\":\n          setDes(value);\n          break;\n        case \"agi\":\n          setAgi(value);\n          break;\n        case \"con\":\n          setCon(value);\n          break;\n        case \"int\":\n          setInt(value);\n          break;\n        case \"wis\":\n          setWis(value);\n          break;\n        case \"char\":\n          setChar(value);\n          break;\n        default:\n          throw Error(\"Algo fue mal con el formulario\");\n      }\n      setTotalPoints(newTotal);\n    }\n  }\n\n  function calculatePoints(name, value) {\n    let total = 27;\n    const obj = { str, des, agi, con, int, wis, char };\n    obj[name] = value;\n    for (let key in obj) {\n      total = total - (obj[key] - 8);\n    }\n\n    return total;\n  }\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Form.Group controlId=\"name\">\n        <Form.Label>Nombre del personaje</Form.Label>\n        <Form.Control onChange={onChange} value={name} name=\"name\" type=\"text\" placeholder=\"Aragor, hijo de Arathorn\" />\n      </Form.Group>\n      {!totalPoints && (\n        <p>\n          <em>Has superado el mximo de puntos a repartir</em>\n        </p>\n      )}\n      <Form.Group controlId=\"str\">\n        <Form.Label>Fuerza</Form.Label>\n        <Form.Control onChange={onChange} value={str} name=\"str\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificacin al dado: {parseInt(str / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"des\">\n        <Form.Label>Destreza</Form.Label>\n        <Form.Control onChange={onChange} value={des} name=\"des\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificacin al dado: {parseInt(des / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"agi\">\n        <Form.Label>Agilidad, velocidad</Form.Label>\n        <Form.Control onChange={onChange} value={agi} name=\"agi\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificacin al dado: {parseInt(agi / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"con\">\n        <Form.Label>Constitucin fsica, fortaleza</Form.Label>\n        <Form.Control onChange={onChange} value={con} name=\"con\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificacin al dado: {parseInt(con / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"int\">\n        <Form.Label>Inteligencia</Form.Label>\n        <Form.Control onChange={onChange} value={int} name=\"int\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificacin al dado: {parseInt(int / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"wis\">\n        <Form.Label>Sabidura, astucia</Form.Label>\n        <Form.Control onChange={onChange} value={wis} name=\"wis\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificacin al dado: {parseInt(wis / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"char\">\n        <Form.Label>Carisma</Form.Label>\n        <Form.Control onChange={onChange} value={char} name=\"char\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificacin al dado: {parseInt(char / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\">\n        Crear\n      </Button>\n    </Form>\n  );\n}\n\nexport default CharacterForm;\n","import React from \"react\";\nimport { Button } from \"../Buttons\";\nimport styled from \"styled-components\";\nfunction CharacterList({ characters, newSave }) {\n  const CustomLi = styled.li`\n    margin: 15px 0;\n  `;\n\n  return characters.length ? (\n    <ul>\n      {characters.map((char) => {\n        return !char.name.includes(\"Simple Game\") ? (\n          <CustomLi>\n            <Button text={`${char.name}. Nivel: ${char.level}`} onClick={newSave ? () => newSave(char._id) : null} />\n            <small>\n              Fue: {char.str} Des: {char.des} Agi: {char.agi} Int: {char.int} Sab: {char.wis} Car: {char.char}\n            </small>\n          </CustomLi>\n        ) : null;\n      })}\n    </ul>\n  ) : (\n    <div>\n      <p>An no tienes personajes creados.</p>\n    </div>\n  );\n}\n\nexport default CharacterList;\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport CharacterForm from \"../Character/CharacterForm\";\nimport CharacterList from \"../Character/CharacterList\";\nimport savedGamesService from \"../../services/savedGames.service\";\nimport chapterService from \"../../services/chapter.service\";\n\nfunction NewSaveGame({ loggedInUser, setUser, match, updateSavedGames, history }) {\n  const ChapterService = new chapterService();\n  const SavedGamesService = new savedGamesService();\n  const [, setCharacter] = useState(null);\n  const [showForm, setShowForm] = useState(false);\n\n  function toogleForm() {\n    setShowForm(!showForm);\n  }\n\n  function newSave(chosenCharacter) {\n    ChapterService.getChaptersFromGame(match.params.gameId)\n      .then((chapters) => {\n        return SavedGamesService.createSavedGame({\n          gameId: match.params.gameId,\n          currentChapter: chapters[0]._id,\n          character: chosenCharacter,\n        });\n      })\n      .then((savedGame) => {\n        updateSavedGames(savedGame);\n        history.push(`/chapter/${savedGame._id}`);\n        return SavedGamesService.assignSaveToUser(loggedInUser._id, savedGame._id);\n      })\n      .then((updatedUser) => {\n        setUser(updatedUser);\n      });\n  }\n  console.log(loggedInUser.characters.length);\n  return (\n    <>\n      <h3>Elige un personaje para jugar: </h3>\n      {loggedInUser.characters.length > 0 && <CharacterList newSave={newSave} characters={loggedInUser.characters} />}\n      <button onClick={toogleForm}>Tambin puedes crear un nuevo personaje</button>\n      {showForm && <CharacterForm hideForm={toogleForm} setUser={setUser} loggedInUser={loggedInUser} setCharacter={setCharacter} />}\n    </>\n  );\n}\n\nexport default withRouter(NewSaveGame);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Dropdown } from \"react-bootstrap\";\nimport { Button } from \"../Buttons\";\n\nfunction StartPlayingButton(props) {\n  const { game, savedGames, loggedInUser } = props;\n  return !game ? (\n    <p>Loading game</p>\n  ) : props.noUser ? (\n    <section>\n      <article>\n        <h1>{game.title}</h1>\n        <p>{game.description}</p>\n        Para jugar, registrate.\n      </article>\n    </section>\n  ) : (\n    <section>\n      <article>\n        <h1>{game.title}</h1>\n        <p>{game.description}</p>\n        {loggedInUser ? (\n          savedGames.length === 0 ? (\n            <div>\n              <p>Haz click en un personaje para empezar a jugar</p>\n            </div>\n          ) : (\n            <>\n              <Dropdown>\n                <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                  <Button text=\"Continua la aventura\" />\n                </Dropdown.Toggle>\n\n                <Dropdown.Menu>\n                  {savedGames.map((save) => {\n                    return !save.finished ? (\n                      <Link to={`/chapter/${save._id}`}>\n                        <Dropdown.Item disabled>{save.character.name}</Dropdown.Item>\n                      </Link>\n                    ) : null;\n                  })}\n                </Dropdown.Menu>\n              </Dropdown>\n              <Dropdown>\n                <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                  <Button text=\"Partidas terminadas\" />\n                </Dropdown.Toggle>\n\n                <Dropdown.Menu>\n                  {savedGames.map((save) => {\n                    return save.finished ? (\n                      <Link to={`/finished/${save._id}`}>\n                        <Dropdown.Item disabled>{save.character.name}</Dropdown.Item>\n                      </Link>\n                    ) : null;\n                  })}\n                </Dropdown.Menu>\n              </Dropdown>\n            </>\n          )\n        ) : (\n          <Button disabled={true}>Continuar la aventura</Button>\n        )}\n      </article>\n    </section>\n  );\n}\n\nexport default StartPlayingButton;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Dropdown } from \"react-bootstrap\";\nimport { Button } from \"../Buttons\";\nimport savedGamesService from \"../../services/savedGames.service\";\nimport chapterService from \"../../services/chapter.service\";\nimport characterService from \"../../services/character.service\";\nimport { withRouter } from \"react-router-dom\";\n\nfunction SimpleStartPlaying(props) {\n  const { game, savedGames, loggedInUser, setUser, updateSavedGames, history, match } = props;\n  const CharacterService = new characterService();\n  const SavedGamesService = new savedGamesService();\n  const ChapterService = new chapterService();\n\n  function createCharAndSave() {\n    const name = `Simple Game ${savedGames.length + 1}`;\n\n    CharacterService.createCharacter({\n      name,\n      hp: 1000,\n      str: 100,\n      des: 100,\n      agi: 100,\n      con: 100,\n      int: 100,\n      wis: 100,\n      char: 100,\n    }).then((char) => {\n      return CharacterService.assignCharacterToUser(loggedInUser._id, char._id).then((_) => newSave(char._id));\n    });\n  }\n  function newSave(chosenCharacter) {\n    ChapterService.getChaptersFromGame(match.params.gameId)\n      .then((chapters) => {\n        return SavedGamesService.createSavedGame({\n          gameId: match.params.gameId,\n          currentChapter: chapters[0]._id,\n          character: chosenCharacter,\n        });\n      })\n      .then((savedGame) => {\n        updateSavedGames(savedGame);\n        history.push(`/chapter/${savedGame._id}`);\n        return SavedGamesService.assignSaveToUser(loggedInUser._id, savedGame._id);\n      })\n      .then((updatedUser) => {\n        setUser(updatedUser);\n      });\n  }\n  function startGame() {\n    createCharAndSave();\n  }\n\n  return !game && (!loggedInUser || props.noUser) ? (\n    <p>Loading game</p>\n  ) : props.noUser ? (\n    <section>\n      <article>\n        <h1>{game.title}</h1>\n        <p>{game.description}</p>\n        Para jugar, registrate.\n      </article>\n      createAndAssignCharacter\n    </section>\n  ) : (\n    <section>\n      <article>\n        <h1>{game.title}</h1>\n        <p>{game.description}</p>\n        {loggedInUser ? (\n          savedGames.length === 0 ? (\n            <Button text=\"Comienza la partida\" onClick={startGame} />\n          ) : (\n            <>\n              <Dropdown>\n                <Dropdown.Toggle variant=\"transparent\" id=\"dropdown-basic\">\n                  <Button text=\"Continua la aventura\" />\n                </Dropdown.Toggle>\n\n                <Dropdown.Menu style={{ backgroundColor: \"rgba(40,40,40)\" }} variant=\"transparent\">\n                  {savedGames.map((save) => (\n                    <Link to={`/chapter/${save._id}`}>\n                      <Dropdown.Item as={\"div\"}>\n                        <Button text={save.character.name} />\n                      </Dropdown.Item>\n                    </Link>\n                  ))}\n                  <Dropdown.Divider />\n                  <Dropdown.Item as={\"div\"}>\n                    <Button text={\"Comienza una nueva aventura\"} onClick={startGame}></Button>\n                  </Dropdown.Item>\n                </Dropdown.Menu>\n              </Dropdown>\n            </>\n          )\n        ) : (\n          <Button text=\"Continuar la aventura\" disabled={true}></Button>\n        )}\n      </article>\n    </section>\n  );\n}\n\nexport default withRouter(SimpleStartPlaying);\n","import React, { useContext } from \"react\";\n\nimport { withRouter } from \"react-router-dom\";\nimport UserContext from \"../../UserContext\";\n\nimport StartPlayingButton from \"./StartPlayingButton\";\nimport SimpleStartPlaying from \"./SimpleStartPlaying\";\nfunction GameBriefing(props) {\n  const { game, savedGames, simple, updateSavedGames, setUser, noUser } = props;\n  const loggedInUser = useContext(UserContext);\n\n  return simple ? (\n    <SimpleStartPlaying\n      noUser={noUser}\n      updateSavedGames={updateSavedGames}\n      setUser={setUser}\n      loggedInUser={loggedInUser}\n      game={game}\n      savedGames={savedGames}\n    />\n  ) : (\n    <StartPlayingButton noUser={noUser} loggedInUser={loggedInUser} game={game} savedGames={savedGames} />\n  );\n}\n\nexport default withRouter(GameBriefing);\n","import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router\";\nimport gamesService from \"../services/games.service\";\nimport savedGamesService from \"../services/savedGames.service\";\nimport NewSaveGame from \"../components/Game/NewSaveGame\";\nimport GameBriefing from \"../components/Game/GameBriefing\";\nimport { Row, Col } from \"react-bootstrap\";\n\nfunction GameOverView(props) {\n  const GamesService = new gamesService();\n  const SavedGamesService = new savedGamesService();\n\n  const { match, loggedInUser, setUser } = props;\n  const gameId = match.params.gameId;\n  const [game, setGame] = useState(null);\n  const [savedGames, setSavedGames] = useState([]);\n\n  useEffect(() => {\n    GamesService.getOneGame(props.match.params.gameId).then((game) => setGame(game));\n    loggedInUser && SavedGamesService.getUserSaves(loggedInUser._id, gameId).then((savedGames) => setSavedGames(savedGames));\n  }, [props.match.params.gameId, loggedInUser]);\n\n  function updateSavedGames(newSave) {\n    const savedGamesCopy = [...savedGames];\n    savedGamesCopy.push(newSave);\n    setSavedGames(savedGamesCopy);\n  }\n\n  return props.noUser ? (\n    <GameBriefing game={game} noUser={props.noUser} />\n  ) : !game ? (\n    <>Loading</>\n  ) : game.simple ? (\n    <GameBriefing simple updateSavedGames={updateSavedGames} setUser={setUser} game={game} savedGames={savedGames} />\n  ) : (\n    <Row style={{ justifyContent: \"space-between\" }}>\n      <Col lg={5}>\n        <NewSaveGame updateSavedGames={updateSavedGames} setUser={setUser} loggedInUser={loggedInUser} />\n      </Col>\n      <Col lg={5}>\n        <GameBriefing game={game} savedGames={savedGames} />\n      </Col>\n    </Row>\n  );\n}\n\nexport default withRouter(GameOverView);\n","import axios from \"axios\";\n\nclass characterChoicesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/characterChoices/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  makeChoice(saveId, choiceId, characterId) {\n    return this.service\n      .post(`/makeChoice`, { saveId, choiceId, characterId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default characterChoicesService;\n","import React from \"react\";\nimport Spritesheet from \"react-responsive-spritesheet\";\nimport useSound from \"use-sound\";\nimport styled from \"styled-components\";\n\nconst AnimationWrapper = styled.div`\n  position: absolute;\n  width: 360px;\n  height: 360px;\n  left: calc(50% - 360px);\n  top: 50%;\n`;\n\nfunction DiceAnimation(props) {\n  const { hideAnimation, sprite, sound } = props;\n  const [playDice] = useSound(sound);\n\n  return (\n    <AnimationWrapper>\n      <Spritesheet\n        className={`my-element__class--style`}\n        image={sprite}\n        widthFrame={320}\n        heightFrame={180}\n        steps={12}\n        fps={10}\n        autoplay={true}\n        loop={false}\n        endAt={12}\n        backgroundSize=\"cover\"\n        backgroundPosition=\"center center\"\n        onPlay={(spritesheet) => {\n          console.log(\"init\");\n          playDice();\n        }}\n        onPause={(spritesheet) => {\n          setTimeout(() => {\n            hideAnimation();\n          }, 1000);\n        }}\n      />\n    </AnimationWrapper>\n  );\n}\n\nexport default DiceAnimation;\n","import React from \"react\";\n\nfunction ChoicesList({ choices, makeChoice = () => {} }) {\n  return choices.map((choice) => {\n    return choice.successTargetChapter && choice.failureTargetChapter ? (\n      <button onClick={makeChoice} id={choice._id}>\n        {choice.description}\n      </button>\n    ) : (\n      <button disabled onClick={makeChoice} id={choice._id}>\n        {choice.description}\n      </button>\n    );\n  });\n}\n\nexport default ChoicesList;\n","import React, { useState } from \"react\";\nimport characterChoicesService from \"../../services/characterChoices.service\";\nimport { withRouter } from \"react-router-dom\";\nimport DiceAnimation from \"./DiceAnimation\";\nimport ChoicesList from \"../Choice/ChoicesList\";\nimport r01 from \"./assets/diceSprites/r01.png\";\nimport r02 from \"./assets/diceSprites/r02.png\";\nimport r03 from \"./assets/diceSprites/r03.png\";\nimport r04 from \"./assets/diceSprites/r04.png\";\nimport r05 from \"./assets/diceSprites/r01.png\";\nimport r06 from \"./assets/diceSprites/r01.png\";\nimport r07 from \"./assets/diceSprites/r07.png\";\nimport r08 from \"./assets/diceSprites/r08.png\";\nimport r09 from \"./assets/diceSprites/r09.png\";\nimport r10 from \"./assets/diceSprites/r10.png\";\nimport r11 from \"./assets/diceSprites/r11.png\";\nimport r12 from \"./assets/diceSprites/r12.png\";\nimport r13 from \"./assets/diceSprites/r13.png\";\nimport r14 from \"./assets/diceSprites/r14.png\";\nimport r15 from \"./assets/diceSprites/r15.png\";\nimport r16 from \"./assets/diceSprites/r16.png\";\nimport r17 from \"./assets/diceSprites/r17.png\";\nimport r18 from \"./assets/diceSprites/r18.png\";\nimport r19 from \"./assets/diceSprites/r19.png\";\nimport r20 from \"./assets/diceSprites/r20.png\";\nimport rollSound from \"./assets/diceRoll.mp3\";\nconst rollSprites = {\n  \"1\": r01,\n  \"2\": r02,\n  \"3\": r03,\n  \"4\": r04,\n  \"5\": r05,\n  \"6\": r06,\n  \"7\": r07,\n  \"8\": r08,\n  \"9\": r09,\n  \"10\": r10,\n  \"11\": r11,\n  \"12\": r12,\n  \"13\": r13,\n  \"14\": r14,\n  \"15\": r15,\n  \"16\": r16,\n  \"17\": r17,\n  \"18\": r18,\n  \"19\": r19,\n  \"20\": r20,\n};\n\nfunction Chapter(props) {\n  const CharacterChoiceService = new characterChoicesService();\n  const { currentChapter, character } = props.game;\n  const [sprite, setSprite] = useState(null);\n  const [showAnimation, setShowAnimation] = useState(false);\n  function makeChoice(e) {\n    CharacterChoiceService.makeChoice(props.game._id, e.currentTarget.id, character._id).then((result) => {\n      console.log(result, \"resultado de make choice\");\n      setSprite(rollSprites[result.roll]);\n      setShowAnimation(true);\n      // setTimeout(() => {\n      props.updateChapterOnSave();\n      // }, 6000);\n    });\n  }\n\n  return (\n    <div>\n      {showAnimation && <DiceAnimation sprite={sprite} sound={rollSound} hideAnimation={() => setShowAnimation(false)} />}\n      <div dangerouslySetInnerHTML={{ __html: currentChapter.description }}></div>\n      <ChoicesList makeChoice={makeChoice} choices={currentChapter.choices} />\n    </div>\n  );\n}\n\nexport default withRouter(Chapter);\n","import React, { useEffect, useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport savedGamesService from \"../services/savedGames.service\";\nimport Chapter from \"../components/Chapter/Chapter\";\nimport { Spinner } from \"react-bootstrap\";\n\nfunction ChapterWrapper(props) {\n  const SavedGamesService = new savedGamesService();\n  const { match } = props;\n\n  const [savedGame, setSavedGame] = useState(null);\n  const [ready, setReady] = useState(false);\n\n  useEffect(() => {\n    //Not sure if this is good practice for removing the warning...\n    const update = () =>\n      SavedGamesService.getFullSave(match.params.savedGameId).then((savedGame) => {\n        setSavedGame(savedGame);\n        setReady(true);\n      });\n    update();\n  }, [match.params.savedGameId]);\n\n  function updateChapterOnSave() {\n    SavedGamesService.getFullSave(match.params.savedGameId).then((savedGame) => {\n      if (savedGame.currentChapter.last) {\n        savedGame.finished = true;\n        SavedGamesService.updateSavedGame({ savedGameId: match.params.savedGameId, finished: true });\n      }\n      setSavedGame(savedGame);\n      setReady(true);\n    });\n  }\n\n  return ready ? (\n    savedGame.currentChapter ? (\n      <Chapter updateChapterOnSave={updateChapterOnSave} game={savedGame} />\n    ) : (\n      <div>\n        <p>Esta aventura an no tiene capitulos.</p>\n      </div>\n    )\n  ) : (\n    <Spinner />\n  );\n}\n\nexport default withRouter(ChapterWrapper);\n","import React, { useEffect, useContext, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport gamesService from \"../services/games.service\";\nimport UserContext from \"../UserContext\";\n\nfunction MyCreatedGames(props) {\n  const loggedInUser = useContext(UserContext);\n  const GamesService = new gamesService();\n  const [createdGames, setCreatedGames] = useState(null);\n  useEffect(() => {\n    GamesService.getOwnedGames(loggedInUser._id).then((games) => {\n      console.log(games);\n      setCreatedGames(games);\n    });\n  }, []);\n\n  return !createdGames ? (\n    <></>\n  ) : createdGames.length ? (\n    <ul>\n      {createdGames.map((game) => {\n        return (\n          <>\n            <li>{game.title}</li>\n            <Link to={`/read/${game._id}`}>Jugar</Link>\n            <br></br>\n            <Link to={`/modify/${game._id}`}>Editar</Link>\n          </>\n        );\n      })}\n    </ul>\n  ) : (\n    <p>An no tienes historias en juego</p>\n  );\n}\n\nexport default MyCreatedGames;\n","import React, { useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport savedGamesService from \"../services/savedGames.service\";\nimport chapterService from \"../services/chapter.service\";\nimport Chapter from \"../components/Chapter/Chapter\";\nfunction FinishedGame(props) {\n  const SavedGamesService = new savedGamesService();\n  const ChapterService = new chapterService();\n  useEffect(() => {\n    SavedGamesService.getFullSave(props.match.params.saveId).then((save) => {\n      const chaptersPromise = save.choicesTree.map((choice) => {\n        const target = choice.didSuccess ? choice.choice.successTargetChapter : choice.choice.failureTargetChapter;\n        return ChapterService.getChapter(target).then((chapter) => chapter);\n      });\n\n      Promise.all(chaptersPromise)\n        .then((chaptersTravelled) => {\n          console.log(chaptersTravelled);\n        })\n        .catch((err) => console.log(err));\n    });\n  }, []);\n  return <div></div>;\n}\n\nexport default withRouter(FinishedGame);\n","export const darkTheme = {\n  background: {\n    general: \"rgba(0,0,0, 0.9)\",\n    semiSolid: \"rgba(0, 0, 0, 0.7)\",\n    solid: \"rgba(11,11,11, 1)\",\n    light: \"rgba(240, 240, 240, 0.9)\",\n    modals: \"rgba(40, 40, 40, 1)\",\n    list: \"rgba(70, 70, 70, 1)\",\n    overlay: \"rgba(255, 255, 255, 0.1)\",\n    lightOverlay: \"rgba(255, 255, 255, 0.01)\",\n  },\n  colors: {\n    light: \"rgba(240, 240, 240, 0.9)\",\n    general: \"rgb(200, 200, 200)\",\n  },\n};\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\nimport Navbar from \"./layout/Navbar\";\nimport LastGames from \"./views/LastGames\";\nimport MyGames from \"./views/MyGames\";\nimport gamesService from \"./services/games.service\";\nimport authService from \"./services/auth.service\";\nimport LoginForm from \"./components/Auth/LoginForm\";\nimport SignupForm from \"./components/Auth/SignupForm\";\nimport CenteredModal from \"./components/utils/Modal\";\nimport NewGame from \"./views/NewGame\";\nimport EditChapters from \"./views/EditChapters\";\nimport GameOverview from \"./views/GameOverView\";\nimport CharacterList from \"./components/Character/CharacterList\";\nimport ChapterWrapper from \"./views/ChapterWrapper\";\nimport MyCreatedGames from \"./views/MyCreatedGames\";\nimport FinishedGame from \"./views/FinishedGame\";\nimport { ThemeProvider, createGlobalStyle } from \"styled-components\";\nimport { UserProvider } from \"./UserContext\";\nimport { darkTheme } from \"./themeContext\";\n\nfunction App() {\n  const GamesService = new gamesService();\n  const AuthService = new authService();\n\n  const [lastGames, setlastGames] = useState([]);\n  const [loggedInUser, setloggedInUser] = useState(false);\n\n  function logout() {\n    AuthService.logout().then(() => setloggedInUser(null));\n  }\n\n  function setUser(user) {\n    setloggedInUser(user);\n  }\n\n  function updateLastGames() {\n    GamesService.getLastGames().then((last10) => {\n      if (Array.isArray(last10) && !last10.every((elm) => lastGames.find((game) => game._id === elm._id))) {\n        setlastGames(last10);\n      }\n    });\n  }\n\n  //Recover games on mount\n  useEffect(() => {\n    updateLastGames();\n    return () => {\n      setlastGames([]);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (loggedInUser === false) {\n      AuthService.loggedin().then((user) => {\n        if (user) setloggedInUser(user);\n        else setloggedInUser(null);\n      });\n    }\n    return () => {};\n  }, []);\n\n  const [loginModal, setloginModal] = useState(false);\n  const [signupModal, setSignupModal] = useState(false);\n\n  const GlobalStyle = createGlobalStyle`\n    html, body {\n      overflow: hidden;\n    }\n    body {\n      color: ${darkTheme.colors.general};\n      background-color: ${darkTheme.background.general};\n      -webkit-overflow-scrolling: touch;\n    }\n    a {\n      color: #eee;\n    }\n    a:hover {\n      color: #eee;\n      text-decoration: none;\n    }\n`;\n\n  return (\n    <Switch>\n      <ThemeProvider theme={darkTheme}>\n        <UserProvider value={loggedInUser}>\n          <GlobalStyle />\n          <Navbar\n            logout={logout}\n            showSignup={() => setSignupModal(true)}\n            showLogin={() => setloginModal(true)}\n            loggedInUser={loggedInUser}\n          />\n          <Container fluid>\n            <main style={{ height: \"calc(100vh - 60px)\" }} className=\"app-wrapper\">\n              <Route exact path=\"/\" render={() => <LastGames loggedInUser={loggedInUser} games={lastGames} />} />\n              {loggedInUser ? (\n                <>\n                  <Route exact path=\"/myGames\" render={() => <MyGames loggedInUser={loggedInUser} />} />\n                  <Route exact path=\"/myCreatedGames\" render={() => <MyCreatedGames loggedInUser={loggedInUser} />} />\n                  <Route exact path=\"/newGame\" render={() => <NewGame updateLastGames={updateLastGames} loggedInUser={loggedInUser} />} />\n                  <Route exact path=\"/myCharacters\" render={() => <CharacterList characters={loggedInUser.characters} />} />\n                  <Route\n                    exact\n                    path=\"/modify/:gameId\"\n                    render={({ match, history }) => (\n                      <EditChapters history={history} match={match} updateLastGames={updateLastGames} loggedInUser={loggedInUser} />\n                    )}\n                  />\n                  <Route exact path=\"/chapter/:savedGameId\" render={() => <ChapterWrapper />} />\n                  <Route exact path=\"/read/:gameId\" render={() => <GameOverview setUser={setUser} loggedInUser={loggedInUser} />} />\n                  <Route exact path=\"/finished/:saveId\" render={() => <FinishedGame loggedInUser={loggedInUser} />} />\n\n                  {/* <Route exact path=\"/flowchart/:gameId\" render={() => <GameFlowChart />} /> */}\n                </>\n              ) : (\n                <>\n                  <Route exact path=\"/read/:gameId\" render={() => <GameOverview noUser setUser={setUser} loggedInUser={loggedInUser} />} />\n                  <Route exact path=\"/:algo\">\n                    <h1>Para ver este contenido has de estar logueado</h1>\n                  </Route>\n                  <CenteredModal title={\"Login\"} show={loginModal} onHide={() => setloginModal(false)}>\n                    <LoginForm setUser={setUser} />\n                  </CenteredModal>\n                  <CenteredModal title={\"Signup\"} show={signupModal} onHide={() => setSignupModal(false)}>\n                    <SignupForm setUser={setUser} />\n                  </CenteredModal>\n                </>\n              )}\n            </main>\n          </Container>\n        </UserProvider>\n      </ThemeProvider>\n    </Switch>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Route path=\"/\" render={(match) => <App {...match} />} />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/r01.66469ed4.png\";","module.exports = __webpack_public_path__ + \"static/media/d6book.f2700073.svg\";","module.exports = __webpack_public_path__ + \"static/media/d20.32c11da5.svg\";","module.exports = __webpack_public_path__ + \"static/media/invertedlogo.9e69b76b.png\";","module.exports = __webpack_public_path__ + \"static/media/playingTable.e9c5973e.png\";"],"sourceRoot":""}