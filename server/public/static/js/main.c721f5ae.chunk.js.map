{"version":3,"sources":["components/Chapter/assets/diceSprites/r02.png","components/Chapter/assets/diceSprites/r03.png","components/Chapter/assets/diceSprites/r04.png","components/Chapter/assets/diceSprites/r07.png","components/Chapter/assets/diceSprites/r08.png","components/Chapter/assets/diceSprites/r09.png","components/Chapter/assets/diceSprites/r10.png","components/Chapter/assets/diceSprites/r11.png","components/Chapter/assets/diceSprites/r12.png","components/Chapter/assets/diceSprites/r13.png","components/Chapter/assets/diceSprites/r14.png","components/Chapter/assets/diceSprites/r15.png","components/Chapter/assets/diceSprites/r16.png","components/Chapter/assets/diceSprites/r17.png","components/Chapter/assets/diceSprites/r18.png","components/Chapter/assets/diceSprites/r19.png","components/Chapter/assets/diceSprites/r20.png","components/Chapter/assets/diceRoll.mp3","components/layout/Searchbar.jsx","services/games.service.js","components/layout/Navbar.jsx","services/auth.service.js","components/shared/Buttons.jsx","components/Auth/LoginForm.jsx","components/Auth/SignupForm.jsx","components/shared/Modal.jsx","UserContext.js","themeContext.js","components/views/Home.jsx","components/views/LastGames.jsx","services/savedGames.service.js","components/shared/Spinner.jsx","components/Game/GameCard.jsx","components/views/MyGames.jsx","components/Game/NewGameForm.jsx","components/shared/Images.jsx","components/Game/ModeSelect.jsx","components/views/NewGame.jsx","services/choices.service.js","services/chapter.service.js","components/Choice/ChoiceForm.jsx","components/Choice/ChoiceCard.jsx","components/Chapter/NewChapterForm.jsx","components/views/EditGame.jsx","services/character.service.js","components/Character/CharacterForm.jsx","components/Character/CharacterList.jsx","components/Game/NewSaveGame.jsx","components/Game/StartPlayingButton.jsx","components/Game/SimpleStartPlaying.jsx","components/Game/GameBriefing.jsx","components/views/GameOverView.jsx","services/characterChoices.service.js","components/Chapter/DiceAnimation.jsx","components/Choice/ChoicesList.jsx","components/Chapter/Chapter.jsx","components/views/ChapterWrapper.jsx","components/views/MyCreatedGames.jsx","components/views/FinishedGame.jsx","components/Character/CharacterSummary.jsx","components/views/MyCharacters.jsx","Routes.jsx","App.js","serviceWorker.js","index.js","components/Chapter/assets/diceSprites/r01.png","components/views/assets/playingTable.png","components/Game/assets/d6book.svg","components/Game/assets/d20.svg","components/shared/arrow.png","components/layout/invertedlogo.png"],"names":["module","exports","Searchbar","fetchGames","useState","search","setSearch","searchText","setSearchText","isOpen","setIsOpen","useEffect","then","result","InputGroup","onBlur","e","console","log","target","onFocus","className","Dropdown","show","DropdownMenu","map","elm","idx","Item","key","as","Link","to","_id","title","FormControl","placeholder","style","backgroundColor","value","onChange","currentTarget","aria-describedby","gamesService","this","baseURL","process","service","axios","create","withCredentials","id","get","res","data","catch","err","name","gamesFound","creator","minLevel","description","simple","post","GameService","getByTitle","StyledNavbar","styled","Navbar","props","theme","colors","light","background","lightOverlay","CustomNavbar","loggedInUser","showLogin","showSignup","logout","Spinner","Nav","width","NavLink","height","src","logo","alt","onClick","justifyContent","NavDropdown","drop","Divider","href","authService","timeout","timeoutErrorMessage","username","email","password","response","status","code","error","message","StyledButton","button","Button","text","LoginForm","setUser","onHide","AuthService","setUsername","setEmail","setPassword","Error","Form","onSubmit","preventDefault","login","Group","controlId","Label","Control","type","SignupForm","signup","Text","variant","ThemeModal","div","modals","CenteredModal","children","noHeader","Modal","dialogAs","size","aria-labelledby","centered","autoFocus","Header","closeButton","Title","Body","cloneElement","UserContext","React","createContext","UserProvider","Provider","darkTheme","general","semiSolid","solid","list","overlay","sizes","navBarHeight","getFullMain","Hero","section","Home","useContext","Row","Col","lg","GamesService","MainsSectionWrapper","Background","img","MainSection","article","appear","keyframes","h1","GameCard","LastGames","isPreloaded","setisPreloaded","lastGames","setlastGames","oldGames","getLastGames","every","old","newGame","updatedList","mainBackgroundPreload","document","createElement","rel","playingTable","d6Prefetch","d20Prefetch","D6","D20","head","append","preloadDice","overflow","length","game","slice","savedGamesService","userId","gameId","query","saveId","currentChapter","character","savedGameId","finished","patch","delete","CustomSpinner","margin","display","animation","role","Card","bg","Subtitle","SavedGamesService","MyGames","savedGames","setSavedGames","ready","setReady","getAllSaves","saves","savedGame","FormWrapper","withRouter","history","setTitle","setMinLevel","setDescription","createGame","createdGame","push","min","max","step","ImageFiltered","BackgroundImage","ModeSelect","setMode","ModeWrapper","ModeBox","LeftBackgroundImage","RightBackgroundImage","EasyDice","D20Dice","NewGame","updateLastGames","setSimple","choicesService","choicesFound","trial","successTargetChapter","failureTargetChapter","pxGranted","choice","choiceId","chapters","choices","last","chapter","ChapterService","chapterService","ChoicesService","finishChoiceForm","toogleCard","closeChoiceForm","match","difficulty","characteristic","choiceObj","setChoiceObj","chapterList","setChapterList","getChaptersFromGame","params","updateChoice","updatedChoice","createChoice","createdChoice","custom","dangerouslySetInnerHTML","__html","selected","charsDict","str","des","agi","con","wis","int","char","ChoiceCard","arrow","color","ChapterFormWrapper","EditorWrapper","getAllChapters","closeNewChapterForm","setChoices","choicesObj","setChoicesObj","choiceForms","setChoiceForms","setLast","populateThisChapter","filter","choicesCopy","retrieveChoicesIds","choicesObjCopy","createChoiceCard","choiceFormsCopy","splice","choiceCopy","checked","maxLength","editor","ClassicEditor","onInit","event","getData","eachChoice","updateChapter","updatedChapter","createChapter","createdChapter","eachform","gameService","List","ListPoint","active","PointHeader","PointBody","allChapters","EditGame","setallChapters","showNewForm","setShowNewForm","getOneGame","creatorId","replace","allChaptersCopy","chapterCopy","expandChapter","arrowIcon","first","characterService","characters","characterId","CharacterForm","setCharacter","hideForm","CharacterService","setName","hp","setStr","setDes","setAgi","setCon","setInt","setWis","setChar","totalPoints","setTotalPoints","newTotal","total","obj","calculatePoints","newCharacter","createCharacter","createdCharacter","assignCharacterToUser","updatedUser","parseInt","CharacterList","CustomLi","li","includes","level","updateSavedGames","showForm","setShowForm","toogleForm","chosenCharacter","createSavedGame","assignSaveToUser","StartPlayingButton","noUser","Toggle","Menu","save","disabled","createCharAndSave","_","startGame","setGame","newSave","savedGamesCopy","getUserSaves","characterChoicesService","AnimationWrapper","DiceAnimation","hideAnimation","sprite","sound","useSound","playDice","image","widthFrame","heightFrame","steps","fps","autoplay","loop","endAt","backgroundSize","backgroundPosition","onPlay","spritesheet","onPause","setTimeout","ChoicesList","makeChoice","rollSprites","r01","r02","r03","r04","r05","r06","r07","r08","r09","r10","r11","r12","r13","r14","r15","r16","r17","r18","r19","r20","CharacterChoiceService","setSprite","showAnimation","setShowAnimation","rollSound","roll","updateChapterOnSave","setSavedGame","getFullSave","updateSavedGame","MyCreatedGames","createdGames","setCreatedGames","getOwnedGames","games","chaptersPromise","choicesTree","didSuccess","getChapter","Promise","all","chaptersTravelled","CharacterSummary","exp","Section","MyCharacters","setShow","charShown","setCharShown","chosedChar","find","Routes","setloginModal","exact","path","render","GlobalStyle","createGlobalStyle","App","loginModal","signupModal","setSignupModal","setloggedInUser","user","loggedin","Boolean","window","location","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.c721f5ae.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/r02.bde458ff.png\";","module.exports = __webpack_public_path__ + \"static/media/r03.d9ed47a0.png\";","module.exports = __webpack_public_path__ + \"static/media/r04.43694589.png\";","module.exports = __webpack_public_path__ + \"static/media/r07.8d873eb0.png\";","module.exports = __webpack_public_path__ + \"static/media/r08.02e3d8aa.png\";","module.exports = __webpack_public_path__ + \"static/media/r09.b799ee05.png\";","module.exports = __webpack_public_path__ + \"static/media/r10.e872788c.png\";","module.exports = __webpack_public_path__ + \"static/media/r11.e1fb3055.png\";","module.exports = __webpack_public_path__ + \"static/media/r12.cc0de9f1.png\";","module.exports = __webpack_public_path__ + \"static/media/r13.ba069347.png\";","module.exports = __webpack_public_path__ + \"static/media/r14.1caa17d0.png\";","module.exports = __webpack_public_path__ + \"static/media/r15.b865a968.png\";","module.exports = __webpack_public_path__ + \"static/media/r16.ed090d48.png\";","module.exports = __webpack_public_path__ + \"static/media/r17.65cb70b6.png\";","module.exports = __webpack_public_path__ + \"static/media/r18.6f4ebc7c.png\";","module.exports = __webpack_public_path__ + \"static/media/r19.c8774adb.png\";","module.exports = __webpack_public_path__ + \"static/media/r20.d21f8366.png\";","module.exports = __webpack_public_path__ + \"static/media/diceRoll.afd53a36.mp3\";","import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { InputGroup, Dropdown, FormControl } from 'react-bootstrap'\nimport DropdownMenu from 'react-bootstrap/DropdownMenu'\n\nfunction Searchbar({ fetchGames }) {\n\tconst [search, setSearch] = useState([])\n\tconst [searchText, setSearchText] = useState('')\n\tconst [isOpen, setIsOpen] = useState(false)\n\tconst onSearch = e => setSearchText(e.currentTarget.value)\n\n\tuseEffect(() => {\n\t\tfetchGames(searchText).then(result => setSearch(result))\n\t\treturn () => {\n\t\t\tsetSearch([])\n\t\t}\n\t}, [searchText, fetchGames])\n\n\treturn (\n\t\t<InputGroup\n\t\t\tonBlur={e => {\n\t\t\t\t//TODO Fix lose focus and link conflict\n\t\t\t\tconsole.log(e.target)\n\t\t\t\tsetIsOpen(false)\n\t\t\t}}\n\t\t\tonFocus={() => setIsOpen(true)}\n\t\t\tclassName='mb-3'\n\t\t>\n\t\t\t<Dropdown show={isOpen}>\n\t\t\t\t<DropdownMenu>\n\t\t\t\t\t{search?.map((elm, idx) => (\n\t\t\t\t\t\t<Dropdown.Item key={idx} as={Link} to={`/read/${elm._id}`}>\n\t\t\t\t\t\t\t{elm.title}\n\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t))}\n\t\t\t\t</DropdownMenu>\n\t\t\t</Dropdown>\n\t\t\t<FormControl\n\t\t\t\tplaceholder='Busca tu nueva historia favorita'\n\t\t\t\tstyle={{ backgroundColor: 'rgb(225, 225, 225)' }}\n\t\t\t\tvalue={searchText}\n\t\t\t\tonChange={onSearch}\n\t\t\t\taria-describedby='basic-addon1'\n\t\t\t/>\n\t\t</InputGroup>\n\t)\n}\n\nexport default Searchbar\n","import axios from 'axios'\n\nclass gamesService {\n\tconstructor() {\n\t\tthis.baseURL = `${process.env.REACT_APP_API}/games/`\n\t\tthis.service = axios.create({ baseURL: this.baseURL, withCredentials: true })\n\t}\n\n\tgetOneGame(id) {\n\t\treturn this.service\n\t\t\t.get(`/?gameId=${id}`)\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tgetByTitle(name) {\n\t\treturn this.service\n\t\t\t.get(`/title?title=${name}`)\n\t\t\t.then(res => (res.data ? res.data : []))\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tgetOwnedGames(id) {\n\t\treturn this.service\n\t\t\t.get(`/owned?creatorId=${id}`)\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tgetLastGames() {\n\t\treturn this.service\n\t\t\t.get('/last?limit=5')\n\t\t\t.then(res => res.data.gamesFound)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tcreateGame({ creator, title, minLevel, description, simple }) {\n\t\treturn this.service\n\t\t\t.post('', { creator, title, minLevel, description, simple })\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n}\n\nexport default gamesService\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { Navbar, Nav, NavDropdown, Spinner } from 'react-bootstrap'\nimport styled from 'styled-components'\nimport logo from './invertedlogo.png'\nimport Searchbar from './Searchbar'\nimport gamesService from '../../services/games.service'\nconst GameService = new gamesService()\n\nconst fetchGames = title => GameService.getByTitle(title)\n\n//TODO sobrescribir bootstrap bien y no a base de importants\nconst StyledNavbar = styled(Navbar)`\n\t.dropdown-menu a {\n\t\tbackground-color: rgb(25, 25, 25);\n\t}\n\n\t& > div {\n\t\talign-items: center;\n\t\ta {\n\t\t\tcolor: ${props => props.theme.colors.light + '!important'};\n\t\t\tpadding-right: 25px !important;\n\t\t}\n\t}\n\n\t.dropdown-menu.show {\n\t\tbackground-color: ${props => props.theme.background.lightOverlay};\n\t}\n`\n\nfunction CustomNavbar({ loggedInUser, showLogin, showSignup, logout }) {\n\treturn loggedInUser === false ? (\n\t\t<Spinner />\n\t) : loggedInUser === null ? (\n\t\t<StyledNavbar>\n\t\t\t<Nav style={{ width: '60%' }}>\n\t\t\t\t<Nav.Link as={NavLink} to={'/'}>\n\t\t\t\t\t<img style={{ height: '36px' }} src={logo} alt='Logo de dado icosaédrico'></img>\n\t\t\t\t</Nav.Link>\n\t\t\t\t<Nav.Link onClick={showLogin}>Login</Nav.Link>\n\t\t\t\t<Nav.Link onClick={showSignup}>Signup</Nav.Link>\n\t\t\t</Nav>\n\n\t\t\t<Nav style={{ width: '40%', justifyContent: 'flex-end' }}>\n\t\t\t\t<Searchbar fetchGames={fetchGames} />\n\t\t\t</Nav>\n\t\t</StyledNavbar>\n\t) : (\n\t\t<StyledNavbar>\n\t\t\t<Nav style={{ width: '60%' }}>\n\t\t\t\t<Nav.Link as={NavLink} to={'/'}>\n\t\t\t\t\t<img style={{ height: '36px' }} src={logo} alt='Logo de dado icosaédrico'></img>\n\t\t\t\t</Nav.Link>\n\t\t\t\t<NavDropdown title='Mis historias' id='nav-dropdown' drop='down'>\n\t\t\t\t\t<Nav.Link as={NavLink} to={'/myGames'}>\n\t\t\t\t\t\tEn juego\n\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t<NavDropdown.Divider />\n\n\t\t\t\t\t<Nav.Link as={NavLink} to={'/myCreatedGames'}>\n\t\t\t\t\t\tCreadas por mí\n\t\t\t\t\t</Nav.Link>\n\t\t\t\t</NavDropdown>\n\t\t\t\t<Nav.Link as={NavLink} to={'/myCharacters'}>\n\t\t\t\t\tMis personajes\n\t\t\t\t</Nav.Link>\n\t\t\t\t<Nav.Link as={NavLink} to={'/newGame'}>\n\t\t\t\t\tCrear Partida\n\t\t\t\t</Nav.Link>\n\t\t\t\t<Nav.Link href='#' onClick={logout}>\n\t\t\t\t\tLogout\n\t\t\t\t</Nav.Link>\n\t\t\t</Nav>\n\t\t\t<Nav style={{ width: '40%', justifyContent: 'flex-end' }}>\n\t\t\t\t<Nav.Item style={{ width: '100%' }}>\n\t\t\t\t\t<Searchbar fetchGames={fetchGames} />\n\t\t\t\t</Nav.Item>\n\t\t\t</Nav>\n\t\t</StyledNavbar>\n\t)\n}\n\nexport default CustomNavbar\n","import axios from 'axios'\n\nclass authService {\n\tconstructor() {\n\t\tthis.baseURL = `${process.env.REACT_APP_API}/auth/`\n\t\tthis.service = axios.create({\n\t\t\tbaseURL: this.baseURL,\n\t\t\twithCredentials: true,\n\t\t\ttimeout: 1000 * 30,\n\t\t\ttimeoutErrorMessage: 'El servidor ha tardado demasiado tiempo en responder',\n\t\t})\n\t}\n\n\tlogin({ username, email, password }) {\n\t\treturn this.service\n\t\t\t.post('login', { username, email, password }) //add form\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log({ err })\n\t\t\t\tif (err.response.status === '401') return null\n\t\t\t\tif (err.code === 'ECONNABORTED') console.error(err.message)\n\t\t\t})\n\t}\n\n\tsignup({ username, email, password }) {\n\t\treturn this.service\n\t\t\t.post('signup', { username, email, password }) //add form\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log({ err })\n\t\t\t\tif (err.code === 'ECONNABORTED') console.error(err.message)\n\t\t\t})\n\t}\n\n\tlogout() {\n\t\treturn this.service\n\t\t\t.post('logout')\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log({ err })\n\t\t\t\tif (err.code === 'ECONNABORTED') console.error(err.message)\n\t\t\t})\n\t}\n\n\tloggedin() {\n\t\treturn this.service\n\t\t\t.get('loggedin')\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log({ err })\n\t\t\t\tif (err.code === 'ECONNABORTED') console.error(err.message)\n\t\t\t})\n\t}\n}\n\nexport default authService\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst StyledButton = styled.button`\n\tbackground-color: rgba(0, 0, 0, 1);\n\tcolor: white;\n\tborder: 0.3px solid white;\n\tdisplay: inline-block;\n\tfont-weight: 400;\n\ttext-align: center;\n\tvertical-align: middle;\n\t-webkit-user-select: none;\n\tuser-select: none;\n\tpadding: 0.375rem 0.75rem;\n\tfont-size: 1rem;\n\tline-height: 1.5;\n\tborder-radius: 0.25rem;\n\tfont-size: 1.1em;\n\tpadding: 8px 10px;\n\n\ttransition: all 0.15s ease-in-out;\n\t&:hover {\n\t\tbackground-color: rgba(44, 44, 44, 0.1);\n\t\t-webkit-box-shadow: 0px 10px 7px 1px rgba(252, 252, 252, 0.1);\n\t\t-moz-box-shadow: 0px 1px 7px 1px rgba(252, 252, 252, 0.1);\n\t\tbox-shadow: 0px 1px 7px 1px rgba(252, 252, 252, 0.1);\n\t}\n`\nexport const Button = props => <StyledButton {...props}>{props.text}</StyledButton>\n","import React, { useState } from 'react'\nimport { Form } from 'react-bootstrap'\nimport authService from '../../services/auth.service'\nimport { Button } from '../shared/Buttons'\n\nfunction LoginForm({ setUser, onHide }) {\n\tconst AuthService = new authService()\n\tconst [username, setUsername] = useState('')\n\tconst [email, setEmail] = useState('')\n\tconst [password, setPassword] = useState('')\n\n\tfunction clearForm() {\n\t\tsetUsername('')\n\t\tsetEmail('')\n\t\tsetPassword('')\n\t}\n\n\tfunction submitForm(e) {\n\t\te.preventDefault()\n\t\tAuthService.login({ username, email, password }).then(loggedInUser => setUser(loggedInUser))\n\t\tclearForm()\n\t\tif (onHide) onHide()\n\t}\n\n\tfunction onChange(e) {\n\t\tlet { name, value } = e.currentTarget\n\t\tswitch (name) {\n\t\t\tcase 'username':\n\t\t\t\tsetUsername(value)\n\t\t\t\tbreak\n\t\t\tcase 'email':\n\t\t\t\tsetEmail(value)\n\t\t\t\tbreak\n\t\t\tcase 'password':\n\t\t\t\tsetPassword(value)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow Error('no correct value')\n\t\t}\n\t}\n\n\treturn (\n\t\t<Form onSubmit={submitForm}>\n\t\t\t<Form.Group controlId='username'>\n\t\t\t\t<Form.Label>Username</Form.Label>\n\t\t\t\t<Form.Control onChange={onChange} name='username' value={username} type='text' placeholder='Enter username' />\n\t\t\t</Form.Group>\n\n\t\t\t<Form.Group controlId='password' value={password}>\n\t\t\t\t<Form.Label>Password</Form.Label>\n\t\t\t\t<Form.Control onChange={onChange} name='password' type='password' placeholder='Password' />\n\t\t\t</Form.Group>\n\t\t\t<Button text='Submit' type='submit'></Button>\n\t\t</Form>\n\t)\n}\n\nexport default LoginForm\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport authService from \"../../services/auth.service\";\n\nfunction SignupForm({ setUser, onHide }) {\n  const AuthService = new authService();\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function submitForm(e) {\n    e.preventDefault();\n    AuthService.signup({ username, email, password }).then((loggedInUser) => setUser(loggedInUser));\n    if (onHide) onHide();\n  }\n\n  function onChange(e) {\n    let { name, value } = e.currentTarget;\n    switch (name) {\n      case \"username\":\n        setUsername(value);\n        break;\n      case \"email\":\n        setEmail(value);\n        break;\n      case \"password\":\n        setPassword(value);\n        break;\n      default:\n        throw Error(\"no correct value\");\n    }\n  }\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Form.Group controlId=\"username\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control onChange={onChange} name=\"username\" value={username} type=\"text\" placeholder=\"Enter username\" />\n        <Form.Text className=\"text-muted\">Choose an username.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"email\" value={email}>\n        <Form.Label>Email address</Form.Label>\n        <Form.Control onChange={onChange} name=\"email\" type=\"email\" placeholder=\"Enter email\" />\n        <Form.Text className=\"text-muted\">We'll never share your email with anyone else.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"password\" value={password}>\n        <Form.Label>Password</Form.Label>\n        <Form.Control onChange={onChange} name=\"password\" type=\"password\" placeholder=\"Password\" />\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\">\n        Submit\n      </Button>\n    </Form>\n  );\n}\n\nexport default SignupForm;\n","import React, { cloneElement } from 'react'\nimport { Modal } from 'react-bootstrap'\nimport styled from 'styled-components'\n\nconst ThemeModal = styled.div`\n\tbackground-color: ${props => props.theme.background.modals};\n\twidth: 40%;\n\tmargin: 10vh auto;\n\tborder-radius: 5px;\n\tfont-size: 1.1em;\n\tcolor: white;\n\n\tdiv {\n\t\tbackground-color: ${props => props.theme.background.modals};\n\t}\n`\n\nfunction CenteredModal(props) {\n\tconst { show, children, onHide, title, noHeader } = props\n\treturn (\n\t\t<Modal dialogAs={ThemeModal} show={show} onHide={onHide} size='lg' aria-labelledby='contained-modal-title-vcenter' centered autoFocus>\n\t\t\t{!noHeader && (\n\t\t\t\t<Modal.Header closeButton onHide={onHide}>\n\t\t\t\t\t<Modal.Title id='contained-modal-title-vcenter'>{title}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t)}\n\t\t\t<Modal.Body>{cloneElement(children, { ...props })}</Modal.Body>\n\t\t</Modal>\n\t)\n}\n\nexport default CenteredModal\n","import React from \"react\";\nconst UserContext = React.createContext(false);\nexport const UserProvider = UserContext.Provider;\nexport default UserContext;\n","export const darkTheme = {\n\tbackground: {\n\t\tgeneral: 'rgba(0,0,0, 0.9)',\n\t\tsemiSolid: 'rgba(0, 0, 0, 0.7)',\n\t\tsolid: 'rgba(25,25,25, 1)',\n\t\tlight: 'rgba(240, 240, 240, 0.9)',\n\t\tmodals: 'rgba(40, 40, 40, 1)',\n\t\tlist: 'rgba(70, 70, 70, 1)',\n\t\toverlay: 'rgba(255, 255, 255, 0.1)',\n\t\tlightOverlay: 'rgba(255, 255, 255, 0.01)',\n\t},\n\tcolors: {\n\t\tlight: 'rgba(240, 240, 240, 0.9)',\n\t\tgeneral: 'rgb(200, 200, 200)',\n\t},\n\tsizes: {\n\t\tnavBarHeight: '60px',\n\t\tgetFullMain: function () {\n\t\t\treturn `calc(100vh - ${this.navBarHeight})`\n\t\t},\n\t},\n}\n","import React, { useContext } from 'react'\nimport styled from 'styled-components'\nimport { Row, Col } from 'react-bootstrap'\nimport playingTable from './assets/playingTable.png'\nimport { Link } from 'react-router-dom'\nimport UserContext from '../../UserContext'\n\nconst Hero = styled.section`\n\tbackground-color: ${props => props.theme.background.lightOverlay};\n\theight: 100%;\n\ttext-align: center;\n\tpadding: 50px;\n\n\theader {\n\t\tpadding: 30px;\n\t}\n\n\tarticle div {\n\t\tpadding: 20px;\n\t}\n\n\tfooter {\n\t\tpadding: 30px;\n\t}\n\n\tfooter div {\n\t\tpadding: 30px 0;\n\t\tborder-radius: 10px;\n\t\tbackground-color: ${props => props.theme.background.lightOverlay};\n\t}\n\n\tbutton {\n\t\tpadding: 5px 10px;\n\t}\n\n\tp {\n\t\tpadding: 5px;\n\t\tfont-size: 1.2em;\n\t}\n`\n\nfunction Home({ showLogin }) {\n\tconst loggedInUser = useContext(UserContext)\n\n\treturn (\n\t\t<Hero>\n\t\t\t<article>\n\t\t\t\t<header>\n\t\t\t\t\t<h1>Juega y comparte tus propias historias.</h1>\n\t\t\t\t</header>\n\t\t\t\t<div>\n\t\t\t\t\t<p>¿Alguna vez has pensado algo cómo: \"¡no abras la puerta, es el asesino!</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tAhora puedes hacerlo. Juega o escribe historias en las que puedas tomar decisiones por el protagonista, juega distintas rutas y\n\t\t\t\t\t\tfinales e intenta llegar con vida a la última página.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tAdemás si prefieres un reto aún mayor, juega a las historias <strong>rol</strong> dónde podrás subir de nivel y decidir cómo es\n\t\t\t\t\t\ttu personaje.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<Row className='justify-content-around' as={'footer'}>\n\t\t\t\t\t<Col lg={3}>\n\t\t\t\t\t\t<p>¿Con ganas de empezar?</p>\n\t\t\t\t\t\t<Link to='/lastGames'>\n\t\t\t\t\t\t\t<button>¡Mira nuestras partidas en juego!</button>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col lg={3}>\n\t\t\t\t\t\t<p>¿Quieres escribir?</p>\n\t\t\t\t\t\t{!loggedInUser ? (\n\t\t\t\t\t\t\t<button onClick={() => showLogin(true)}>Registrate y a crear!</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Link to='/newGame'>\n\t\t\t\t\t\t\t\t<button>¡Crea tu partida!</button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</article>\n\t\t</Hero>\n\t)\n}\n\nexport default Home\n","import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport styled, { keyframes } from 'styled-components'\nimport playingTable from './assets/playingTable.png'\nimport D6 from '../Game/assets/d6book.svg'\nimport D20 from '../Game/assets/d20.svg'\nimport gamesService from '../../services/games.service'\n\nconst GamesService = new gamesService()\n\n//#region styling\nconst MainsSectionWrapper = styled.section`\n\tbackground-color: ${props => props.theme.background.lightOverlay};\n\ttext-align: center;\n\theight: 80vh;\n\tpadding-top: 40px;\n\toverflow: auto;\n\t&::-webkit-scrollbar {\n\t\tdisplay: none;\n\t}\n`\n\nconst Background = styled.img`\n\tposition: absolute;\n\tleft: 5%;\n\ttop: 100px;\n\tz-index: -9000;\n\ttransform: rotate(-15deg);\n\topacity: 0.5;\n\tfilter: blur(1px);\n\tfilter: contrast(70%);\n`\n\nconst MainSection = styled.article`\n\tmargin: 20px;\n`\n\nconst appear = keyframes`\n      from {\n        opacity: 0;\n      }\n\n      to {\n        opacity: 1;\n      }\n    `\n\nconst Title = styled.h1`\n\tanimation: ${appear} 3s ease-out;\n\tcolor: ${props => props.theme.colors.general};\n\ttext-align: center;\n`\n\nconst GameCard = styled.div`\n\tmargin: 10px 0;\n\tpadding: 10px 0;\n\tborder-radius: 2px;\n\tanimation: ${appear} 3s ease-out;\n\n\t@for $i from 1 through 10 {\n\t\t&:nth-child(#{$i}) {\n\t\t\tanimation-delay: #{$i * 2}s;\n\t\t}\n\t}\n\n\th2 {\n\t\ttext-transform: capitalize;\n\t}\n\t&:hover {\n\t\tbackground-color: ${props => props.theme.background.overlay};\n\t\ttransition: background-color 0.3s;\n\t}\n`\n//#endregion styling\n\nconst preloadDice = () => {\n\tconst mainBackgroundPreload = document.createElement('link')\n\tmainBackgroundPreload.rel = 'preload'\n\tmainBackgroundPreload.as = 'image'\n\tmainBackgroundPreload.href = playingTable\n\n\tconst d6Prefetch = document.createElement('link')\n\tconst d20Prefetch = document.createElement('link')\n\td6Prefetch.rel = 'prefetch'\n\td20Prefetch.rel = 'prefetch'\n\td6Prefetch.href = D6\n\td20Prefetch.href = D20\n\td6Prefetch.as = 'image'\n\td20Prefetch.as = 'image'\n\n\tdocument.head.append(d6Prefetch)\n\tdocument.head.append(d20Prefetch)\n\tdocument.head.append(mainBackgroundPreload)\n}\n\nconst checkNewGames = oldGames => {\n\treturn GamesService.getLastGames().then(lastGames => {\n\t\treturn oldGames.every(old => lastGames.every(newGame => old._id === newGame._id)) ? lastGames : false\n\t})\n}\n\nfunction LastGames({ loggedInUser }) {\n\tconst [isPreloaded, setisPreloaded] = useState(false)\n\tconst [lastGames, setlastGames] = useState([])\n\n\tuseEffect(() => {\n\t\tcheckNewGames(lastGames).then(updatedList => {\n\t\t\tconsole.log(updatedList)\n\t\t\tupdatedList && setlastGames(updatedList)\n\t\t})\n\t}, [lastGames])\n\n\t//preload dice for use in stories\n\tuseEffect(() => {\n\t\tif (!isPreloaded) {\n\t\t\tpreloadDice()\n\t\t\tsetisPreloaded(true)\n\t\t}\n\t}, [isPreloaded])\n\n\treturn (\n\t\t<div id='container1' style={{ overflow: 'hidden' }}>\n\t\t\t<Title>Últimas historias</Title>\n\t\t\t<hr />\n\t\t\t<MainsSectionWrapper id='container2'>\n\t\t\t\t<Background src={playingTable} />\n\t\t\t\t<MainSection>\n\t\t\t\t\t{lastGames.length\n\t\t\t\t\t\t? lastGames.map((game, idx) => (\n\t\t\t\t\t\t\t\t<Link key={idx} to={loggedInUser && loggedInUser._id === game.creator ? `/modify/${game._id}` : `/read/${game._id}`}>\n\t\t\t\t\t\t\t\t\t<GameCard key={idx}>\n\t\t\t\t\t\t\t\t\t\t<h2>{game.title}</h2>\n\t\t\t\t\t\t\t\t\t\t<em>Nivel minimo: {game.minLevel}</em>\n\t\t\t\t\t\t\t\t\t\t<p>{game.description.slice(0, 350)}</p>\n\t\t\t\t\t\t\t\t\t</GameCard>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t  ))\n\t\t\t\t\t\t: null}\n\t\t\t\t</MainSection>\n\t\t\t</MainsSectionWrapper>\n\t\t</div>\n\t)\n}\n\nexport default LastGames\n","import axios from 'axios'\n\nclass savedGamesService {\n\tconstructor() {\n\t\tthis.baseURL = `${process.env.REACT_APP_API}/savedGames/`\n\t\tthis.service = axios.create({ baseURL: this.baseURL, withCredentials: true })\n\t}\n\n\tgetUserSaves(userId, gameId) {\n\t\tconst query = gameId ? `/user/?userId=${userId}&gameId=${gameId}` : `/user/?userId=${userId}`\n\n\t\treturn this.service\n\t\t\t.get(query)\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tgetAllSaves(userId) {\n\t\tconst query = `/user/all/?userId=${userId}`\n\n\t\treturn this.service\n\t\t\t.get(query)\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tgetFullSave(saveId) {\n\t\treturn this.service\n\t\t\t.get(`/full/?saveId=${saveId}`)\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tcreateSavedGame({ gameId, currentChapter, character }) {\n\t\treturn this.service\n\t\t\t.post('', {\n\t\t\t\tgame: gameId,\n\t\t\t\tcurrentChapter,\n\t\t\t\tcharacter,\n\t\t\t})\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tassignSaveToUser(userId, saveId) {\n\t\treturn this.service\n\t\t\t.post('/assign', { userId, saveId })\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tupdateSavedGame({ savedGameId, gameId, currentChapter, character, finished }) {\n\t\treturn this.service.patch('', { savedGameId, game: gameId, currentChapter, character, finished }).then(res => res.data)\n\t}\n\n\tdeleteSave(savedGameId) {\n\t\treturn this.service\n\t\t\t.delete('', { savedGameId })\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => console.log(err))\n\t}\n}\n\nexport default savedGamesService\n","import React from 'react'\nimport { Spinner } from 'react-bootstrap'\n\nfunction CustomSpinner() {\n\treturn (\n\t\t<Spinner style={{ margin: '20% auto', display: 'block' }} animation='border' role='status'>\n\t\t\t<span className='sr-only'>Loading...</span>\n\t\t</Spinner>\n\t)\n}\n\nexport default CustomSpinner\n","import React, { useContext } from 'react'\nimport { Card } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport UserContext from '../../UserContext'\n\nfunction GameCard({ game }) {\n\tconst loggedInUser = useContext(UserContext)\n\n\treturn (\n\t\t<Card bg='dark' style={{ width: '18rem', margin: '10px 0' }}>\n\t\t\t<Card.Body>\n\t\t\t\t<Card.Title>{game.title}</Card.Title>\n\t\t\t\t{!game.simple && <Card.Subtitle className='mb-2 text-muted'>Nivel mínimo: {game.minLevel}</Card.Subtitle>}\n\t\t\t\t<Card.Text>{game.description}</Card.Text>\n\t\t\t\t<Card.Link as={Link} to={`/read/${game._id}`}>\n\t\t\t\t\tJugar\n\t\t\t\t</Card.Link>\n\t\t\t\t{loggedInUser._id === game.creator && (\n\t\t\t\t\t<Card.Link as={Link} to={`/modify/${game._id}`}>\n\t\t\t\t\t\tEditar\n\t\t\t\t\t</Card.Link>\n\t\t\t\t)}\n\t\t\t</Card.Body>\n\t\t</Card>\n\t)\n}\n\nexport default GameCard\n","import React, { useEffect, useContext, useState } from 'react'\nimport savedGamesService from '../../services/savedGames.service'\nimport UserContext from '../../UserContext'\nimport CustomSpinner from '../shared/Spinner'\nimport { Row, Col } from 'react-bootstrap'\nimport GameCard from '../Game/GameCard'\nconst SavedGamesService = new savedGamesService()\n\nfunction MyGames(props) {\n\tconst loggedInUser = useContext(UserContext)\n\tconst [savedGames, setSavedGames] = useState(null)\n\tconst [ready, setReady] = useState(false)\n\tuseEffect(() => {\n\t\tSavedGamesService.getAllSaves(loggedInUser._id).then(saves => {\n\t\t\tsetSavedGames(saves)\n\t\t\tsetReady(true)\n\t\t})\n\t}, [loggedInUser._id])\n\n\treturn (\n\t\t<Row>\n\t\t\t{ready ? (\n\t\t\t\tsavedGames?.map(savedGame => (\n\t\t\t\t\t<Col lg={3}>\n\t\t\t\t\t\t<GameCard game={savedGame.game} />\n\t\t\t\t\t</Col>\n\t\t\t\t)) || <p>Aún no tienes historias en juego.</p>\n\t\t\t) : (\n\t\t\t\t<CustomSpinner />\n\t\t\t)}\n\t\t</Row>\n\t)\n}\n\nexport default MyGames\n","import React, { useState } from 'react'\nimport { Form } from 'react-bootstrap'\nimport styled from 'styled-components'\nimport gamesService from '../../services/games.service'\nimport { withRouter } from 'react-router-dom'\nimport { Button } from '../shared/Buttons'\n\nconst FormWrapper = styled.div`\n\tmax-width: 800px;\n\tbackground-color: ${props => props.theme.background.lightOverlay};\n\tpadding: 60px;\n\tmargin: auto;\n\n\tinput {\n\t\tmargin-top: 5px;\n\t\tmargin-bottom: 20px;\n\t\tbackground-color: rgb(235, 235, 235);\n\t}\n`\n\nfunction NewGameForm(props) {\n\tconst { loggedInUser, history, simple } = props\n\tconst GamesService = new gamesService()\n\tconst [title, setTitle] = useState('')\n\tconst [minLevel, setMinLevel] = useState(1)\n\tconst [description, setDescription] = useState('')\n\n\tfunction submitForm(e) {\n\t\te.preventDefault()\n\t\tif (simple) {\n\t\t\tsetMinLevel(1)\n\t\t}\n\n\t\tGamesService.createGame({ creator: loggedInUser._id, title, minLevel, description, simple }).then(createdGame => {\n\t\t\thistory.push(`/modify/${createdGame._id}`)\n\t\t})\n\t}\n\n\tfunction onChange(e) {\n\t\tconst { name, value } = e.currentTarget\n\t\tswitch (name) {\n\t\t\tcase 'title':\n\t\t\t\tsetTitle(value)\n\t\t\t\tbreak\n\t\t\tcase 'description':\n\t\t\t\tsetDescription(value)\n\t\t\t\tbreak\n\t\t\tcase 'minLevel':\n\t\t\t\tsetMinLevel(value)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow Error('Algo ha ido mal con el formulario')\n\t\t}\n\t}\n\n\treturn (\n\t\t<FormWrapper>\n\t\t\t<h2>Crear un nuevo juego es muy sencillo tan solo necesitas...</h2>\n\t\t\t<Form onSubmit={submitForm}>\n\t\t\t\t<Form.Group controlId='title'>\n\t\t\t\t\t<Form.Label>Elegir un titulo:</Form.Label>\n\t\t\t\t\t<Form.Control name='title' onChange={onChange} value={title} type='text' placeholder='El titulo de tu historia!' />\n\t\t\t\t</Form.Group>\n\n\t\t\t\t{!simple && (\n\t\t\t\t\t<Form.Group controlId='minLevel'>\n\t\t\t\t\t\t<Form.Label>Un nivel mínimo para comenzar la aventura:</Form.Label>\n\t\t\t\t\t\t<p>{minLevel}</p>\n\t\t\t\t\t\t<Form.Control name='minLevel' onChange={onChange} value={minLevel} type='range' min='1' max='20' step='1' placeholder='Ej: 5' />\n\t\t\t\t\t\t<Form.Text className='text-muted'>\n\t\t\t\t\t\t\tLas aventuras básicas comienzan en nivel 1, de 8 a 14 ya son todo un reto, a partir de ahí los heroes pueden luchar contra los\n\t\t\t\t\t\t\tmismos dioses.\n\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t)}\n\n\t\t\t\t<Form.Group controlId='description'>\n\t\t\t\t\t<Form.Label>¡El resumen de tu aventura! Hazlo atractivo de forma que la gente quiera jugarla ;)</Form.Label>\n\t\t\t\t\t<Form.Control name='description' onChange={onChange} value={description} type='text' placeholder='Tu resumen' />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Button type='submit' text='Crear historia' />\n\t\t\t</Form>\n\t\t</FormWrapper>\n\t)\n}\n\nexport default withRouter(NewGameForm)\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst ImageFiltered = styled.img`\n  z-index: -9000;\n  opacity: 0.5;\n  filter: blur(1px);\n  filter: contrast(80%);\n`;\n\nexport const BackgroundImage = (props) => {\n  return <ImageFiltered {...props} />;\n};\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Row, Col } from 'react-bootstrap'\nimport { BackgroundImage } from '../shared/Images'\nimport EasyDice from './assets/d6book.svg'\nimport D20Dice from './assets/d20.svg'\n\nfunction ModeSelect(props) {\n\tconst { setMode } = props\n\tconst ModeWrapper = styled(Row)`\n\t\tmargin-top: 200px;\n\t`\n\tconst ModeBox = styled(Col)`\n\t\ttext-align: center;\n\t\tfont-size: 3rem;\n\t\ttransition: all 0.3s ease-in-out;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\t&:hover {\n\t\t\tcursor: pointer;\n\t\t\ttransform: scale(1.1);\n\t\t}\n\t`\n\n\tconst LeftBackgroundImage = styled(BackgroundImage)`\n\t\t/* position: absolute; */\n\t\tleft: 0px;\n\t\ttop: -40px;\n\t\tmax-height: 100px;\n\t\tmax-width: 100px;\n\t\ttransform: rotate(-15deg);\n\t`\n\n\tconst RightBackgroundImage = styled(BackgroundImage)`\n\t\t/* position: absolute; */\n\t\tright: 0px;\n\t\ttop: -40px;\n\t\tmax-height: 100px;\n\t\tmax-width: 100px;\n\t\ttransform: rotate(15deg);\n\t`\n\n\treturn (\n\t\t<ModeWrapper>\n\t\t\t<ModeBox onClick={() => setMode(true)}>\n\t\t\t\t<LeftBackgroundImage src={EasyDice} />\n\t\t\t\t<p>Historia simple</p>\n\t\t\t</ModeBox>\n\t\t\t<ModeBox onClick={() => setMode(false)}>\n\t\t\t\t<p>Aventura de Rol</p>\n\t\t\t\t<RightBackgroundImage src={D20Dice} />\n\t\t\t</ModeBox>\n\t\t</ModeWrapper>\n\t)\n}\n\nexport default ModeSelect\n","import React, { useState } from 'react'\nimport NewGameForm from '../Game/NewGameForm'\nimport ModeSelect from '../Game/ModeSelect'\nfunction NewGame({ loggedInUser, updateLastGames }) {\n\tconst [simple, setSimple] = useState(null)\n\tif (simple === null) {\n\t\treturn <ModeSelect setMode={setSimple} />\n\t} else {\n\t\treturn (\n\t\t\t<div styled={{ height: '100%', display: 'flex' }}>\n\t\t\t\t<NewGameForm simple={simple} updateLastGames={updateLastGames} loggedInUser={loggedInUser}></NewGameForm>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default NewGame\n","import axios from \"axios\";\n\nclass choicesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/choices/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getChoicesFromChapter(id) {\n    return this.service\n      .get(`/?chapterId=${id}`)\n      .then((res) => res.data.choicesFound)\n      .catch((err) => console.log(err));\n  }\n\n  createChoice({ description, trial, successTargetChapter, failureTargetChapter, pxGranted }) {\n    return this.service\n      .post(\"\", { description, trial, successTargetChapter, failureTargetChapter, pxGranted })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  updateChoice(choice) {\n    return this.service\n      .patch(\"/\", choice)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  deleteChoice(choiceId) {\n    return this.service\n      .delete(\"\", { choiceId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default choicesService;\n","import axios from \"axios\";\n\nclass gamesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/chapters/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getChapter(id) {\n    return this.service\n      .get(`/?chapterId=${id}`)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getChaptersFromGame(id) {\n    return this.service\n      .get(`/fromGame/?gameId=${id}`)\n      .then((res) => res.data.chapters)\n      .catch((err) => console.log(err));\n  }\n\n  createChapter({ description, choices, gameId, title, last }) {\n    return this.service\n      .post(\"\", { description, choices, gameId, title, last })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  updateChapter(chapter) {\n    return this.service\n      .patch(\"/\", chapter)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default gamesService;\n","import React, { useState, useEffect } from 'react'\nimport { Card, Form, Button } from 'react-bootstrap'\nimport choicesService from '../../services/choices.service'\nimport chapterService from '../../services/chapter.service'\nimport { withRouter } from 'react-router-dom'\nconst ChapterService = new chapterService()\nconst ChoicesService = new choicesService()\n\nfunction ChoiceForm(props) {\n\tconst { finishChoiceForm, idx, choice, toogleCard, closeChoiceForm, match, simple } = props\n\tconst [choiceObj, setChoiceObj] = useState(\n\t\tchoice\n\t\t\t? choice\n\t\t\t: {\n\t\t\t\t\tdescription: '',\n\t\t\t\t\ttrial: { difficulty: simple ? -10 : 10, characteristic: 'str' },\n\t\t\t\t\tpxGranted: 0,\n\t\t\t\t\tsuccessTargetChapter: null,\n\t\t\t\t\tfailureTargetChapter: null,\n\t\t\t  }\n\t)\n\tconst [successTargetChapter, setSuccessTargetChapter] = useState(choice ? choice.successTargetChapter : null)\n\tconst [failureTargetChapter, setFailureTargetChapter] = useState(choice ? choice.failureTargetChapter : null)\n\tconst [chapterList, setChapterList] = useState([])\n\n\tuseEffect(() => {\n\t\tChapterService.getChaptersFromGame(match.params.gameId).then(chapterList => {\n\t\t\tsetChapterList(chapterList)\n\t\t})\n\t}, [match.params.gameId])\n\n\tfunction createChoice(choice) {\n\t\tChoicesService.createChoice(choice).then(createdChoice => {\n\t\t\tfinishChoiceForm(createdChoice._id, idx, createdChoice)\n\t\t})\n\t}\n\n\tfunction updateChoice(choice) {\n\t\tChoicesService.updateChoice(choice).then(updatedChoice => {\n\t\t\ttoogleCard(idx)\n\t\t})\n\t}\n\tfunction submitForm(e) {\n\t\te.preventDefault()\n\t\tif (choice) updateChoice(choiceObj)\n\t\telse createChoice(choiceObj)\n\t}\n\n\tfunction onChange(e) {\n\t\tconst { name, value } = e.currentTarget\n\t\tif (name === 'difficulty' || name === 'characteristic') {\n\t\t\tsetChoiceObj({ ...choiceObj, trial: { ...choiceObj.trial, [name]: value } })\n\t\t} else {\n\t\t\tsetChoiceObj({ ...choiceObj, [name]: value })\n\t\t}\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<Form onSubmit={submitForm} className='choiceForm'>\n\t\t\t\t<Card.Header style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tcloseChoiceForm ? closeChoiceForm(idx) : toogleCard(idx)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{ width: '40px' }}\n\t\t\t\t\t\tvariant='danger'\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className='fas fa-times'></i>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button type='submit' style={{ width: '40px' }} variant='success'>\n\t\t\t\t\t\t<i className='fas fa-check'></i>\n\t\t\t\t\t</Button>\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<Form.Group controlId='choice'>\n\t\t\t\t\t\t<Form.Label>Describe la elección:</Form.Label>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas='textarea'\n\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tvalue={choiceObj.description}\n\t\t\t\t\t\t\tplaceholder='Fuerzo la puerta'\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{!simple && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Form.Label>¿Que dificultad tiene?</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control type='number' name='difficulty' onChange={onChange} value={choiceObj.difficulty} />\n\t\t\t\t\t\t\t\t{choice ? null : (\n\t\t\t\t\t\t\t\t\t<Form.Text>\n\t\t\t\t\t\t\t\t\t\tDificultades de 10 son adecuadas para una persona media, 15 son para expertos y 20 para verdaderos prodígios.\n\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Form.Label>¿Qué caracteristica es necesaria para superarla?</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control onChange={onChange} name='characteristic' as='select' custom>\n\t\t\t\t\t\t\t\t\t<option value='str'>Fuerza</option>\n\t\t\t\t\t\t\t\t\t<option value='des'>Destreza</option>\n\t\t\t\t\t\t\t\t\t<option value='agi'>Agilidad, velocidad</option>\n\t\t\t\t\t\t\t\t\t<option value='con'>Constitución física</option>\n\t\t\t\t\t\t\t\t\t<option value='int'>Inteligencia</option>\n\t\t\t\t\t\t\t\t\t<option value='wis'>Sabiduría</option>\n\t\t\t\t\t\t\t\t\t<option value='char'>Carisma</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t{!simple && (\n\t\t\t\t\t\t<Form.Group controlId='choice'>\n\t\t\t\t\t\t\t<Form.Label>Cuanta experiencia da el éxito:</Form.Label>\n\t\t\t\t\t\t\t<Form.Control name='pxGranted' onChange={onChange} value={choiceObj.pxGranted} placeholder='100' type='number' />\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t)}\n\t\t\t\t\t<Form.Group controlId='successTargetChapter'>\n\t\t\t\t\t\t<Form.Label>{!simple ? 'Cap de destino con exito:' : 'Cap de destino'}</Form.Label>\n\t\t\t\t\t\t<Form.Control as='select' custom name='successTargetChapter' onChange={onChange}>\n\t\t\t\t\t\t\t<option value='null'>Ninguno</option>\n\t\t\t\t\t\t\t{chapterList.map(chapter =>\n\t\t\t\t\t\t\t\tchapter._id === successTargetChapter ? (\n\t\t\t\t\t\t\t\t\t<option dangerouslySetInnerHTML={{ __html: chapter.title }} selected value={chapter._id}></option>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<option dangerouslySetInnerHTML={{ __html: chapter.title }} value={chapter._id}></option>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t{!simple && (\n\t\t\t\t\t\t<Form.Group controlId='failureTargetChapter'>\n\t\t\t\t\t\t\t<Form.Label>Cap de destino con fracaso:</Form.Label>\n\t\t\t\t\t\t\t<Form.Control as='select' name='failureTargetChapter' custom onChange={onChange}>\n\t\t\t\t\t\t\t\t<option value='null'>Ninguno</option>\n\t\t\t\t\t\t\t\t{chapterList.map(chapter =>\n\t\t\t\t\t\t\t\t\tchapter._id === failureTargetChapter ? (\n\t\t\t\t\t\t\t\t\t\t<option dangerouslySetInnerHTML={{ __html: chapter.title }} selected value={chapter._id}></option>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<option dangerouslySetInnerHTML={{ __html: chapter.title }} value={chapter._id}></option>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t)}\n\t\t\t\t</Card.Body>\n\t\t\t</Form>\n\t\t</Card>\n\t)\n}\n\nexport default withRouter(ChoiceForm)\n","import React from 'react'\nimport { Card } from 'react-bootstrap'\nimport arrow from '../shared/arrow.png'\nconst charsDict = {\n\tstr: 'Fuerza',\n\tdes: 'Destreza',\n\tagi: 'Agilidad, velocidad',\n\tcon: 'Constitución',\n\twis: 'Sabiduría',\n\tint: 'Inteligencia',\n\tchar: 'Carisma',\n}\n\nfunction ChoiceCard({ choice, idx, toogleCard, simple }) {\n\treturn (\n\t\t<Card>\n\t\t\t<Card.Header onClick={() => toogleCard(idx)}>Editar</Card.Header>\n\t\t\t<image src={arrow}></image>\n\t\t\t<Card.Body\n\t\t\t\tstyle={{\n\t\t\t\t\tcolor: 'black',\n\t\t\t\t\tbackgroundColor: choice.successTargetChapter && choice.failureTargetChapter ? 'rgba(0,255,127, 0.3)' : 'rgba(255,165,0, 0.5)',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<p>{choice.description}</p>\n\t\t\t\t{!simple && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p>{charsDict[choice.trial.characteristic]}</p>\n\t\t\t\t\t\t<p>{choice.trial.difficulty}</p>\n\t\t\t\t\t\t<p>{choice.pxGranted}</p>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</Card.Body>\n\t\t</Card>\n\t)\n}\n\nexport default ChoiceCard\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { Row, Col } from 'react-bootstrap'\nimport { Button } from '../shared/Buttons'\nimport ChoiceForm from '../Choice/ChoiceForm'\nimport ChoiceCard from '../Choice/ChoiceCard'\nimport chapterService from '../../services/chapter.service'\nimport { withRouter } from 'react-router-dom'\nimport CKEditor from '@ckeditor/ckeditor5-react'\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic'\nimport CenteredModal from '../shared/Modal'\nimport styled, { keyframes } from 'styled-components'\nconst ChapterService = new chapterService()\n\n//#region styles\n\nconst ChapterFormWrapper = styled.div`\n\tbackground-color: ${({ theme }) => theme.background.lightOverlay};\n\n\n\tinput[name='title'] {\n\t\twidth: 600px;\n\t}\n\n\tinput[type='checkbox'] {\n\t\tmargin: 0 10px;\n\t}\n\n\t.ck.ck-reset_all,\n\t.ck.ck-reset_all * {\n\t\tbackground-color: rgb(235, 235, 235);\n\t}\n\n\t.ck.ck-editor__main > .ck-editor__editable {\n\t\tbackground-color: rgb(235, 235, 235);\n\t\tcolor: black;\n\t}\n`\n\nconst EditorWrapper = styled.div``\n//#endregion styles\n\nfunction NewChapterForm(props) {\n\tconst { updateLastGames, match, chapter, getAllChapters, closeNewChapterForm, simple } = props\n\tlet gameId = match.params.gameId\n\n\tconst [description, setDescription] = useState(chapter?.description || '')\n\tconst [choices, setChoices] = useState(chapter?.choices || [])\n\tconst [choicesObj, setChoicesObj] = useState([])\n\tconst [choiceForms, setChoiceForms] = useState([])\n\tconst [title, setTitle] = useState(chapter?.title || '')\n\tconst [last, setLast] = useState(!!chapter?.last)\n\tconst [ready, setReady] = useState(!!chapter)\n\n\tconst populateThisChapter = chapter => {\n\t\tsetTitle(chapter.title)\n\t\tsetDescription(chapter.description)\n\t\tsetChoicesObj(chapter.choices)\n\t\tsetChoices(chapter.choices.filter(choice => choice._id))\n\t\tsetLast(chapter.last)\n\t}\n\n\t//#region Form Manipulation\n\n\tfunction retrieveChoicesIds(id) {\n\t\tconst choicesCopy = [...choices]\n\t\tchoicesCopy.push(id)\n\t\tsetChoices(choicesCopy)\n\t}\n\n\tfunction createChoiceCard(choiceObj) {\n\t\tconst choicesObjCopy = [...choicesObj]\n\t\tchoicesObjCopy.push(choiceObj)\n\t\tsetChoicesObj(choicesObjCopy)\n\t}\n\n\tfunction finishChoiceForm(id, idx, choiceObj) {\n\t\tretrieveChoicesIds(id, idx)\n\t\tcreateChoiceCard(choiceObj)\n\t\tcloseChoiceForm(idx)\n\t}\n\n\tfunction closeChoiceForm(idx) {\n\t\tconst choiceFormsCopy = [...choiceForms]\n\t\tchoiceFormsCopy.splice(idx, 1)\n\t\tsetChoiceForms(choiceFormsCopy)\n\t}\n\n\tfunction submitForm(e) {\n\t\te.preventDefault()\n\t\tif (!description) return\n\t\tif (chapter) {\n\t\t\tupdateChapter({ _id: chapter._id, description, choices, title, last })\n\t\t} else {\n\t\t\tcreateChapter({ description, choices, gameId, title, last })\n\t\t}\n\t\tcloseNewChapterForm()\n\t}\n\n\tfunction addChoice() {\n\t\tconst choiceFormsCopy = [...choiceForms]\n\t\tchoiceFormsCopy.push(true)\n\t\tsetChoiceForms(choiceFormsCopy)\n\t}\n\n\tfunction toogleCard(idx) {\n\t\tconst choicesObjCopy = [...choicesObj]\n\t\tconst choiceCopy = { ...choicesObjCopy[idx] }\n\t\tchoiceCopy.show = !choicesObj[idx].show\n\t\tchoicesObjCopy.splice(idx, 1, choiceCopy)\n\t\tsetChoicesObj(choicesObjCopy)\n\t}\n\n\tfunction onChange(e) {\n\t\tconst { name, value, checked } = e.currentTarget\n\t\tswitch (name) {\n\t\t\tcase 'title':\n\t\t\t\tsetTitle(value)\n\t\t\t\tbreak\n\t\t\tcase 'last':\n\t\t\t\tconsole.log(checked)\n\t\t\t\tsetLast(checked)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow Error('Error onChange')\n\t\t}\n\t}\n\n\t//#endregion Form Manipulation\n\n\tfunction createChapter(chapter) {\n\t\tChapterService.createChapter(chapter)\n\t\t\t.then(createdChapter => {\n\t\t\t\tgetAllChapters()\n\t\t\t\tupdateLastGames()\n\t\t\t\tpopulateThisChapter(createdChapter)\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tfunction updateChapter(chapter) {\n\t\tChapterService.updateChapter(chapter)\n\t\t\t.then(updatedChapter => {\n\t\t\t\tupdateLastGames()\n\t\t\t\tpopulateThisChapter(updatedChapter)\n\t\t\t\tgetAllChapters()\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\treturn (\n\t\t<ChapterFormWrapper ready={ready}>\n\t\t\t{\n\t\t\t\t<>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input onChange={onChange} placeholder='Capítulo #1.0 El comienzo' name='title' value={title} maxLength='230'></input>\n\t\t\t\t\t</label>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<small>Si es el último capítulo de la aventura, marca esta casilla:</small>\n\t\t\t\t\t\t\t<input onChange={onChange} name='last' checked={last} type='checkbox' />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='.ck-editor'>\n\t\t\t\t\t\t<EditorWrapper>\n\t\t\t\t\t\t\t<CKEditor\n\t\t\t\t\t\t\t\teditor={ClassicEditor}\n\t\t\t\t\t\t\t\tdata={description}\n\t\t\t\t\t\t\t\tplaceholder='El texto del capitulo va aquí'\n\t\t\t\t\t\t\t\tonInit={editor => {\n\t\t\t\t\t\t\t\t\t// You can store the \"editor\" and use when it is needed.\n\t\t\t\t\t\t\t\t\tconsole.log('Editor is ready to use!', editor)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={(event, editor) => {\n\t\t\t\t\t\t\t\t\tconst data = editor.getData()\n\t\t\t\t\t\t\t\t\tsetDescription(data)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonBlur={(event, editor) => {\n\t\t\t\t\t\t\t\t\t// console.log('Blur.', editor)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFocus={(event, editor) => {\n\t\t\t\t\t\t\t\t\t// console.log('Focus.', editor)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</EditorWrapper>\n\t\t\t\t\t\t<div style={{ margin: '10px 0' }}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t{choicesObj.map((eachChoice, idx) => (\n\t\t\t\t\t\t\t\t\t<Col key={idx} lg={3}>\n\t\t\t\t\t\t\t\t\t\t{!eachChoice.show ? (\n\t\t\t\t\t\t\t\t\t\t\t<ChoiceCard toogleCard={toogleCard} choice={eachChoice} idx={idx} simple={simple} />\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<CenteredModal noHeader show={true}>\n\t\t\t\t\t\t\t\t\t\t\t\t<ChoiceForm simple={simple} toogleCard={toogleCard} choice={eachChoice} idx={idx} />\n\t\t\t\t\t\t\t\t\t\t\t</CenteredModal>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<div style={{ margin: '10px 0' }}>\n\t\t\t\t\t\t\t\t<Button text='Añadir elección' style={{ margin: '0 5px' }} onClick={addChoice} />\n\t\t\t\t\t\t\t\t<Button text={chapter ? 'Guardar cambios' : 'Crear capítulo'} style={{ margin: '0 5px' }} onClick={submitForm} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{choiceForms.map((eachform, idx) => (\n\t\t\t\t\t\t\t<div key={idx}>\n\t\t\t\t\t\t\t\t{React.cloneElement(\n\t\t\t\t\t\t\t\t\t<CenteredModal noHeader show={true}>\n\t\t\t\t\t\t\t\t\t\t<ChoiceForm />\n\t\t\t\t\t\t\t\t\t</CenteredModal>,\n\t\t\t\t\t\t\t\t\t{ idx, finishChoiceForm, closeChoiceForm, simple, toogleCard }\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t}\n\t\t</ChapterFormWrapper>\n\t)\n}\n\nexport default withRouter(NewChapterForm)\n","import React, { useState, useEffect } from 'react'\nimport CustomSpinner from '../shared/Spinner'\nimport gameService from '../../services/games.service'\nimport NewChapterForm from '../Chapter/NewChapterForm'\nimport chapterService from '../../services/chapter.service'\nimport styled, { createGlobalStyle } from 'styled-components'\nimport { Button } from '../shared/Buttons'\nimport arrowIcon from '../shared/arrow.png'\nconst ChapterService = new chapterService()\nconst GameService = new gameService()\n\nconst List = styled.div`\n\tbackground-color: ${props => props.theme.background.modals};\n\tborder-radius: 2px;\n\ttransition: all 2s;\n\tmargin-bottom: 16px;\n`\n\nconst ListPoint = styled.div`\n\tborder-radius: 3px;\n\tbackground-color: ${props => props.theme.background.list};\n\tpadding: ${({ active }) => (active ? '15px 15px 0 15px' : '15px')};\n\n\ttransition: all 2s;\n`\n\nconst PointHeader = styled.div`\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tmargin: 8px 0;\n\t.arrow {\n\t\t/* transition: rotation 0.3s ease-in-out; */\n\t\tmargin: 0 10px;\n\t\twidth: 35px;\n\t\ttransition: all 0.6s;\n\t\ttransform: ${props => (props.active ? 'rotate(180deg)' : 'rotate(0)')};\n\t}\n\n\tp {\n\t\tmargin: 0;\n\t}\n`\n\nconst PointBody = styled.div`\n\tpadding: 0px 16px;\n`\n\nconst isOwner = (creatorId, userId) => creatorId === userId\n\nconst getAllChapters = id => ChapterService.getChaptersFromGame(id).then(allChapters => allChapters)\n\nfunction EditGame({ loggedInUser, match, history }) {\n\tconst [allChapters, setallChapters] = useState(null)\n\tconst [showNewForm, setShowNewForm] = useState(false)\n\tconst [simple, setSimple] = useState(null)\n\tconst [ready, setReady] = useState(true)\n\n\tfunction expandChapter(idx) {\n\t\tconst allChaptersCopy = [...allChapters]\n\t\tconst chapterCopy = { ...allChaptersCopy[idx] }\n\t\tchapterCopy.show = !allChapters[idx].show\n\t\tallChaptersCopy.splice(idx, 1, chapterCopy)\n\t\tsetallChapters(allChaptersCopy)\n\t}\n\n\tuseEffect(() => {\n\t\tGameService.getOneGame(match.params.gameId).then(game => {\n\t\t\t!isOwner(game.creator, loggedInUser._id) && history.replace(`/read/${match.params.gameId}`)\n\t\t\tsetSimple(game.simple)\n\t\t})\n\t}, [match.params.gameId])\n\n\tuseEffect(() => {\n\t\tgetAllChapters(match.params.gameId).then(chapters => {\n\t\t\tconsole.log('pues me lanzo')\n\t\t\tsetallChapters(chapters)\n\t\t\tsetReady(!ready)\n\t\t})\n\t}, [match.params.gameId])\n\n\treturn (\n\t\t<>\n\t\t\t{!ready ? (\n\t\t\t\t<>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{allChapters?.map((chapter, idx) => (\n\t\t\t\t\t\t\t<ListPoint key={idx}>\n\t\t\t\t\t\t\t\t<PointHeader active={chapter.show} onClick={() => expandChapter(idx)}>\n\t\t\t\t\t\t\t\t\t<img className='arrow' src={arrowIcon}></img>\n\t\t\t\t\t\t\t\t\t<p>Capítulo {idx + 1}:</p>\n\t\t\t\t\t\t\t\t</PointHeader>\n\t\t\t\t\t\t\t\t<PointBody>\n\t\t\t\t\t\t\t\t\t{chapter.show && (\n\t\t\t\t\t\t\t\t\t\t<NewChapterForm\n\t\t\t\t\t\t\t\t\t\t\tsimple={simple}\n\t\t\t\t\t\t\t\t\t\t\tchapter={chapter}\n\t\t\t\t\t\t\t\t\t\t\tgetAllChapters={getAllChapters}\n\t\t\t\t\t\t\t\t\t\t\tloggedInUser={loggedInUser}\n\t\t\t\t\t\t\t\t\t\t\tsetallChapters={setallChapters}\n\t\t\t\t\t\t\t\t\t\t></NewChapterForm>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</PointBody>\n\t\t\t\t\t\t\t</ListPoint>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div style={{ margin: '10px 0' }}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={() => setShowNewForm(!showNewForm)}\n\t\t\t\t\t\t\t\ttext={allChapters ? 'Escribe un nuevo capitulo' : 'Escribe el primer capítulo'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{showNewForm && (\n\t\t\t\t\t\t\t<NewChapterForm\n\t\t\t\t\t\t\t\tsimple={simple}\n\t\t\t\t\t\t\t\tfirst={!!!allChapters}\n\t\t\t\t\t\t\t\tcloseNewChapterForm={() => setShowNewForm(false)}\n\t\t\t\t\t\t\t\tgetAllChapters={getAllChapters}\n\t\t\t\t\t\t\t\tloggedInUser={loggedInUser}\n\t\t\t\t\t\t\t\tsetallChapters={setallChapters}\n\t\t\t\t\t\t\t></NewChapterForm>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<CustomSpinner />\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default EditGame\n","import axios from \"axios\";\n\nclass characterService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/characters/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getCharactersFromUser(userId) {\n    return this.service\n      .get(`/?userId=${userId}`)\n      .then((res) => res.data.characters)\n      .catch((err) => console.log(err));\n  }\n\n  createCharacter(character) {\n    return this.service\n      .post(\"\", { character })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  assignCharacterToUser(userId, characterId) {\n    return this.service\n      .post(\"assign\", { userId, characterId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default characterService;\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport characterService from \"../../services/character.service\";\n\nfunction CharacterForm({ setCharacter, hideForm, setUser, loggedInUser }) {\n  const CharacterService = new characterService();\n  const [name, setName] = useState(\"\");\n  const [hp] = useState(100);\n  const [str, setStr] = useState(8);\n  const [des, setDes] = useState(8);\n  const [agi, setAgi] = useState(8);\n  const [con, setCon] = useState(8);\n  const [int, setInt] = useState(8);\n  const [wis, setWis] = useState(8);\n  const [char, setChar] = useState(8);\n  const [totalPoints, setTotalPoints] = useState(27);\n\n  function closeForm() {\n    setName(\"\");\n    hideForm();\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    const newCharacter = {\n      name,\n      hp,\n      str,\n      des,\n      agi,\n      con,\n      int,\n      wis,\n      char,\n    };\n\n    CharacterService.createCharacter(newCharacter).then((createdCharacter) => {\n      CharacterService.assignCharacterToUser(loggedInUser._id, createdCharacter._id).then((updatedUser) => {\n        setUser(updatedUser);\n      });\n      closeForm();\n    });\n  }\n\n  function onChange(e) {\n    const { name, value } = e.currentTarget;\n    let newTotal = totalPoints;\n    \n    if (name !== \"name\") {\n      newTotal = calculatePoints(name, value);\n    }\n    \n    if (newTotal >= 0) {\n      switch (name) {\n        case \"name\":\n          setName(value);\n          break;\n        case \"str\":\n          setStr(value);\n          break;\n        case \"des\":\n          setDes(value);\n          break;\n        case \"agi\":\n          setAgi(value);\n          break;\n        case \"con\":\n          setCon(value);\n          break;\n        case \"int\":\n          setInt(value);\n          break;\n        case \"wis\":\n          setWis(value);\n          break;\n        case \"char\":\n          setChar(value);\n          break;\n        default:\n          throw Error(\"Algo fue mal con el formulario\");\n      }\n      setTotalPoints(newTotal);\n    }\n  }\n\n  function calculatePoints(name, value) {\n    let total = 27;\n    const obj = { str, des, agi, con, int, wis, char };\n    obj[name] = value;\n    for (let key in obj) {\n      total = total - (obj[key] - 8);\n    }\n\n    return total;\n  }\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Form.Group controlId=\"name\">\n        <Form.Label>Nombre del personaje</Form.Label>\n        <Form.Control onChange={onChange} value={name} name=\"name\" type=\"text\" placeholder=\"Aragor, hijo de Arathorn\" />\n      </Form.Group>\n      {!totalPoints && (\n        <p>\n          <em>Has superado el máximo de puntos a repartir</em>\n        </p>\n      )}\n      <Form.Group controlId=\"str\">\n        <Form.Label>Fuerza</Form.Label>\n        <Form.Control onChange={onChange} value={str} name=\"str\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(str / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"des\">\n        <Form.Label>Destreza</Form.Label>\n        <Form.Control onChange={onChange} value={des} name=\"des\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(des / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"agi\">\n        <Form.Label>Agilidad, velocidad</Form.Label>\n        <Form.Control onChange={onChange} value={agi} name=\"agi\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(agi / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"con\">\n        <Form.Label>Constitución física, fortaleza</Form.Label>\n        <Form.Control onChange={onChange} value={con} name=\"con\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(con / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"int\">\n        <Form.Label>Inteligencia</Form.Label>\n        <Form.Control onChange={onChange} value={int} name=\"int\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(int / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"wis\">\n        <Form.Label>Sabiduría, astucia</Form.Label>\n        <Form.Control onChange={onChange} value={wis} name=\"wis\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(wis / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"char\">\n        <Form.Label>Carisma</Form.Label>\n        <Form.Control onChange={onChange} value={char} name=\"char\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(char / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\">\n        Crear\n      </Button>\n    </Form>\n  );\n}\n\nexport default CharacterForm;\n","import React from 'react'\nimport { Button } from '../shared/Buttons'\nimport styled from 'styled-components'\n\nfunction CharacterList({ characters, onClick }) {\n\tconst CustomLi = styled.li`\n\t\tmargin: 15px 0;\n\t`\n\n\treturn characters.length ? (\n\t\t<ul>\n\t\t\t{characters.map(char => {\n\t\t\t\treturn !char.name.includes('Simple Game') ? (\n\t\t\t\t\t<CustomLi>\n\t\t\t\t\t\t<Button text={`${char.name}. Nivel: ${char.level}`} onClick={onClick ? () => onClick(char._id) : null} />\n\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\tFue: {char.str} Des: {char.des} Agi: {char.agi} Int: {char.int} Sab: {char.wis} Car: {char.char}\n\t\t\t\t\t\t</small>\n\t\t\t\t\t</CustomLi>\n\t\t\t\t) : null\n\t\t\t})}\n\t\t</ul>\n\t) : (\n\t\t<div>\n\t\t\t<p>Aún no tienes personajes creados.</p>\n\t\t</div>\n\t)\n}\n\nexport default CharacterList\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport CharacterForm from \"../Character/CharacterForm\";\nimport CharacterList from \"../Character/CharacterList\";\nimport savedGamesService from \"../../services/savedGames.service\";\nimport chapterService from \"../../services/chapter.service\";\n\nfunction NewSaveGame({ loggedInUser, setUser, match, updateSavedGames, history }) {\n  const ChapterService = new chapterService();\n  const SavedGamesService = new savedGamesService();\n  const [, setCharacter] = useState(null);\n  const [showForm, setShowForm] = useState(false);\n\n  function toogleForm() {\n    setShowForm(!showForm);\n  }\n\n  function newSave(chosenCharacter) {\n    ChapterService.getChaptersFromGame(match.params.gameId)\n      .then((chapters) => {\n        return SavedGamesService.createSavedGame({\n          gameId: match.params.gameId,\n          currentChapter: chapters[0]._id,\n          character: chosenCharacter,\n        });\n      })\n      .then((savedGame) => {\n        updateSavedGames(savedGame);\n        history.push(`/chapter/${savedGame._id}`);\n        return SavedGamesService.assignSaveToUser(loggedInUser._id, savedGame._id);\n      })\n      .then((updatedUser) => {\n        setUser(updatedUser);\n      });\n  }\n  console.log(loggedInUser.characters.length);\n  return (\n    <>\n      <h3>Elige un personaje para jugar: </h3>\n      {loggedInUser.characters.length > 0 && <CharacterList onClick={newSave} characters={loggedInUser.characters} />}\n      <button onClick={toogleForm}>También puedes crear un nuevo personaje</button>\n      {showForm && <CharacterForm hideForm={toogleForm} setUser={setUser} loggedInUser={loggedInUser} setCharacter={setCharacter} />}\n    </>\n  );\n}\n\nexport default withRouter(NewSaveGame);\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Dropdown } from 'react-bootstrap'\nimport { Button } from '../shared/Buttons'\n\nfunction StartPlayingButton(props) {\n\tconst { game, savedGames, loggedInUser } = props\n\treturn !game ? (\n\t\t<p>Loading game</p>\n\t) : props.noUser ? (\n\t\t<section>\n\t\t\t<article>\n\t\t\t\t<h1>{game.title}</h1>\n\t\t\t\t<p>{game.description}</p>\n\t\t\t\tPara jugar, registrate.\n\t\t\t</article>\n\t\t</section>\n\t) : (\n\t\t<section>\n\t\t\t<article>\n\t\t\t\t<h1>{game.title}</h1>\n\t\t\t\t<p>{game.description}</p>\n\t\t\t\t{loggedInUser ? (\n\t\t\t\t\tsavedGames.length === 0 ? (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p>Haz click en un personaje para empezar a jugar</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Dropdown>\n\t\t\t\t\t\t\t\t<Dropdown.Toggle variant='success' id='dropdown-basic'>\n\t\t\t\t\t\t\t\t\t<Button text='Continua la aventura' />\n\t\t\t\t\t\t\t\t</Dropdown.Toggle>\n\n\t\t\t\t\t\t\t\t<Dropdown.Menu>\n\t\t\t\t\t\t\t\t\t{savedGames.map(save => {\n\t\t\t\t\t\t\t\t\t\treturn !save.finished ? (\n\t\t\t\t\t\t\t\t\t\t\t<Link to={`/chapter/${save._id}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item disabled>{save.character.name}</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t\t<Dropdown>\n\t\t\t\t\t\t\t\t<Dropdown.Toggle variant='success' id='dropdown-basic'>\n\t\t\t\t\t\t\t\t\t<Button text='Partidas terminadas' />\n\t\t\t\t\t\t\t\t</Dropdown.Toggle>\n\n\t\t\t\t\t\t\t\t<Dropdown.Menu>\n\t\t\t\t\t\t\t\t\t{savedGames.map(save => {\n\t\t\t\t\t\t\t\t\t\treturn save.finished ? (\n\t\t\t\t\t\t\t\t\t\t\t<Link to={`/finished/${save._id}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item disabled>{save.character.name}</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t) : (\n\t\t\t\t\t<Button disabled={true}>Continuar la aventura</Button>\n\t\t\t\t)}\n\t\t\t</article>\n\t\t</section>\n\t)\n}\n\nexport default StartPlayingButton\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Dropdown } from 'react-bootstrap'\nimport { Button } from '../shared/Buttons'\nimport savedGamesService from '../../services/savedGames.service'\nimport chapterService from '../../services/chapter.service'\nimport characterService from '../../services/character.service'\nimport { withRouter } from 'react-router-dom'\nconst CharacterService = new characterService()\nconst SavedGamesService = new savedGamesService()\nconst ChapterService = new chapterService()\n\nfunction SimpleStartPlaying(props) {\n\tconst { game, savedGames, loggedInUser, setUser, updateSavedGames, history, match } = props\n\n\tfunction createCharAndSave() {\n\t\tconst name = `Simple Game ${savedGames.length + 1}`\n\n\t\tCharacterService.createCharacter({\n\t\t\tname,\n\t\t\thp: 1000,\n\t\t\tstr: 100,\n\t\t\tdes: 100,\n\t\t\tagi: 100,\n\t\t\tcon: 100,\n\t\t\tint: 100,\n\t\t\twis: 100,\n\t\t\tchar: 100,\n\t\t}).then(char => {\n\t\t\treturn CharacterService.assignCharacterToUser(loggedInUser._id, char._id).then(_ => newSave(char._id))\n\t\t})\n\t}\n\tfunction newSave(chosenCharacter) {\n\t\tChapterService.getChaptersFromGame(match.params.gameId)\n\t\t\t.then(chapters => {\n\t\t\t\treturn SavedGamesService.createSavedGame({\n\t\t\t\t\tgameId: match.params.gameId,\n\t\t\t\t\tcurrentChapter: chapters[0]._id,\n\t\t\t\t\tcharacter: chosenCharacter,\n\t\t\t\t})\n\t\t\t})\n\t\t\t.then(savedGame => {\n\t\t\t\tupdateSavedGames(savedGame)\n\t\t\t\thistory.push(`/chapter/${savedGame._id}`)\n\t\t\t\treturn SavedGamesService.assignSaveToUser(loggedInUser._id, savedGame._id)\n\t\t\t})\n\t\t\t.then(updatedUser => {\n\t\t\t\tsetUser(updatedUser)\n\t\t\t})\n\t}\n\tfunction startGame() {\n\t\tcreateCharAndSave()\n\t}\n\n\treturn !game && (!loggedInUser || props.noUser) ? (\n\t\t<p>Loading game</p>\n\t) : props.noUser ? (\n\t\t<section>\n\t\t\t<article>\n\t\t\t\t<h1>{game.title}</h1>\n\t\t\t\t<p>{game.description}</p>\n\t\t\t\tPara jugar, registrate.\n\t\t\t</article>\n\t\t\tcreateAndAssignCharacter\n\t\t</section>\n\t) : (\n\t\t<section>\n\t\t\t<article>\n\t\t\t\t<h1>{game.title}</h1>\n\t\t\t\t<p>{game.description}</p>\n\n\t\t\t\t{loggedInUser ? (\n\t\t\t\t\tgame.chapters.length === 0 ? (\n\t\t\t\t\t\t<Button text='Aún no tiene ningún capitulo' disabled={true} onClick={startGame} />\n\t\t\t\t\t) : savedGames.length === 0 ? (\n\t\t\t\t\t\t<Button text='Comienza la partida' onClick={startGame} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Dropdown>\n\t\t\t\t\t\t\t\t<Dropdown.Toggle variant='transparent' id='dropdown-basic'>\n\t\t\t\t\t\t\t\t\t<Button text='Continua la aventura' />\n\t\t\t\t\t\t\t\t</Dropdown.Toggle>\n\n\t\t\t\t\t\t\t\t<Dropdown.Menu style={{ backgroundColor: 'rgba(40,40,40)' }} variant='transparent'>\n\t\t\t\t\t\t\t\t\t{savedGames.map(save => (\n\t\t\t\t\t\t\t\t\t\t<Link to={`/chapter/${save._id}`}>\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item as={'div'}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button text={save.character.name} />\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t<Dropdown.Divider />\n\t\t\t\t\t\t\t\t\t<Dropdown.Item as={'div'}>\n\t\t\t\t\t\t\t\t\t\t<Button text={'Comienza una nueva aventura'} onClick={startGame}></Button>\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t) : (\n\t\t\t\t\t<Button text='Continuar la aventura' disabled={true}></Button>\n\t\t\t\t)}\n\t\t\t</article>\n\t\t</section>\n\t)\n}\n\nexport default withRouter(SimpleStartPlaying)\n","import React, { useContext } from \"react\";\n\nimport { withRouter } from \"react-router-dom\";\nimport UserContext from \"../../UserContext\";\n\nimport StartPlayingButton from \"./StartPlayingButton\";\nimport SimpleStartPlaying from \"./SimpleStartPlaying\";\nfunction GameBriefing(props) {\n  const { game, savedGames, simple, updateSavedGames, setUser, noUser } = props;\n  const loggedInUser = useContext(UserContext);\n\n  return simple ? (\n    <SimpleStartPlaying\n      noUser={noUser}\n      updateSavedGames={updateSavedGames}\n      setUser={setUser}\n      loggedInUser={loggedInUser}\n      game={game}\n      savedGames={savedGames}\n    />\n  ) : (\n    <StartPlayingButton noUser={noUser} loggedInUser={loggedInUser} game={game} savedGames={savedGames} />\n  );\n}\n\nexport default withRouter(GameBriefing);\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router'\nimport gamesService from '../../services/games.service'\nimport savedGamesService from '../../services/savedGames.service'\nimport NewSaveGame from '../Game/NewSaveGame'\nimport GameBriefing from '../Game/GameBriefing'\nimport { Row, Col } from 'react-bootstrap'\nconst GamesService = new gamesService()\nconst SavedGamesService = new savedGamesService()\n\nfunction GameOverView(props) {\n\tconst { match, loggedInUser, setUser } = props\n\tconst gameId = match.params.gameId\n\tconst [game, setGame] = useState(null)\n\tconst [savedGames, setSavedGames] = useState([])\n\n\tuseEffect(() => {\n\t\tGamesService.getOneGame(props.match.params.gameId).then(game => setGame(game))\n\t\tloggedInUser && SavedGamesService.getUserSaves(loggedInUser._id, gameId).then(savedGames => setSavedGames(savedGames))\n\t}, [props.match.params.gameId, loggedInUser, gameId])\n\n\tfunction updateSavedGames(newSave) {\n\t\tconst savedGamesCopy = [...savedGames]\n\t\tsavedGamesCopy.push(newSave)\n\t\tsetSavedGames(savedGamesCopy)\n\t}\n\n\treturn loggedInUser === null ? (\n\t\t<GameBriefing game={game} noUser={!loggedInUser} />\n\t) : !game ? (\n\t\t<>Loading</>\n\t) : game.simple ? (\n\t\t<GameBriefing simple updateSavedGames={updateSavedGames} setUser={setUser} game={game} savedGames={savedGames} />\n\t) : (\n\t\t<Row style={{ justifyContent: 'space-between' }}>\n\t\t\t<Col lg={5}>\n\t\t\t\t<NewSaveGame updateSavedGames={updateSavedGames} setUser={setUser} loggedInUser={loggedInUser} />\n\t\t\t</Col>\n\t\t\t<Col lg={5}>\n\t\t\t\t<GameBriefing game={game} savedGames={savedGames} />\n\t\t\t</Col>\n\t\t</Row>\n\t)\n}\n\nexport default withRouter(GameOverView)\n","import axios from \"axios\";\n\nclass characterChoicesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/characterChoices/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  makeChoice(saveId, choiceId, characterId) {\n    return this.service\n      .post(`/makeChoice`, { saveId, choiceId, characterId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default characterChoicesService;\n","import React from \"react\";\nimport Spritesheet from \"react-responsive-spritesheet\";\nimport useSound from \"use-sound\";\nimport styled from \"styled-components\";\n\nconst AnimationWrapper = styled.div`\n  position: absolute;\n  width: 360px;\n  height: 360px;\n  left: calc(50% - 360px);\n  top: 50%;\n`;\n\nfunction DiceAnimation(props) {\n  const { hideAnimation, sprite, sound } = props;\n  const [playDice] = useSound(sound);\n\n  return (\n    <AnimationWrapper>\n      <Spritesheet\n        className={`my-element__class--style`}\n        image={sprite}\n        widthFrame={320}\n        heightFrame={180}\n        steps={12}\n        fps={10}\n        autoplay={true}\n        loop={false}\n        endAt={12}\n        backgroundSize=\"cover\"\n        backgroundPosition=\"center center\"\n        onPlay={(spritesheet) => {\n          console.log(\"init\");\n          playDice();\n        }}\n        onPause={(spritesheet) => {\n          setTimeout(() => {\n            hideAnimation();\n          }, 1000);\n        }}\n      />\n    </AnimationWrapper>\n  );\n}\n\nexport default DiceAnimation;\n","import React from \"react\";\n\nfunction ChoicesList({ choices, makeChoice = () => {} }) {\n  return choices.map((choice) => {\n    return choice.successTargetChapter && choice.failureTargetChapter ? (\n      <button onClick={makeChoice} id={choice._id}>\n        {choice.description}\n      </button>\n    ) : (\n      <button disabled onClick={makeChoice} id={choice._id}>\n        {choice.description}\n      </button>\n    );\n  });\n}\n\nexport default ChoicesList;\n","import React, { useState } from \"react\";\nimport characterChoicesService from \"../../services/characterChoices.service\";\nimport { withRouter } from \"react-router-dom\";\nimport DiceAnimation from \"./DiceAnimation\";\nimport ChoicesList from \"../Choice/ChoicesList\";\nimport r01 from \"./assets/diceSprites/r01.png\";\nimport r02 from \"./assets/diceSprites/r02.png\";\nimport r03 from \"./assets/diceSprites/r03.png\";\nimport r04 from \"./assets/diceSprites/r04.png\";\nimport r05 from \"./assets/diceSprites/r01.png\";\nimport r06 from \"./assets/diceSprites/r01.png\";\nimport r07 from \"./assets/diceSprites/r07.png\";\nimport r08 from \"./assets/diceSprites/r08.png\";\nimport r09 from \"./assets/diceSprites/r09.png\";\nimport r10 from \"./assets/diceSprites/r10.png\";\nimport r11 from \"./assets/diceSprites/r11.png\";\nimport r12 from \"./assets/diceSprites/r12.png\";\nimport r13 from \"./assets/diceSprites/r13.png\";\nimport r14 from \"./assets/diceSprites/r14.png\";\nimport r15 from \"./assets/diceSprites/r15.png\";\nimport r16 from \"./assets/diceSprites/r16.png\";\nimport r17 from \"./assets/diceSprites/r17.png\";\nimport r18 from \"./assets/diceSprites/r18.png\";\nimport r19 from \"./assets/diceSprites/r19.png\";\nimport r20 from \"./assets/diceSprites/r20.png\";\nimport rollSound from \"./assets/diceRoll.mp3\";\nconst rollSprites = {\n  \"1\": r01,\n  \"2\": r02,\n  \"3\": r03,\n  \"4\": r04,\n  \"5\": r05,\n  \"6\": r06,\n  \"7\": r07,\n  \"8\": r08,\n  \"9\": r09,\n  \"10\": r10,\n  \"11\": r11,\n  \"12\": r12,\n  \"13\": r13,\n  \"14\": r14,\n  \"15\": r15,\n  \"16\": r16,\n  \"17\": r17,\n  \"18\": r18,\n  \"19\": r19,\n  \"20\": r20,\n};\n\nfunction Chapter(props) {\n  const CharacterChoiceService = new characterChoicesService();\n  const { currentChapter, character } = props.game;\n  const [sprite, setSprite] = useState(null);\n  const [showAnimation, setShowAnimation] = useState(false);\n  function makeChoice(e) {\n    CharacterChoiceService.makeChoice(props.game._id, e.currentTarget.id, character._id).then((result) => {\n      setSprite(rollSprites[result.roll]);\n      setShowAnimation(true);\n      // setTimeout(() => {\n      props.updateChapterOnSave();\n      // }, 6000);\n    });\n  }\n\n  return (\n    <div>\n      {showAnimation && <DiceAnimation sprite={sprite} sound={rollSound} hideAnimation={() => setShowAnimation(false)} />}\n      <div dangerouslySetInnerHTML={{ __html: currentChapter.description }}></div>\n      <ChoicesList makeChoice={makeChoice} choices={currentChapter.choices} />\n    </div>\n  );\n}\n\nexport default withRouter(Chapter);\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport savedGamesService from '../../services/savedGames.service'\nimport Chapter from '../Chapter/Chapter'\nimport { Spinner } from 'react-bootstrap'\nconst SavedGamesService = new savedGamesService()\n\nfunction ChapterWrapper(props) {\n\tconst { match } = props\n\n\tconst [savedGame, setSavedGame] = useState(null)\n\tconst [ready, setReady] = useState(false)\n\n\tuseEffect(() => {\n\t\t//Not sure if this is good practice for removing the warning...\n\t\tconst update = () =>\n\t\t\tSavedGamesService.getFullSave(match.params.savedGameId).then(savedGame => {\n\t\t\t\tsetSavedGame(savedGame)\n\t\t\t\tsetReady(true)\n\t\t\t})\n\t\tupdate()\n\t}, [match.params.savedGameId])\n\n\tfunction updateChapterOnSave() {\n\t\tSavedGamesService.getFullSave(match.params.savedGameId).then(savedGame => {\n\t\t\tif (savedGame.currentChapter.last) {\n\t\t\t\tsavedGame.finished = true\n\t\t\t\tSavedGamesService.updateSavedGame({ savedGameId: match.params.savedGameId, finished: true })\n\t\t\t}\n\t\t\tsetSavedGame(savedGame)\n\t\t\tsetReady(true)\n\t\t})\n\t}\n\n\treturn ready ? (\n\t\tsavedGame.currentChapter ? (\n\t\t\t<Chapter updateChapterOnSave={updateChapterOnSave} game={savedGame} />\n\t\t) : (\n\t\t\t<div>\n\t\t\t\t<p>Esta aventura aún no tiene capitulos.</p>\n\t\t\t</div>\n\t\t)\n\t) : (\n\t\t<Spinner />\n\t)\n}\n\nexport default withRouter(ChapterWrapper)\n","import React, { useEffect, useContext, useState } from 'react'\nimport GameCard from '../Game/GameCard'\nimport { Row, Col } from 'react-bootstrap'\nimport gamesService from '../../services/games.service'\nimport UserContext from '../../UserContext'\nimport CustomSpinner from '../shared/Spinner'\nconst GamesService = new gamesService()\n\nfunction MyCreatedGames(props) {\n\tconst loggedInUser = useContext(UserContext)\n\tconst [createdGames, setCreatedGames] = useState(null)\n\tconst [ready, setReady] = useState(false)\n\n\tuseEffect(() => {\n\t\tGamesService.getOwnedGames(loggedInUser._id).then(games => {\n\t\t\tsetCreatedGames(games || null)\n\t\t\tsetReady(true)\n\t\t})\n\t}, [loggedInUser._id])\n\n\treturn (\n\t\t<Row>\n\t\t\t{ready ? (\n\t\t\t\tcreatedGames?.map(game => (\n\t\t\t\t\t<Col lg={3}>\n\t\t\t\t\t\t<GameCard game={game} />\n\t\t\t\t\t</Col>\n\t\t\t\t)) || <p>Aún no tienes historias en juego.</p>\n\t\t\t) : (\n\t\t\t\t<CustomSpinner />\n\t\t\t)}\n\t\t</Row>\n\t)\n}\n\nexport default MyCreatedGames\n","import React, { useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport savedGamesService from '../../services/savedGames.service'\nimport chapterService from '../../services/chapter.service'\nconst SavedGamesService = new savedGamesService()\nconst ChapterService = new chapterService()\n\nfunction FinishedGame(props) {\n\tuseEffect(() => {\n\t\tSavedGamesService.getFullSave(props.match.params.saveId).then(save => {\n\t\t\tconst chaptersPromise = save.choicesTree.map(choice => {\n\t\t\t\tconst target = choice.didSuccess ? choice.choice.successTargetChapter : choice.choice.failureTargetChapter\n\t\t\t\treturn ChapterService.getChapter(target).then(chapter => chapter)\n\t\t\t})\n\n\t\t\tPromise.all(chaptersPromise)\n\t\t\t\t.then(chaptersTravelled => {})\n\t\t\t\t.catch(err => console.log(err))\n\t\t})\n\t}, [props.match.params.saveId])\n\treturn <div></div>\n}\n\nexport default withRouter(FinishedGame)\n","import React from \"react\";\n\nfunction CharacterSummary({ character }) {\n  return character ? (\n    <div>\n      <h5>{character.name}</h5>\n      <p>Level: {character.level}</p>\n      <p>Experience: {character.exp}</p>\n      <small>\n        Fue: {character.str} Des: {character.des} Agi: {character.agi} Int: {character.int} Sab: {character.wis} Car: {character.char}\n      </small>\n    </div>\n  ) : null;\n}\n\nexport default CharacterSummary;\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport CharacterList from '../Character/CharacterList'\nimport CenteredModal from '../shared/Modal'\nimport CharacterSummary from '../Character/CharacterSummary'\n\nconst Section = styled.section``\n\nfunction MyCharacters({ characters }) {\n\tconst [show, setShow] = useState(false)\n\tconst [charShown, setCharShown] = useState(null)\n\n\tconst openModal = id => {\n\t\tconst chosedChar = characters.find(char => char._id === id)\n\t\tsetCharShown(chosedChar)\n\t\tsetShow(true)\n\t}\n\n\tconst closeModal = () => setShow(false)\n\n\treturn (\n\t\t<Section>\n\t\t\t<CharacterList onClick={openModal} characters={characters} />\n\t\t\t<CenteredModal noHeader onHide={closeModal} show={show}>\n\t\t\t\t<CharacterSummary character={charShown} />\n\t\t\t</CenteredModal>\n\t\t</Section>\n\t)\n}\n\nexport default MyCharacters\n","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport Home from './components/views/Home'\nimport LastGames from './components/views/LastGames'\nimport MyGames from './components/views/MyGames'\nimport NewGame from './components/views/NewGame'\nimport EditGame from './components/views/EditGame'\nimport GameOverview from './components/views/GameOverView'\nimport ChapterWrapper from './components/views/ChapterWrapper'\nimport MyCreatedGames from './components/views/MyCreatedGames'\nimport FinishedGame from './components/views/FinishedGame'\nimport MyCharacters from './components/views/MyCharacters'\n\nfunction Routes({ loggedInUser, setloginModal, setUser }) {\n\treturn (\n\t\t<Switch>\n\t\t\t<Route exact path='/' render={() => <Home showLogin={setloginModal} />} />\n\t\t\t<Route exact path='/lastGames' render={() => <LastGames loggedInUser={loggedInUser} />} />\n\t\t\t<Route exact path='/read/:gameId' render={() => <GameOverview setUser={setUser} loggedInUser={loggedInUser} />} />\n\t\t\t{loggedInUser && (\n\t\t\t\t<>\n\t\t\t\t\t<Route exact path='/myGames' render={() => <MyGames loggedInUser={loggedInUser} />} />\n\t\t\t\t\t<Route exact path='/myCreatedGames' render={() => <MyCreatedGames loggedInUser={loggedInUser} />} />\n\t\t\t\t\t<Route exact path='/newGame' render={() => <NewGame loggedInUser={loggedInUser} />} />\n\t\t\t\t\t<Route exact path='/myCharacters' render={() => <MyCharacters characters={loggedInUser.characters} />} />\n\t\t\t\t\t<Route exact path='/modify/:gameId' render={props => <EditGame {...props} loggedInUser={loggedInUser} />} />\n\t\t\t\t\t<Route exact path='/chapter/:savedGameId' render={() => <ChapterWrapper />} />\n\t\t\t\t\t<Route exact path='/finished/:saveId' render={() => <FinishedGame loggedInUser={loggedInUser} />} />\n\t\t\t\t\t{/* <Route exact path=\"/flowchart/:gameId\" render={() => <GameFlowChart />} /> */}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Switch>\n\t)\n}\n\nexport default Routes\n","//#region IMPORTS\nimport React, { useEffect, useState } from 'react'\nimport './App.css'\nimport Navbar from './components/layout/Navbar'\nimport authService from './services/auth.service'\nimport LoginForm from './components/Auth/LoginForm'\nimport SignupForm from './components/Auth/SignupForm'\nimport CenteredModal from './components/shared/Modal'\nimport { ThemeProvider, createGlobalStyle } from 'styled-components'\nimport { UserProvider } from './UserContext'\nimport { darkTheme } from './themeContext'\nimport Routes from './Routes'\n\n//#endregion IMPORTS\nconst AuthService = new authService()\n\nconst GlobalStyle = createGlobalStyle`\n\t\t* {\n\t\t\tfont-family: \"Special Elite\"\n\t\t}\n    body {\n      color: ${darkTheme.colors.general};\n      background-color: ${darkTheme.background.general};\n    }\n\n\t\tmain {\n\t\t\tpadding: 50px 90px;\n\t\t}\n\t\t\n    a {\n      color: #eee;\n    }\n    a:hover {\n      color: #eee;\n      text-decoration: none;\n    }\n\n\t\tinput {\n\t\t\tbackground-color: rgb(235, 235, 235);\n\t\t}\n`\n\nfunction App() {\n\tconst [loginModal, setloginModal] = useState(false)\n\tconst [signupModal, setSignupModal] = useState(false)\n\tconst [loggedInUser, setloggedInUser] = useState(false)\n\n\tfunction logout() {\n\t\tAuthService.logout().then(() => setloggedInUser(null))\n\t}\n\n\tfunction setUser(user) {\n\t\tsetloggedInUser(user)\n\t}\n\n\tuseEffect(() => {\n\t\tif (loggedInUser === false) {\n\t\t\tAuthService.loggedin().then(user => {\n\t\t\t\tif (user) setloggedInUser(user)\n\t\t\t\telse setloggedInUser(null)\n\t\t\t})\n\t\t}\n\t\treturn () => {}\n\t}, [loggedInUser])\n\n\treturn (\n\t\t<ThemeProvider theme={darkTheme}>\n\t\t\t<UserProvider value={loggedInUser}>\n\t\t\t\t<GlobalStyle />\n\t\t\t\t<Navbar logout={logout} showSignup={() => setSignupModal(true)} showLogin={() => setloginModal(true)} loggedInUser={loggedInUser} />\n\t\t\t\t<main>\n\t\t\t\t\t<Routes loggedInUser={loggedInUser} setloginModal={setloginModal} setUser={setUser} />\n\t\t\t\t\t<>\n\t\t\t\t\t\t<CenteredModal title={'Login'} show={loginModal} onHide={() => setloginModal(false)}>\n\t\t\t\t\t\t\t<LoginForm setUser={setUser} />\n\t\t\t\t\t\t</CenteredModal>\n\t\t\t\t\t\t<CenteredModal title={'Signup'} show={signupModal} onHide={() => setSignupModal(false)}>\n\t\t\t\t\t\t\t<SignupForm setUser={setUser} />\n\t\t\t\t\t\t</CenteredModal>\n\t\t\t\t\t</>\n\t\t\t\t</main>\n\t\t\t</UserProvider>\n\t\t</ThemeProvider>\n\t)\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Route path=\"/\" render={(match) => <App {...match} />} />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/r01.66469ed4.png\";","module.exports = __webpack_public_path__ + \"static/media/playingTable.e9c5973e.png\";","module.exports = __webpack_public_path__ + \"static/media/d6book.f2700073.svg\";","module.exports = __webpack_public_path__ + \"static/media/d20.32c11da5.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAPsAAAD7AFKhtV5AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAALFQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADcidCwAAADp0Uk5TAAEDBAUGCw0PGx4gISstLkBER11fYGFnaWtsk5eYmp2eo6Spq6ytrq+wsbK2zM/d4OPw8vP09vf4/uaZfbgAAAHzSURBVHja7drZTsJQFIXhBXWeBwQF5wlFAUUm1/s/mDeYgPS057RnbzXZ67Jp8/1J26QXBWw2m81ms9lsNpvN9jeW7J8c71a1tOru8cl+Mndg53VKkuP2pga/2R6T5PR1Z3ag0hxxtkFd3q8PvrVRswIAuODcboTvQ/VmXjsHgCMu7Fa0oHq7qB0CG+/UK/jp820dZ6RawZJPnuKaagUpPq/Qo1ZBms8ehlQqSPU5RJc6Bek+u7ikSoHD5yUa1Chw+Wxgra9Q4PT7a8DBp3iB0/88AIAWhQucPlsAgORetsDt38++CWQL8n3ZAh9fssDPlytw+w/J4pkyBf6+TEGIL1EQ5scvCPVjF4T7cQuK+DELivnxCtz+Y5J9ZZyC4n6cgjJ+jIJyfvmCsn7ZgvJ+uYIMf8X/KS5eEMcvXhDLL1rg9tuBfrGCmH6Rgrh+eEFsP7Qgvh9WIOGHFMj4/gVSvm+BnO9X4PafSvs+BbJ+foG0n1cg72cXaPiZBSp+VoGOH14Q2w8teI7uhxVI+CEFMr5/gZTvWyDn+xVI+j4Fsn5+gbSfVyDvZxd0FPysAh3fXaDluwr0/PSCzirwmwW6/nKBtg8kdwvvv7oPoPHxzQ9nf6Nob+tlQpKTl2381pK9Wm0vgc1ms9lsNpvNZrPZ/vW+AEbmqyT8wqAZAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/invertedlogo.9e69b76b.png\";"],"sourceRoot":""}