{"version":3,"sources":["components/Chapter/assets/diceSprites/r02.png","components/Chapter/assets/diceSprites/r03.png","components/Chapter/assets/diceSprites/r04.png","components/Chapter/assets/diceSprites/r07.png","components/Chapter/assets/diceSprites/r08.png","components/Chapter/assets/diceSprites/r09.png","components/Chapter/assets/diceSprites/r10.png","components/Chapter/assets/diceSprites/r11.png","components/Chapter/assets/diceSprites/r12.png","components/Chapter/assets/diceSprites/r13.png","components/Chapter/assets/diceSprites/r14.png","components/Chapter/assets/diceSprites/r15.png","components/Chapter/assets/diceSprites/r16.png","components/Chapter/assets/diceSprites/r17.png","components/Chapter/assets/diceSprites/r18.png","components/Chapter/assets/diceSprites/r19.png","components/Chapter/assets/diceSprites/r20.png","components/Chapter/assets/diceRoll.mp3","layout/SearchInput.jsx","layout/Select.jsx","layout/Searchbar.jsx","services/games.service.js","layout/Navbar.jsx","views/LastGames.jsx","services/savedGames.service.js","UserContext.js","views/MyGames.jsx","services/auth.service.js","components/Buttons.js","components/Auth/LoginForm.jsx","components/Auth/SignupForm.jsx","components/utils/Modal.jsx","components/Game/NewGameForm.jsx","components/Images.js","components/Game/ModeSelect.jsx","views/NewGame.jsx","services/choices.service.js","services/chapter.service.js","components/Choice/ChoiceForm.jsx","components/Choice/ChoiceFormRow.jsx","components/Choice/ChoiceCard.jsx","components/Chapter/NewChapterForm.jsx","views/EditChapters.jsx","services/character.service.js","components/Character/CharacterForm.jsx","components/Character/CharacterList.jsx","components/Game/NewSaveGame.jsx","components/Game/StartPlayingButton.jsx","components/Game/SimpleStartPlaying.jsx","components/Game/GameBriefing.jsx","views/GameOverView.jsx","services/characterChoices.service.js","components/Chapter/DiceAnimation.jsx","components/Choice/ChoicesList.jsx","components/Chapter/Chapter.jsx","views/ChapterWrapper.jsx","views/MyCreatedGames.jsx","views/FinishedGame.jsx","themeContext.js","components/Character/CharacterSummary.jsx","views/MyCharacters.jsx","App.js","serviceWorker.js","index.js","components/Chapter/assets/diceSprites/r01.png","components/Game/assets/d6book.svg","components/Game/assets/d20.svg","invertedlogo.png","views/assets/playingTable.png"],"names":["module","exports","SearchInput","onSearch","className","useState","searchText","setSearchText","autoComplete","onSubmit","e","preventDefault","name","type","value","onChange","currentTarget","Dropdown","styled","div","Select","children","checked","length","id","hidden","for","role","tabindex","SearchBar","span","Searchbar","cb","search","setSearch","useEffect","then","result","text","map","game","aria-selected","to","_id","title","gamesService","this","baseURL","process","service","axios","create","withCredentials","get","res","data","catch","err","console","log","gamesFound","creator","minLevel","description","simple","post","GameService","searchGames","getByTitle","CustomNavbar","loggedInUser","showLogin","showSignup","logout","StyledNavbar","Navbar","props","theme","colors","light","background","semiSolid","modals","Spinner","Nav","style","width","Item","Link","as","NavLink","height","src","logo","alt","onClick","justifyContent","NavDropdown","drop","Divider","MainsSectionWrapper","section","lightOverlay","upwardTransition","keyframes","imgTransition","Background","img","MainSection","article","appear","Title","h1","general","GameCard","overlay","LastGames","games","preloadSet","setPreloadSet","mainBackgroundPreload","document","createElement","rel","href","playingTable","d6Prefetch","d20Prefetch","D6","D20","head","append","overflow","idx","key","slice","savedGamesService","userId","gameId","query","saveId","currentChapter","character","savedGameId","finished","patch","delete","UserContext","React","createContext","UserProvider","Provider","MyGames","useContext","SavedGamesService","savedGames","setSavedGames","getAllSaves","saves","save","authService","timeout","timeoutErrorMessage","username","email","password","response","status","code","error","message","Button","StyledButton","button","SmallButton","LoginForm","setUser","onHide","AuthService","setUsername","setEmail","setPassword","Error","Form","login","Group","controlId","Label","Control","placeholder","Text","SignupForm","signup","variant","CenteredModal","show","noHeader","ThemeModal","Modal","dialogAs","size","aria-labelledby","centered","autoFocus","Header","closeButton","Body","cloneElement","withRouter","updateLastGames","history","GamesService","setTitle","setMinLevel","setDescription","createGame","createdGame","push","min","max","step","ImageFiltered","BackgroundImage","ModeSelect","setMode","ModeWrapper","Row","ModeBox","Col","LeftBackgroundImage","RightBackgroundImage","EasyDice","D20Dice","NewGame","setSimple","choicesService","choicesFound","trial","successTargetChapter","failureTargetChapter","pxGranted","choice","choiceId","chapters","choices","last","chapter","ChapterService","chapterService","ChoicesService","finishChoiceForm","toogleCard","closeChoiceForm","match","difficulty","setDifficulty","characteristic","setCharacteristic","setPxGranted","setSuccessTargetChapter","setFailureTargetChapter","chapterList","setChapterList","createChoice","createdChoice","updateChoice","updatedChoice","getChaptersFromGame","params","Card","newChoice","display","custom","dangerouslySetInnerHTML","__html","selected","ChoiceFormWrapper","Col4","submitForm","borderRadius","padding","marginRight","backgroundColor","textAlign","ChoiceCard","color","returnCharacteristic","ChapterFormWrapper","ready","EditorWrapper","chapterId","getAllChapters","closeNewChapterForm","setChoices","choicesObj","setChoicesObj","choiceForms","setChoiceForms","setReady","setLast","populateThisChapter","useCallback","getChapter","filter","choiceObj","choicesCopy","retrieveChoicesIds","choicesObjCopy","createChoiceCard","choiceFormsCopy","splice","choiceCopy","maxLength","editor","ClassicEditor","onInit","event","getData","onBlur","onFocus","margin","eachChoice","lg","updateChapter","updatedChapter","createChapter","x","eachform","gameService","List","ListPoint","list","EditChapters","RestaurateScroll","createGlobalStyle","allChapters","setallChapters","showNewForm","setShowNewForm","checkOwnership","getOneGame","replace","active","allChaptersCopy","chapterCopy","expandChapter","characterService","characters","characterId","CharacterForm","setCharacter","hideForm","CharacterService","setName","hp","str","setStr","des","setDes","agi","setAgi","con","setCon","int","setInt","wis","setWis","char","setChar","totalPoints","setTotalPoints","newTotal","total","obj","calculatePoints","newCharacter","createCharacter","createdCharacter","assignCharacterToUser","updatedUser","parseInt","CharacterList","CustomLi","li","includes","level","updateSavedGames","showForm","setShowForm","toogleForm","chosenCharacter","createSavedGame","savedGame","assignSaveToUser","StartPlayingButton","noUser","Toggle","Menu","disabled","createCharAndSave","_","startGame","setGame","newSave","savedGamesCopy","getUserSaves","characterChoicesService","AnimationWrapper","DiceAnimation","hideAnimation","sprite","sound","useSound","playDice","image","widthFrame","heightFrame","steps","fps","autoplay","loop","endAt","backgroundSize","backgroundPosition","onPlay","spritesheet","onPause","setTimeout","ChoicesList","makeChoice","rollSprites","r01","r02","r03","r04","r05","r06","r07","r08","r09","r10","r11","r12","r13","r14","r15","r16","r17","r18","r19","r20","CharacterChoiceService","setSprite","showAnimation","setShowAnimation","rollSound","roll","updateChapterOnSave","setSavedGame","getFullSave","updateSavedGame","MyCreatedGames","createdGames","setCreatedGames","getOwnedGames","chaptersPromise","choicesTree","target","didSuccess","Promise","all","chaptersTravelled","darkTheme","solid","CharacterSummary","exp","MyCharacters","setShow","charShown","setCharShown","chosedChar","find","App","lastGames","setlastGames","setloggedInUser","user","getLastGames","last10","some","gameA","gameB","Array","isArray","every","elm","loggedin","loginModal","setloginModal","signupModal","setSignupModal","GlobalStyle","Container","fluid","exact","path","render","Boolean","window","location","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.d5d37f69.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/r02.bde458ff.png\";","module.exports = __webpack_public_path__ + \"static/media/r03.d9ed47a0.png\";","module.exports = __webpack_public_path__ + \"static/media/r04.43694589.png\";","module.exports = __webpack_public_path__ + \"static/media/r07.8d873eb0.png\";","module.exports = __webpack_public_path__ + \"static/media/r08.02e3d8aa.png\";","module.exports = __webpack_public_path__ + \"static/media/r09.b799ee05.png\";","module.exports = __webpack_public_path__ + \"static/media/r10.e872788c.png\";","module.exports = __webpack_public_path__ + \"static/media/r11.e1fb3055.png\";","module.exports = __webpack_public_path__ + \"static/media/r12.cc0de9f1.png\";","module.exports = __webpack_public_path__ + \"static/media/r13.ba069347.png\";","module.exports = __webpack_public_path__ + \"static/media/r14.1caa17d0.png\";","module.exports = __webpack_public_path__ + \"static/media/r15.b865a968.png\";","module.exports = __webpack_public_path__ + \"static/media/r16.ed090d48.png\";","module.exports = __webpack_public_path__ + \"static/media/r17.65cb70b6.png\";","module.exports = __webpack_public_path__ + \"static/media/r18.6f4ebc7c.png\";","module.exports = __webpack_public_path__ + \"static/media/r19.c8774adb.png\";","module.exports = __webpack_public_path__ + \"static/media/r20.d21f8366.png\";","module.exports = __webpack_public_path__ + \"static/media/diceRoll.afd53a36.mp3\";","import React, { useState } from \"react\";\n\nfunction SearchInput({ onSearch, className }) {\n  const [searchText, setSearchText] = useState(\"\");\n\n  function onSubmit(e) {\n    e.preventDefault();\n  }\n\n  function onChange(e) {\n    const { value } = e.currentTarget;\n    setSearchText(value);\n    onSearch(value);\n  }\n\n  return (\n    <form autoComplete=\"off\" className={className} onSubmit={onSubmit}>\n      <label>\n        <input name=\"searchbar\" type=\"text\" value={searchText} onChange={onChange}></input>\n      </label>\n    </form>\n  );\n}\n\nexport default SearchInput;\n","import React from 'react'\nimport styled from 'styled-components'\nimport SearchInput from './SearchInput'\n\nconst Dropdown = styled.div`\n\t.search-input {\n\t\tmargin: -14px 0;\n\t\theight: 30px;\n\t\twidth: 100%;\n\t\tlabel,\n\t\tlabel input {\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t\tborder: none;\n\t\t\tborder-radius: 5px;\n\t\t\tbackground-color: rgba(30, 30, 30);\n\t\t\tcolor: white;\n\n\t\t\t&:focus {\n\t\t\t\toutline: none;\n\t\t\t}\n\t\t}\n\t}\n\n\t.dropdown {\n\t\theight: 38px;\n\t\t/* position: absolute;\n    top: 50%;\n    left: 50%; */\n\t\t/* transform: translateX(-50%) translateY(-50%); */\n\t\t/* padding: 20px; */\n\t\tbackground-color: black;\n\t\tbox-shadow: 0 5px 10px 0 rgba(0, 0, 0, 0.5);\n\t\twidth: 300px;\n\t\tfont-family: 'Lato', sans-serif;\n\n\t\t.dropdown__switch:checked {\n\t\t\tcolor: red;\n\t\t}\n\t\t.dropdown__switch:checked + .dropdown__options-filter .dropdown__select {\n\t\t\ttransform: scaleY(1);\n\t\t\tcolor: red;\n\t\t}\n\n\t\t.dropdown__switch:checked + .dropdown__options-filter .dropdown__filter:after {\n\t\t\ttransform: rotate(-135deg);\n\t\t}\n\n\t\t.dropdown__options-filter {\n\t\t\twidth: 100%;\n\t\t\tcursor: pointer;\n\n\t\t\tul {\n\t\t\t\tz-index: 9999;\n\t\t\t\tbackground-color: black;\n\t\t\t\tlist-style: none;\n\t\t\t\tcolor: white;\n\t\t\t\tli {\n\t\t\t\t\tbackground-color: black;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.dropdown__filter-selected {\n\t\t\t\tline-height: 0px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\n\t\t.dropdown__filter {\n\t\t\tdisplay: flex;\n\t\t\tposition: relative;\n\t\t\tpadding: 20px;\n\t\t\tborder: 1px solid #d6d6d6;\n\t\t\tborder-radius: 30px;\n\t\t\tbackground-color: #fff;\n\t\t\tcolor: #595959;\n\t\t\tfont-size: 14px;\n\t\t\ttext-transform: uppercase;\n\t\t\ttransition: 0.3s;\n\t\t\theight: 36px;\n\n\t\t\t&:focus {\n\t\t\t\toutline: none;\n\t\t\t\t/* box-shadow: 0 0 5px 3px #4d1091; */\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 45%;\n\t\t\t\tright: 20px;\n\t\t\t\twidth: 10px;\n\t\t\t\theight: 10px;\n\t\t\t\ttransform: rotate(45deg) translateX(-45%);\n\t\t\t\ttransition: 0.2s ease-in-out;\n\t\t\t\tborder-right: 2px solid #595959;\n\t\t\t\tborder-bottom: 2px solid #595959;\n\t\t\t\tcontent: '';\n\t\t\t}\n\t\t}\n\n\t\t.dropdown__select {\n\t\t\tposition: absolute;\n\t\t\ttop: 100%;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\tmargin-top: 5px;\n\t\t\ttransition: 0.2s ease-in-out;\n\t\t\tfont-weight: 300;\n\t\t\tbox-shadow: 0 5px 10px 0 rgba(152, 152, 152, 0.6);\n\t\t\ttransform: scaleY(0);\n\t\t\ttransform-origin: top;\n\t\t\toverflow: hidden;\n\t\t}\n\n\t\t.dropdown__select-option {\n\t\t\tpadding: 20px;\n\t\t\ttransition: 0.3s;\n\t\t\tbackground-color: #fff;\n\t\t\tborder-bottom: 1px solid #d6d6d6;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-bottom: 0;\n\t\t\t}\n\n\t\t\t&:hover {\n\t\t\t\tbackground-color: #f9f9f9;\n\t\t\t}\n\t\t}\n\t}\n`\n\nfunction Select({ children, onSearch }) {\n\treturn (\n\t\t<Dropdown>\n\t\t\t<div className='dropdown'>\n\t\t\t\t<input type='checkbox' checked={children.length ? true : false} className='dropdown__switch' id='filter-switch' hidden />\n\t\t\t\t<label for='filter-switch' className='dropdown__options-filter'>\n\t\t\t\t\t<ul className='dropdown__filter' role='listbox' tabindex='-1'>\n\t\t\t\t\t\t<li className='dropdown__filter-selected'>\n\t\t\t\t\t\t\t<SearchInput className='search-input' onSearch={onSearch} />\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<ul className='dropdown__select'>{children}</ul>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</Dropdown>\n\t)\n}\n\nexport default Select\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport Select from './Select'\nimport { Link } from 'react-router-dom'\n\nconst SearchBar = styled.span`\n\tdisplay: flex;\n`\nfunction Searchbar({ cb }) {\n\tconst [search, setSearch] = useState([])\n\tconst [searchText, setSearchText] = useState('')\n\n\tconst onSearch = text => setSearchText(text)\n\n\tuseEffect(() => {\n\t\tcb(searchText).then(result => setSearch(result))\n\t\treturn () => {\n\t\t\tsetSearch([])\n\t\t}\n\t}, [searchText, cb])\n\n\treturn (\n\t\t<SearchBar>\n\t\t\t<Select onSearch={onSearch}>\n\t\t\t\t{search.map(game => (\n\t\t\t\t\t<li aria-selected className='dropdown__select-option' role='option'>\n\t\t\t\t\t\t<Link to={`/read/${game._id}`}>{game.title}</Link>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</Select>\n\t\t</SearchBar>\n\t)\n}\n\nexport default Searchbar\n","import axios from \"axios\";\n\nclass gamesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/games/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getOneGame(id) {\n    return this.service\n      .get(`/?gameId=${id}`)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getByTitle(name) {\n    return this.service\n      .get(`/title?title=${name}`)\n      .then((res) => (res.data ? res.data : []))\n      .catch((err) => console.log(err));\n  }\n\n  getOwnedGames(id) {\n    return this.service\n      .get(`/owned?creatorId=${id}`)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getLastGames() {\n    return this.service\n      .get(\"/last?limit=5\")\n      .then((res) => res.data.gamesFound)\n      .catch((err) => console.log(err));\n  }\n\n  createGame({ creator, title, minLevel, description, simple }) {\n    return this.service\n      .post(\"\", { creator, title, minLevel, description, simple })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default gamesService;\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { Navbar, Nav, NavDropdown, Spinner } from 'react-bootstrap'\nimport styled from 'styled-components'\nimport logo from '../invertedlogo.png'\nimport Searchbar from './Searchbar'\nimport gamesService from '../services/games.service'\nconst GameService = new gamesService()\nconst searchGames = title => {\n\treturn GameService.getByTitle(title)\n}\n\nfunction CustomNavbar({ loggedInUser, showLogin, showSignup, logout }) {\n\tconst StyledNavbar = styled(Navbar)`\n\t\tbackground-color: rgba(0, 0, 0, 0.7);\n\t\theight: 60px;\n\t\tp,\n\t\ta {\n\t\t\tcolor: ${props => props.theme.colors.light + '!important'};\n\t\t}\n\t\t.dropdown-menu {\n\t\t\tbackground-color: ${props => props.theme.background.semiSolid};\n\t\t\t.dropdown-item:hover {\n\t\t\t\tbackground-color: ${props => props.theme.background.modals};\n\t\t\t}\n\t\t}\n\t`\n\n\treturn loggedInUser === false ? (\n\t\t<Spinner />\n\t) : loggedInUser === null ? (\n\t\t<StyledNavbar>\n\t\t\t<Nav style={{ width: '60%' }}>\n\t\t\t\t<Nav.Item>\n\t\t\t\t\t<Nav.Link as={NavLink} to={'/'}>\n\t\t\t\t\t\t<img style={{ height: '36px' }} src={logo} alt='Logo de dado icosaédrico'></img>\n\t\t\t\t\t</Nav.Link>\n\t\t\t\t</Nav.Item>\n\t\t\t\t<Nav.Item>\n\t\t\t\t\t<Nav.Link onClick={showLogin}>Login</Nav.Link>\n\t\t\t\t</Nav.Item>\n\t\t\t\t<Nav.Item>\n\t\t\t\t\t<Nav.Link onClick={showSignup}>Signup</Nav.Link>\n\t\t\t\t</Nav.Item>\n\t\t\t</Nav>\n\t\t\t<Nav style={{ width: '40%', justifyContent: 'flex-end' }}>\n\t\t\t\t<Searchbar cb={searchGames} />\n\t\t\t</Nav>\n\t\t</StyledNavbar>\n\t) : (\n\t\t<StyledNavbar>\n\t\t\t<Nav style={{ width: '60%' }}>\n\t\t\t\t<Nav.Item>\n\t\t\t\t\t<Nav.Link as={NavLink} to={'/'}>\n\t\t\t\t\t\t<img style={{ height: '36px' }} src={logo} alt='Logo de dado icosaédrico'></img>\n\t\t\t\t\t</Nav.Link>\n\t\t\t\t</Nav.Item>\n\t\t\t\t<Nav.Item>\n\t\t\t\t\t<NavDropdown title='Mis historias' id='nav-dropdown' drop='down'>\n\t\t\t\t\t\t<NavDropdown.Item>\n\t\t\t\t\t\t\t<Nav.Link as={NavLink} to={'/myGames'}>\n\t\t\t\t\t\t\t\tEn juego\n\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t</NavDropdown.Item>\n\t\t\t\t\t\t<NavDropdown.Divider />\n\t\t\t\t\t\t<NavDropdown.Item>\n\t\t\t\t\t\t\t<Nav.Link as={NavLink} to={'/myCreatedGames'}>\n\t\t\t\t\t\t\t\tCreadas por mí\n\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t</NavDropdown.Item>\n\t\t\t\t\t</NavDropdown>\n\t\t\t\t</Nav.Item>\n\t\t\t\t<Nav.Item>\n\t\t\t\t\t<Nav.Link as={NavLink} to={'/myCharacters'}>\n\t\t\t\t\t\tMis personajes\n\t\t\t\t\t</Nav.Link>\n\t\t\t\t</Nav.Item>\n\t\t\t\t<Nav.Item>\n\t\t\t\t\t<Nav.Link as={NavLink} to={'/newGame'}>\n\t\t\t\t\t\tCrear Partida\n\t\t\t\t\t</Nav.Link>\n\t\t\t\t</Nav.Item>\n\t\t\t</Nav>\n\t\t\t<Nav style={{ width: '40%', justifyContent: 'flex-end' }}>\n\t\t\t\t{/* <Nav.Item> */}\n\t\t\t\t<Searchbar cb={searchGames} />\n\t\t\t\t{/* </Nav.Item> */}\n\t\t\t\t<Nav.Item onClick={logout}>Logout</Nav.Item>\n\t\t\t</Nav>\n\t\t</StyledNavbar>\n\t)\n}\n\nexport default CustomNavbar\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled, { keyframes } from \"styled-components\";\nimport playingTable from \"./assets/playingTable.png\";\nimport D6 from \"../components/Game/assets/d6book.svg\";\nimport D20 from \"../components/Game/assets/d20.svg\";\n\nconst MainsSectionWrapper = styled.section`\n  background-color: ${(props) => props.theme.background.lightOverlay};\n  text-align: center;\n  height: 80vh;\n  padding-top: 40px;\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n`;\n\nconst upwardTransition = keyframes`\n    from {\n      opacity: 0;\n      transform: translateY(1000px)\n    }\n    \n    to {\n      opacity: 1;\n      transform: translateY(0px)\n    }\n  `;\n\nconst imgTransition = keyframes`\n    from {\n      transform: translateY(1000px) rotate(0deg)\n    }\n    \n    to {\n      rotate(-15deg)\n      /* rotate(-15deg) */\n      transform: translateY(0px) rotate(-15deg)\n    }\n    `;\n\nconst Background = styled.img`\n  position: absolute;\n  left: 5%;\n  top: 100px;\n  z-index: -9000;\n  transform: rotate(-15deg);\n  opacity: 0.5;\n  filter: blur(1px);\n  filter: contrast(70%);\n  animation: ${imgTransition} 3s cubic-bezier(0.71, 0.57, 0.46, 0.92);\n`;\n\nconst MainSection = styled.article`\n  margin: 20px;\n  transform: translateY();\n  animation: ${upwardTransition} 4s ease-out;\n`;\n\nconst appear = keyframes`\n      from {\n        opacity: 0;\n      }\n\n      to {\n        opacity: 1;\n      }\n    `;\n\nconst Title = styled.h1`\n  font-size: 3em;\n  animation: ${appear} 5s ease-out;\n  color: ${(props) => props.theme.colors.general};\n  font-weight: 900;\n  letter-spacing: 5px;\n  text-align: center;\n`;\n\nconst GameCard = styled.div`\n  margin: 10px 0;\n  padding: 10px 0;\n  border-radius: 2px;\n\n  p {\n    font-size: 1.2em;\n  }\n\n  &:hover {\n    h2 {\n      transition: font-size 500ms;\n      font-size: 1.4em;\n    }\n    font-size: 1.3em;\n    background-color: ${(props) => props.theme.background.overlay};\n  }\n`;\n\nfunction LastGames({ games, loggedInUser }) {\n  const [preloadSet, setPreloadSet] = useState(false);\n  useEffect(() => {\n    if (!preloadSet) {\n      const mainBackgroundPreload = document.createElement(\"link\");\n      mainBackgroundPreload.rel = \"preload\";\n      mainBackgroundPreload.as = \"image\";\n      mainBackgroundPreload.href = playingTable;\n\n      const d6Prefetch = document.createElement(\"link\");\n      const d20Prefetch = document.createElement(\"link\");\n      d6Prefetch.rel = \"prefetch\";\n      d20Prefetch.rel = \"prefetch\";\n      d6Prefetch.href = D6;\n      d20Prefetch.href = D20;\n      d6Prefetch.as = \"image\";\n      d20Prefetch.as = \"image\";\n\n      document.head.append(d6Prefetch);\n      document.head.append(d20Prefetch);\n      document.head.append(mainBackgroundPreload);\n\n      setPreloadSet(true);\n    }\n  }, []);\n\n  return (\n    <div id=\"container1\" style={{ overflow: \"hidden\" }}>\n      <Title>Últimas historias</Title>\n      <MainsSectionWrapper id=\"container2\">\n        <Background src={playingTable} />\n        <MainSection>\n          {games.map((game, idx) => (\n            <Link to={loggedInUser && loggedInUser._id === game.creator ? `/modify/${game._id}` : `/read/${game._id}`}>\n              <GameCard key={idx}>\n                <h2>{game.title}</h2>\n                <em>Nivel minimo: {game.minLevel}</em>\n                <p>{game.description.slice(0, 350)}</p>\n              </GameCard>\n            </Link>\n          ))}\n        </MainSection>\n      </MainsSectionWrapper>\n    </div>\n  );\n}\n\nexport default LastGames;\n","import axios from \"axios\";\n\nclass savedGamesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/savedGames/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getUserSaves(userId, gameId) {\n    const query = gameId ? `/user/?userId=${userId}&gameId=${gameId}` : `/user/?userId=${userId}`;\n\n    return this.service\n      .get(query)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getAllSaves(userId) {\n    const query = `/user/all/?userId=${userId}`;\n\n    return this.service\n      .get(query)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getFullSave(saveId) {\n    return this.service\n      .get(`/full/?saveId=${saveId}`)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  createSavedGame({ gameId, currentChapter, character }) {\n    return this.service\n      .post(\"\", {\n        gameId,\n        currentChapter,\n        character,\n      })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  assignSaveToUser(userId, saveId) {\n    return this.service\n      .post(\"/assign\", { userId, saveId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  updateSavedGame({ savedGameId, gameId, currentChapter, character, finished }) {\n    return this.service.patch(\"\", { savedGameId, gameId, currentChapter, character, finished }).then((res) => res.data);\n  }\n\n  deleteSave(savedGameId) {\n    return this.service\n      .delete(\"\", { savedGameId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default savedGamesService;\n","import React from \"react\";\nconst UserContext = React.createContext(false);\nexport const UserProvider = UserContext.Provider;\nexport default UserContext;\n","import React, { useEffect, useContext, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport savedGamesService from \"../services/savedGames.service\";\nimport UserContext from \"../UserContext\";\n\nfunction MyGames(props) {\n  const loggedInUser = useContext(UserContext);\n  const SavedGamesService = new savedGamesService();\n  const [savedGames, setSavedGames] = useState(null);\n  useEffect(() => {\n    SavedGamesService.getAllSaves(loggedInUser._id).then((saves) => setSavedGames(saves));\n  }, []);\n\n  return !savedGames ? (\n    <></>\n  ) : savedGames.length ? (\n    <ul>\n      {savedGames.map((save) => {\n        console.log(save);\n        return (\n          <Link to={`/read/${save.gameId._id}`}>\n            <li>{save.gameId.description}</li>\n          </Link>\n        );\n      })}\n    </ul>\n  ) : (\n    <p>Aún no tienes historias en juego</p>\n  );\n}\n\nexport default MyGames;\n","import axios from 'axios'\n\nclass authService {\n\tconstructor() {\n\t\tthis.baseURL = `${process.env.REACT_APP_API}/auth/`\n\t\tthis.service = axios.create({\n\t\t\tbaseURL: this.baseURL,\n\t\t\twithCredentials: true,\n\t\t\ttimeout: 1000 * 30,\n\t\t\ttimeoutErrorMessage: 'El servidor ha tardado demasiado tiempo en responder',\n\t\t})\n\t}\n\n\tlogin({ username, email, password }) {\n\t\treturn this.service\n\t\t\t.post('login', { username, email, password }) //add form\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log({ err })\n\t\t\t\tif (err.response.status === '401') return null\n\t\t\t\tif (err.code === 'ECONNABORTED') console.error(err.message)\n\t\t\t})\n\t}\n\n\tsignup({ username, email, password }) {\n\t\treturn this.service\n\t\t\t.post('signup', { username, email, password }) //add form\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log({ err })\n\t\t\t\tif (err.code === 'ECONNABORTED') console.error(err.message)\n\t\t\t})\n\t}\n\n\tlogout() {\n\t\treturn this.service\n\t\t\t.post('logout')\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log({ err })\n\t\t\t\tif (err.code === 'ECONNABORTED') console.error(err.message)\n\t\t\t})\n\t}\n\n\tloggedin() {\n\t\treturn this.service\n\t\t\t.get('loggedin')\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log({ err })\n\t\t\t\tif (err.code === 'ECONNABORTED') console.error(err.message)\n\t\t\t})\n\t}\n}\n\nexport default authService\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nexport const Button = (props) => {\n  const StyledButton = styled.button`\n    background-color: rgba(0, 0, 0, 1);\n    color: white;\n    border: 0.3px solid white;\n    display: inline-block;\n    font-weight: 400;\n    text-align: center;\n    vertical-align: middle;\n    -webkit-user-select: none;\n    user-select: none;\n    padding: 0.375rem 0.75rem;\n    font-size: 1rem;\n    line-height: 1.5;\n    border-radius: 0.25rem;\n    &:hover {\n      background-color: rgba(44, 44, 44, 1);\n      -webkit-box-shadow: 0px 10px 7px 1px rgba(252, 252, 252, 0.3);\n      -moz-box-shadow: 0px 1px 7px 1px rgba(252, 252, 252, 0.3);\n      box-shadow: 0px 1px 7px 1px rgba(252, 252, 252, 0.3);\n      transform: scale(1.05);\n      transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n    }\n  `;\n\n  return <StyledButton {...props}>{props.text}</StyledButton>;\n};\n\nexport const SmallButton = styled(Button)`\n  width: 100px;\n`;\n","import React, { useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport authService from \"../../services/auth.service\";\nimport { Button } from \"../Buttons\";\n\nfunction LoginForm({ setUser, onHide }) {\n  const AuthService = new authService();\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function clearForm() {\n    setUsername(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    AuthService.login({ username, email, password }).then((loggedInUser) => setUser(loggedInUser));\n    clearForm();\n    if (onHide) onHide();\n  }\n\n  function onChange(e) {\n    let { name, value } = e.currentTarget;\n    switch (name) {\n      case \"username\":\n        setUsername(value);\n        break;\n      case \"email\":\n        setEmail(value);\n        break;\n      case \"password\":\n        setPassword(value);\n        break;\n      default:\n        throw Error(\"no correct value\");\n    }\n  }\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Form.Group controlId=\"username\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control onChange={onChange} name=\"username\" value={username} type=\"text\" placeholder=\"Enter username\" />\n        <Form.Text>Choose an username.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"email\" value={email}>\n        <Form.Label>Email address</Form.Label>\n        <Form.Control onChange={onChange} name=\"email\" type=\"email\" placeholder=\"Enter email\" />\n        <Form.Text>We'll never share your email with anyone else.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"password\" value={password}>\n        <Form.Label>Password</Form.Label>\n        <Form.Control onChange={onChange} name=\"password\" type=\"password\" placeholder=\"Password\" />\n      </Form.Group>\n      <Button text=\"Submit\" type=\"submit\"></Button>\n    </Form>\n  );\n}\n\nexport default LoginForm;\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport authService from \"../../services/auth.service\";\nfunction SignupForm({ setUser, onHide }) {\n  const AuthService = new authService();\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function submitForm(e) {\n    e.preventDefault();\n    AuthService.signup({ username, email, password }).then((loggedInUser) => setUser(loggedInUser));\n    if (onHide) onHide();\n  }\n\n  function onChange(e) {\n    let { name, value } = e.currentTarget;\n    switch (name) {\n      case \"username\":\n        setUsername(value);\n        break;\n      case \"email\":\n        setEmail(value);\n        break;\n      case \"password\":\n        setPassword(value);\n        break;\n      default:\n        throw Error(\"no correct value\");\n    }\n  }\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Form.Group controlId=\"username\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control onChange={onChange} name=\"username\" value={username} type=\"text\" placeholder=\"Enter username\" />\n        <Form.Text className=\"text-muted\">Choose an username.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"email\" value={email}>\n        <Form.Label>Email address</Form.Label>\n        <Form.Control onChange={onChange} name=\"email\" type=\"email\" placeholder=\"Enter email\" />\n        <Form.Text className=\"text-muted\">We'll never share your email with anyone else.</Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"password\" value={password}>\n        <Form.Label>Password</Form.Label>\n        <Form.Control onChange={onChange} name=\"password\" type=\"password\" placeholder=\"Password\" />\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\">\n        Submit\n      </Button>\n    </Form>\n  );\n}\n\nexport default SignupForm;\n","import React, { cloneElement } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport styled from \"styled-components\";\n\nfunction CenteredModal(props) {\n  const { show, children, onHide, title, noHeader } = props;\n\n  const ThemeModal = styled.div`\n    background-color: ${(props) => props.theme.background.modals};\n    width: 40%;\n    margin: 10vh auto;\n    border-radius: 5px;\n    font-size: 1.1em;\n    color: white;\n\n    div {\n      background-color: ${(props) => props.theme.background.modals};\n    }\n  `;\n  return (\n    <Modal dialogAs={ThemeModal} show={show} onHide={onHide} size=\"lg\" aria-labelledby=\"contained-modal-title-vcenter\" centered autoFocus>\n      {!noHeader && (\n        <Modal.Header closeButton onHide={onHide}>\n          <Modal.Title id=\"contained-modal-title-vcenter\">{title}</Modal.Title>\n        </Modal.Header>\n      )}\n      <Modal.Body>{cloneElement(children, { show, onHide })}</Modal.Body>\n    </Modal>\n  );\n}\n\nexport default CenteredModal;\n","import React, { useState } from 'react'\nimport { Form } from 'react-bootstrap'\nimport gamesService from '../../services/games.service'\nimport { withRouter } from 'react-router-dom'\nimport { SmallButton } from '../Buttons'\nfunction NewGameForm(props) {\n\tconst { loggedInUser, updateLastGames, history, simple } = props\n\tconst GamesService = new gamesService()\n\tconst [title, setTitle] = useState('')\n\tconst [minLevel, setMinLevel] = useState(1)\n\tconst [description, setDescription] = useState('')\n\n\tfunction submitForm(e) {\n\t\te.preventDefault()\n\t\tif (simple) {\n\t\t\tsetMinLevel(1)\n\t\t}\n\n\t\tGamesService.createGame({ creator: loggedInUser._id, title, minLevel, description, simple }).then(createdGame => {\n\t\t\tupdateLastGames()\n\t\t\tconsole.log(createdGame)\n\t\t\thistory.push(`/modify/${createdGame._id}`)\n\t\t\tconsole.log(createdGame)\n\t\t})\n\t}\n\n\tfunction onChange(e) {\n\t\tconst { name, value } = e.currentTarget\n\t\tswitch (name) {\n\t\t\tcase 'title':\n\t\t\t\tsetTitle(value)\n\t\t\t\tbreak\n\t\t\tcase 'description':\n\t\t\t\tsetDescription(value)\n\t\t\t\tbreak\n\t\t\tcase 'minLevel':\n\t\t\t\tsetMinLevel(value)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow Error('Algo ha ido mal con el formulario')\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Crear un nuevo juego es muy sencillo tan solo necesitas...</h2>\n\t\t\t<Form onSubmit={submitForm}>\n\t\t\t\t<Form.Group controlId='title'>\n\t\t\t\t\t<Form.Label>Elegir un titulo:</Form.Label>\n\t\t\t\t\t<Form.Control name='title' onChange={onChange} value={title} type='text' placeholder='El titulo de tu historia!' />\n\t\t\t\t</Form.Group>\n\n\t\t\t\t{!simple && (\n\t\t\t\t\t<Form.Group controlId='minLevel'>\n\t\t\t\t\t\t<Form.Label>Un nivel mínimo para comenzar la aventura:</Form.Label>\n\t\t\t\t\t\t<p>{minLevel}</p>\n\t\t\t\t\t\t<Form.Control name='minLevel' onChange={onChange} value={minLevel} type='range' min='1' max='20' step='1' placeholder='Ej: 5' />\n\t\t\t\t\t\t<Form.Text className='text-muted'>\n\t\t\t\t\t\t\tLas aventuras básicas comienzan en nivel 1, de 8 a 14 ya son todo un reto, a partir de ahí los heroes pueden luchar contra los\n\t\t\t\t\t\t\tmismos dioses.\n\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t)}\n\n\t\t\t\t<Form.Group controlId='description'>\n\t\t\t\t\t<Form.Label>El resumen de tu aventura! Hazlo atractivo de forma que la gente quiera jugarla ;)</Form.Label>\n\t\t\t\t\t<Form.Control name='description' onChange={onChange} value={description} type='text' placeholder='El titulo de tu historia!' />\n\t\t\t\t</Form.Group>\n\t\t\t\t<SmallButton type='submit' text='Crear' />\n\t\t\t</Form>\n\t\t</div>\n\t)\n}\n\nexport default withRouter(NewGameForm)\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst ImageFiltered = styled.img`\n  z-index: -9000;\n  opacity: 0.5;\n  filter: blur(1px);\n  filter: contrast(80%);\n`;\n\nexport const BackgroundImage = (props) => {\n  return <ImageFiltered {...props} />;\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { BackgroundImage } from \"../Images\";\nimport EasyDice from \"./assets/d6book.svg\";\nimport D20Dice from \"./assets/d20.svg\";\n\nfunction ModeSelect(props) {\n  const { setMode } = props;\n  const ModeWrapper = styled(Row)`\n    align-items: center;\n    height: calc(60vh);\n  `;\n  const ModeBox = styled(Col)`\n    text-align: center;\n    font-size: 3rem;\n\n    &:hover {\n      cursor: pointer;\n      transform: scale(1.2);\n      p {\n        text-shadow: 0px 10px 10px white;\n        border-top: 1px solid white;\n      }\n    }\n  `;\n\n  const LeftBackgroundImage = styled(BackgroundImage)`\n    position: absolute;\n    left: 0px;\n    top: -40px;\n    max-height: 200px;\n    max-width: 200px;\n    transform: rotate(-15deg);\n  `;\n\n  const RightBackgroundImage = styled(BackgroundImage)`\n    position: absolute;\n    right: 0px;\n    top: -40px;\n    max-height: 200px;\n    max-width: 200px;\n    transform: rotate(15deg);\n  `;\n\n  return (\n    <ModeWrapper>\n      <ModeBox onClick={() => setMode(true)}>\n        <LeftBackgroundImage src={EasyDice} />\n        <p>Historia simple</p>\n      </ModeBox>\n      <ModeBox onClick={() => setMode(false)}>\n        <RightBackgroundImage src={D20Dice} />\n        <p>Aventura de Rol</p>\n      </ModeBox>\n    </ModeWrapper>\n  );\n}\n\nexport default ModeSelect;\n","import React, { useState } from \"react\";\nimport NewGameForm from \"../components/Game/NewGameForm\";\nimport ModeSelect from \"../components/Game/ModeSelect\";\nfunction NewGame({ loggedInUser, updateLastGames }) {\n  const [simple, setSimple] = useState(null);\n  if (simple === null) {\n    return <ModeSelect setMode={setSimple} />;\n  } else {\n    return <NewGameForm simple={simple} updateLastGames={updateLastGames} loggedInUser={loggedInUser}></NewGameForm>;\n  }\n}\n\nexport default NewGame;\n","import axios from \"axios\";\n\nclass choicesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/choices/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getChoicesFromChapter(id) {\n    return this.service\n      .get(`/?chapterId=${id}`)\n      .then((res) => res.data.choicesFound)\n      .catch((err) => console.log(err));\n  }\n\n  createChoice({ description, trial, successTargetChapter, failureTargetChapter, pxGranted }) {\n    return this.service\n      .post(\"\", { description, trial, successTargetChapter, failureTargetChapter, pxGranted })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  updateChoice(choice) {\n    return this.service\n      .patch(\"/\", choice)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  deleteChoice(choiceId) {\n    return this.service\n      .delete(\"\", { choiceId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default choicesService;\n","import axios from \"axios\";\n\nclass gamesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/chapters/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getChapter(id) {\n    return this.service\n      .get(`/?chapterId=${id}`)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  getChaptersFromGame(id) {\n    return this.service\n      .get(`/fromGame/?gameId=${id}`)\n      .then((res) => res.data.chapters)\n      .catch((err) => console.log(err));\n  }\n\n  createChapter({ description, choices, gameId, title, last }) {\n    return this.service\n      .post(\"\", { description, choices, gameId, title, last })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  updateChapter(chapter) {\n    return this.service\n      .patch(\"/\", chapter)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default gamesService;\n","import React, { useState, useEffect } from 'react'\nimport { Card, Form, Button } from 'react-bootstrap'\nimport choicesService from '../../services/choices.service'\nimport chapterService from '../../services/chapter.service'\nimport { withRouter } from 'react-router-dom'\nconst ChapterService = new chapterService()\nconst ChoicesService = new choicesService()\n\nfunction ChoiceForm(props) {\n\tconst { finishChoiceForm, idx, choice, toogleCard, closeChoiceForm, match, simple } = props\n\tconst [description, setDescription] = useState(choice ? choice.description : '')\n\tconst [difficulty, setDifficulty] = useState(choice ? choice.trial.difficulty : 10)\n\tconst [characteristic, setCharacteristic] = useState(choice ? choice.trial.characteristic : 'str')\n\tconst [pxGranted, setPxGranted] = useState(choice ? choice.pxGranted : 0)\n\tconst [successTargetChapter, setSuccessTargetChapter] = useState(choice ? choice.successTargetChapter : null)\n\tconst [failureTargetChapter, setFailureTargetChapter] = useState(choice ? choice.failureTargetChapter : null)\n\tconst [chapterList, setChapterList] = useState([])\n\n\tuseEffect(() => {\n\t\tChapterService.getChaptersFromGame(match.params.gameId).then(chapterList => {\n\t\t\tsetChapterList(chapterList)\n\t\t})\n\t}, [match.params.gameId])\n\n\tfunction createChoice(choice) {\n\t\tChoicesService.createChoice(choice).then(createdChoice => {\n\t\t\tfinishChoiceForm(createdChoice._id, idx, createdChoice)\n\t\t})\n\t}\n\n\tfunction updateChoice(choice) {\n\t\tChoicesService.updateChoice(choice).then(updatedChoice => {\n\t\t\ttoogleCard(idx)\n\t\t})\n\t}\n\n\tfunction submitForm(e) {\n\t\te.preventDefault()\n\t\tconst trial = { difficulty, characteristic }\n\t\tif (choice && simple) {\n\t\t\tchoice.trial = { difficulty: -10, characteristic: 'str' }\n\t\t\tchoice.description = description\n\t\t\tchoice.pxGranted = 0\n\t\t\tchoice.successTargetChapter = successTargetChapter\n\t\t\tchoice.failureTargetChapter = successTargetChapter\n\t\t\tupdateChoice(choice)\n\t\t} else if (choice) {\n\t\t\tchoice.trial = trial\n\t\t\tchoice.description = description\n\t\t\tchoice.pxGranted = pxGranted\n\t\t\tchoice.successTargetChapter = successTargetChapter\n\t\t\tchoice.failureTargetChapter = failureTargetChapter\n\t\t\tupdateChoice(choice)\n\t\t} else if (simple) {\n\t\t\tconsole.log('creación simple')\n\t\t\tconst newChoice = {\n\t\t\t\tdescription,\n\t\t\t\ttrial: { difficulty: -10, characteristic: 'str' },\n\t\t\t\tpxGranted: 0,\n\t\t\t\tsuccessTargetChapter,\n\t\t\t\tfailureTargetChapter: successTargetChapter,\n\t\t\t}\n\t\t\tconsole.log(newChoice, 'choice pa tu body')\n\t\t\tcreateChoice(newChoice)\n\t\t} else {\n\t\t\tconst newChoice = { description, trial, pxGranted, successTargetChapter, failureTargetChapter }\n\t\t\tcreateChoice(newChoice)\n\t\t}\n\t}\n\n\tfunction onChange(e) {\n\t\tconst { name, value } = e.currentTarget\n\t\tswitch (name) {\n\t\t\tcase 'description':\n\t\t\t\tsetDescription(value)\n\t\t\t\tbreak\n\t\t\tcase 'difficulty':\n\t\t\t\tsetDifficulty(value)\n\t\t\t\tbreak\n\t\t\tcase 'characteristic':\n\t\t\t\tconsole.log(value)\n\t\t\t\tsetCharacteristic(value)\n\t\t\t\tbreak\n\t\t\tcase 'pxGranted':\n\t\t\t\tconsole.log(value)\n\t\t\t\tsetPxGranted(value)\n\t\t\t\tbreak\n\t\t\tcase 'successTargetChapter':\n\t\t\t\tconsole.log(value)\n\t\t\t\tsetSuccessTargetChapter(value)\n\t\t\t\tbreak\n\t\t\tcase 'failureTargetChapter':\n\t\t\t\tconsole.log(value)\n\t\t\t\tsetFailureTargetChapter(value)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow Error('Algo ha ido mal con el formulario')\n\t\t}\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<Form onSubmit={submitForm} className='choiceForm'>\n\t\t\t\t<Card.Header style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tcloseChoiceForm ? closeChoiceForm(idx) : toogleCard(idx)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{ width: '40px' }}\n\t\t\t\t\t\tvariant='danger'\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className='fas fa-times'></i>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button type='submit' style={{ width: '40px' }} variant='success'>\n\t\t\t\t\t\t<i className='fas fa-check'></i>\n\t\t\t\t\t</Button>\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<Form.Group controlId='choice'>\n\t\t\t\t\t\t<Form.Label>Describe la elección:</Form.Label>\n\t\t\t\t\t\t<Form.Control as='textarea' name='description' onChange={onChange} value={description} placeholder='Fuerzo la puerta' />\n\n\t\t\t\t\t\t{!simple && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Form.Label>¿Que dificultad tiene?</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control type='number' name='difficulty' onChange={onChange} value={difficulty} />\n\t\t\t\t\t\t\t\t{choice ? null : (\n\t\t\t\t\t\t\t\t\t<Form.Text>\n\t\t\t\t\t\t\t\t\t\tDificultades de 10 son adecuadas para una persona media, 15 son para expertos y 20 para verdaderos prodígios.\n\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Form.Label>¿Qué caracteristica es necesaria para superarla?</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control onChange={onChange} name='characteristic' as='select' custom>\n\t\t\t\t\t\t\t\t\t<option value='str'>Fuerza</option>\n\t\t\t\t\t\t\t\t\t<option value='des'>Destreza</option>\n\t\t\t\t\t\t\t\t\t<option value='agi'>Agilidad, velocidad</option>\n\t\t\t\t\t\t\t\t\t<option value='con'>Constitución física</option>\n\t\t\t\t\t\t\t\t\t<option value='int'>Inteligencia</option>\n\t\t\t\t\t\t\t\t\t<option value='wis'>Sabiduría</option>\n\t\t\t\t\t\t\t\t\t<option value='char'>Carisma</option>\n\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t{!simple && (\n\t\t\t\t\t\t<Form.Group controlId='choice'>\n\t\t\t\t\t\t\t<Form.Label>Cuanta experiencia da el éxito:</Form.Label>\n\t\t\t\t\t\t\t<Form.Control name='pxGranted' onChange={onChange} value={pxGranted} placeholder='100' type='number' />\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t)}\n\t\t\t\t</Card.Body>\n\t\t\t\t<Form.Group controlId='successTargetChapter'>\n\t\t\t\t\t<Form.Label>{!simple ? 'Cap de destino con exito:' : 'Cap de destino'}</Form.Label>\n\t\t\t\t\t<Form.Control as='select' custom name='successTargetChapter' onChange={onChange}>\n\t\t\t\t\t\t<option value='null'>Ninguno</option>\n\t\t\t\t\t\t{chapterList.map(chapter =>\n\t\t\t\t\t\t\tchapter._id === successTargetChapter ? (\n\t\t\t\t\t\t\t\t<option dangerouslySetInnerHTML={{ __html: chapter.title }} selected value={chapter._id}></option>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<option dangerouslySetInnerHTML={{ __html: chapter.title }} value={chapter._id}></option>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Form.Control>\n\t\t\t\t</Form.Group>\n\t\t\t\t{!simple && (\n\t\t\t\t\t<Form.Group controlId='failureTargetChapter'>\n\t\t\t\t\t\t<Form.Label>Cap de destino con fracaso:</Form.Label>\n\t\t\t\t\t\t<Form.Control as='select' name='failureTargetChapter' custom onChange={onChange}>\n\t\t\t\t\t\t\t<option value='null'>Ninguno</option>\n\t\t\t\t\t\t\t{chapterList.map(chapter =>\n\t\t\t\t\t\t\t\tchapter._id === failureTargetChapter ? (\n\t\t\t\t\t\t\t\t\t<option dangerouslySetInnerHTML={{ __html: chapter.title }} selected value={chapter._id}></option>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<option dangerouslySetInnerHTML={{ __html: chapter.title }} value={chapter._id}></option>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t)}\n\t\t\t</Form>\n\t\t</Card>\n\t)\n}\n\nexport default withRouter(ChoiceForm)\n","import React, { useState, useEffect } from 'react'\nimport choicesService from '../../services/choices.service'\nimport chapterService from '../../services/chapter.service'\nimport styled from 'styled-components'\nimport { withRouter } from 'react-router-dom'\n\nconst ChoiceFormWrapper = styled.div`\n\tborder: ${props => '1px solid ' + props.theme.colors.general};\n\tmargin: 15px 0;\n\tcolor: ${props => props.theme.colors.light};\n\tform {\n\t\tborder-top: 1px solid rgba(200, 200, 200, 1);\n\t\tbackground-color: ${props => props.theme.background.modals};\n\t}\n`\n\nconst Row = styled.div`\n\tdisplay: flex;\n\tbackground-color: ${props => props.theme.background.modals};\n\tpadding: 10px;\n`\n\nconst Col4 = styled.div`\n\twidth: 25%;\n\t/* background-color: ${props => props.theme.background.modals}; */\n`\n\nfunction ChoiceFormRow(props) {\n\tconst { finishChoiceForm, idx, choice, toogleCard, closeChoiceForm, match, simple } = props\n\tconst ChapterService = new chapterService()\n\tconst ChoicesService = new choicesService()\n\tconst [description, setDescription] = useState(choice ? choice.description : '')\n\tconst [difficulty, setDifficulty] = useState(choice ? choice.trial.difficulty : 10)\n\tconst [characteristic, setCharacteristic] = useState(choice ? choice.trial.characteristic : 'str')\n\tconst [pxGranted, setPxGranted] = useState(choice ? choice.pxGranted : 0)\n\tconst [successTargetChapter, setSuccessTargetChapter] = useState(choice ? choice.successTargetChapter : null)\n\tconst [failureTargetChapter, setFailureTargetChapter] = useState(choice ? choice.failureTargetChapter : null)\n\tconst [chapterList, setChapterList] = useState([])\n\n\tuseEffect(() => {\n\t\tChapterService.getChaptersFromGame(match.params.gameId).then(chapterList => {\n\t\t\tsetChapterList(chapterList)\n\t\t})\n\t}, [match.params.gameId, ChapterService])\n\n\tfunction createChoice(choice) {\n\t\tChoicesService.createChoice(choice).then(createdChoice => {\n\t\t\tfinishChoiceForm(createdChoice._id, idx, createdChoice)\n\t\t})\n\t}\n\n\tfunction updateChoice(choice) {\n\t\tChoicesService.updateChoice(choice).then(updatedChoice => {\n\t\t\ttoogleCard(idx)\n\t\t})\n\t}\n\n\tfunction submitForm(e) {\n\t\te.preventDefault()\n\t\tconst trial = { difficulty, characteristic }\n\t\tif (choice && simple) {\n\t\t\tchoice.trial = { difficulty: -10, characteristic: 'str' }\n\t\t\tchoice.description = description\n\t\t\tchoice.pxGranted = 0\n\t\t\tchoice.successTargetChapter = successTargetChapter\n\t\t\tchoice.failureTargetChapter = successTargetChapter\n\t\t\tupdateChoice(choice)\n\t\t} else if (choice) {\n\t\t\tchoice.trial = trial\n\t\t\tchoice.description = description\n\t\t\tchoice.pxGranted = pxGranted\n\t\t\tchoice.successTargetChapter = successTargetChapter\n\t\t\tchoice.failureTargetChapter = failureTargetChapter\n\t\t\tupdateChoice(choice)\n\t\t} else if (simple) {\n\t\t\tconsole.log('creación simple')\n\t\t\tconst newChoice = {\n\t\t\t\tdescription,\n\t\t\t\ttrial: { difficulty: -10, characteristic: 'str' },\n\t\t\t\tpxGranted: 0,\n\t\t\t\tsuccessTargetChapter,\n\t\t\t\tfailureTargetChapter: successTargetChapter,\n\t\t\t}\n\t\t\tconsole.log(newChoice, 'choice pa tu body')\n\t\t\tcreateChoice(newChoice)\n\t\t} else {\n\t\t\tconst newChoice = { description, trial, pxGranted, successTargetChapter, failureTargetChapter }\n\t\t\tcreateChoice(newChoice)\n\t\t}\n\t}\n\n\tfunction onChange(e) {\n\t\tconst { name, value } = e.currentTarget\n\t\tswitch (name) {\n\t\t\tcase 'description':\n\t\t\t\tsetDescription(value)\n\t\t\t\tbreak\n\t\t\tcase 'difficulty':\n\t\t\t\tsetDifficulty(value)\n\t\t\t\tbreak\n\t\t\tcase 'characteristic':\n\t\t\t\tconsole.log(value)\n\t\t\t\tsetCharacteristic(value)\n\t\t\t\tbreak\n\t\t\tcase 'pxGranted':\n\t\t\t\tconsole.log(value)\n\t\t\t\tsetPxGranted(value)\n\t\t\t\tbreak\n\t\t\tcase 'successTargetChapter':\n\t\t\t\tconsole.log(value)\n\t\t\t\tsetSuccessTargetChapter(value)\n\t\t\t\tbreak\n\t\t\tcase 'failureTargetChapter':\n\t\t\t\tconsole.log(value)\n\t\t\t\tsetFailureTargetChapter(value)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow Error('Algo ha ido mal con el formulario')\n\t\t}\n\t}\n\n\treturn (\n\t\t<ChoiceFormWrapper>\n\t\t\t<Row>\n\t\t\t\t<div\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcloseChoiceForm ? closeChoiceForm(idx) : toogleCard(idx)\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tborderRadius: '5px',\n\t\t\t\t\t\tpadding: '2px',\n\t\t\t\t\t\tmarginRight: '20px',\n\t\t\t\t\t\theight: '30px',\n\t\t\t\t\t\twidth: '30px',\n\t\t\t\t\t\tbackgroundColor: 'red',\n\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<i className='fas fa-times'></i>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tonClick={submitForm}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tborderRadius: '5px',\n\t\t\t\t\t\tpadding: '2px',\n\t\t\t\t\t\tmarginRight: '20px',\n\t\t\t\t\t\theight: '30px',\n\t\t\t\t\t\twidth: '30px',\n\t\t\t\t\t\tbackgroundColor: 'green',\n\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<i className='fas fa-check'></i>\n\t\t\t\t</div>\n\t\t\t</Row>\n\t\t\t<form onSubmit={submitForm} className='choiceForm'>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col4>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tDescribe la elección:\n\t\t\t\t\t\t\t<textarea id='description' name='description' onChange={onChange} value={description} placeholder='Fuerzo la puerta' />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</Col4>\n\t\t\t\t\t<Col4>\n\t\t\t\t\t\t{!simple && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t¿Que dificultad tiene?\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid='difficulty'\n\t\t\t\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\t\t\t\tname='difficulty'\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\tvalue={difficulty}\n\t\t\t\t\t\t\t\t\t\tplaceholder='Fuerzo la puerta'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t{choice ? null : (\n\t\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t\tDificultades de 10 son adecuadas para una persona media, 15 son para expertos y 20 para verdaderos prodígios.\n\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t¿Qué caracteristica es necesaria para superarla?\n\t\t\t\t\t\t\t\t\t<select id='characteristic' onChange={onChange} name='characteristic'>\n\t\t\t\t\t\t\t\t\t\t<option value='str'>Fuerza</option>\n\t\t\t\t\t\t\t\t\t\t<option value='des'>Destreza</option>\n\t\t\t\t\t\t\t\t\t\t<option value='agi'>Agilidad, velocidad</option>\n\t\t\t\t\t\t\t\t\t\t<option value='con'>Constitución física</option>\n\t\t\t\t\t\t\t\t\t\t<option value='int'>Inteligencia</option>\n\t\t\t\t\t\t\t\t\t\t<option value='wis'>Sabiduría</option>\n\t\t\t\t\t\t\t\t\t\t<option value='char'>Carisma</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Col4>\n\t\t\t\t\t<Col4>\n\t\t\t\t\t\t{!simple && (\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\tCuanta experiencia da el éxito:\n\t\t\t\t\t\t\t\t<input id='pxGranted' name='pxGranted' onChange={onChange} value={pxGranted} placeholder='100' type='number' />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Col4>\n\t\t\t\t\t<Col4>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t{!simple ? 'Cap de destino con exito:' : 'Cap de destino'}\n\t\t\t\t\t\t\t<select id='successTargetChapter' name='successTargetChapter' onChange={onChange}>\n\t\t\t\t\t\t\t\t<option value='null'>Ninguno</option>\n\t\t\t\t\t\t\t\t{chapterList.map(chapter =>\n\t\t\t\t\t\t\t\t\tchapter._id === successTargetChapter ? (\n\t\t\t\t\t\t\t\t\t\t<option selected value={chapter._id}>\n\t\t\t\t\t\t\t\t\t\t\t{chapter.title}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<option value={chapter._id}>{chapter.title}</option>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t{!simple && (\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\tCap de destino con fracaso:\n\t\t\t\t\t\t\t\t<select id='failuterTargetChapter' as='select' name='failureTargetChapter' custom onChange={onChange}>\n\t\t\t\t\t\t\t\t\t<option value='null'>Ninguno</option>\n\t\t\t\t\t\t\t\t\t{chapterList.map(chapter =>\n\t\t\t\t\t\t\t\t\t\tchapter._id === failureTargetChapter ? (\n\t\t\t\t\t\t\t\t\t\t\t<option selected value={chapter._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{chapter.title}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<option value={chapter._id}>{chapter.title}</option>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Col4>\n\t\t\t\t</Row>\n\t\t\t</form>\n\t\t</ChoiceFormWrapper>\n\t)\n}\n\nexport default withRouter(ChoiceFormRow)\n","import React from \"react\";\nimport { Card } from \"react-bootstrap\";\nfunction ChoiceCard({ choice, idx, toogleCard, simple }) {\n  function returnCharacteristic(characteristic) {\n    let result;\n    switch (characteristic) {\n      case \"str\":\n        result = \"Fuerza\";\n        break;\n      case \"des\":\n        result = \"Destreza\";\n        break;\n      case \"agi\":\n        result = \"Agilidad, velocidad\";\n        break;\n      case \"con\":\n        result = \"Constitución\";\n        break;\n      case \"wis\":\n        result = \"Sabiduría\";\n        break;\n      case \"int\":\n        result = \"Inteligencia\";\n        break;\n      case \"char\":\n        result = \"Carisma\";\n        break;\n      default:\n        throw Error(\"algo fue mal con la card de la choice\");\n    }\n    return result;\n  }\n\n  return (\n    <Card>\n      <Card.Header onClick={() => toogleCard(idx)}>Editar</Card.Header>\n      <Card.Body\n        style={{\n          color: \"black\",\n          backgroundColor: choice.successTargetChapter && choice.failureTargetChapter ? \"rgba(0,255,127, 0.3)\" : \"rgba(255,165,0, 0.5)\",\n        }}\n      >\n        <p>{choice.description}</p>\n        {!simple && (\n          <>\n            <p>{returnCharacteristic(choice.trial.characteristic)}</p>\n            <p>{choice.trial.difficulty}</p>\n            <p>{choice.pxGranted}</p>\n          </>\n        )}\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default ChoiceCard;\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { Button, Row, Col } from 'react-bootstrap'\nimport ChoiceForm from '../Choice/ChoiceForm'\nimport ChoiceFormRow from '../Choice/ChoiceFormRow'\nimport ChoiceCard from '../Choice/ChoiceCard'\nimport chapterService from '../../services/chapter.service'\nimport { withRouter } from 'react-router-dom'\nimport CKEditor from '@ckeditor/ckeditor5-react'\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic'\nimport CenteredModal from '../utils/Modal'\nimport styled from 'styled-components'\nconst ChapterService = new chapterService()\n\n//#region styles\nconst ChapterFormWrapper = styled.div`\n\ttransition: height 400s ease-out;\n\theight: ${props => (!props.ready ? '15px' : 'auto')};\n\t/* background-color: ${props => (!props.ready ? 'red' : 'white')}; */\n`\n\nconst EditorWrapper = styled.div`\n\tmargin-bottom: 10px;\n\tcolor: black;\n`\n//#endregion styles\n\nfunction NewChapterForm(props) {\n\tconst { updateLastGames, match, chapterId, getAllChapters, closeNewChapterForm, simple } = props\n\n\tlet gameId = match.params.gameId\n\n\tconst [description, setDescription] = useState('')\n\tconst [choices, setChoices] = useState([])\n\tconst [choicesObj, setChoicesObj] = useState([])\n\tconst [choiceForms, setChoiceForms] = useState([])\n\tconst [ready, setReady] = useState(false)\n\tconst [title, setTitle] = useState('')\n\tconst [last, setLast] = useState(false)\n\n\tconst populateThisChapter = useCallback(() => {\n\t\tif (chapterId) {\n\t\t\tChapterService.getChapter(chapterId).then(chapter => {\n\t\t\t\tsetTitle(chapter.title)\n\t\t\t\tsetDescription(chapter.description)\n\t\t\t\tsetChoicesObj(chapter.choices)\n\t\t\t\tsetChoices(chapter.choices.filter(choice => choice._id))\n\t\t\t\tsetReady(true)\n\t\t\t\tsetLast(chapter.last)\n\t\t\t})\n\t\t}\n\t}, [chapterId])\n\n\tuseEffect(() => {\n\t\tpopulateThisChapter()\n\t}, [populateThisChapter])\n\n\t//#region Form Manipulation\n\n\tfunction retrieveChoicesIds(id, idx) {\n\t\tconst choicesCopy = [...choices]\n\t\tchoicesCopy.push(id)\n\t\tsetChoices(choicesCopy)\n\t}\n\n\tfunction createChoiceCard(choiceObj) {\n\t\tconst choicesObjCopy = [...choicesObj]\n\t\tchoicesObjCopy.push(choiceObj)\n\t\tsetChoicesObj(choicesObjCopy)\n\t}\n\n\tfunction finishChoiceForm(id, idx, choiceObj) {\n\t\tretrieveChoicesIds(id, idx)\n\t\tcreateChoiceCard(choiceObj)\n\t\tcloseChoiceForm(idx)\n\t}\n\n\tfunction closeChoiceForm(idx) {\n\t\tconst choiceFormsCopy = [...choiceForms]\n\t\tchoiceFormsCopy.splice(idx, 1)\n\t\tsetChoiceForms(choiceFormsCopy)\n\t}\n\n\tfunction submitForm(e) {\n\t\te.preventDefault()\n\t\tif (!description) return\n\t\tif (chapterId) {\n\t\t\tupdateChapter({ _id: chapterId, description, choices, title, last })\n\t\t} else {\n\t\t\tcreateChapter({ description, choices, gameId, title, last })\n\t\t\tcloseNewChapterForm()\n\t\t}\n\t}\n\n\tfunction addChoice() {\n\t\tconst choiceFormsCopy = [...choiceForms]\n\t\tchoiceFormsCopy.push(true)\n\t\tsetChoiceForms(choiceFormsCopy)\n\t}\n\n\tfunction toogleCard(idx) {\n\t\tconsole.log(idx)\n\t\tconst choicesObjCopy = [...choicesObj]\n\t\tconst choiceCopy = { ...choicesObjCopy[idx] }\n\t\tchoiceCopy.show = !choicesObj[idx].show\n\t\tchoicesObjCopy.splice(idx, 1, choiceCopy)\n\t\tsetChoicesObj(choicesObjCopy)\n\t}\n\n\tfunction onChange(e) {\n\t\tconst { name, value, checked } = e.currentTarget\n\t\tswitch (name) {\n\t\t\tcase 'title':\n\t\t\t\tsetTitle(value)\n\t\t\t\tbreak\n\t\t\tcase 'last':\n\t\t\t\tconsole.log(checked)\n\t\t\t\tsetLast(checked)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow Error('Error onChange')\n\t\t}\n\t}\n\n\t//#endregion Form Manipulation\n\n\tfunction createChapter(chapter) {\n\t\tChapterService.createChapter(chapter)\n\t\t\t.then(x => {\n\t\t\t\tgetAllChapters()\n\t\t\t\tupdateLastGames()\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\tfunction updateChapter(chapter) {\n\t\tChapterService.updateChapter(chapter)\n\t\t\t.then(updatedChapter => {\n\t\t\t\tupdateLastGames()\n\t\t\t\tpopulateThisChapter()\n\t\t\t\tgetAllChapters()\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\treturn (\n\t\tchapterId && (\n\t\t\t<ChapterFormWrapper ready={ready}>\n\t\t\t\t{!ready ? (\n\t\t\t\t\t<p>loading</p>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tTítulo del capítulo:\n\t\t\t\t\t\t\t<input onChange={onChange} placeholder='#1.0 El comienzo' name='title' value={title} maxLength='230'></input>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div className='.ck-editor'>\n\t\t\t\t\t\t\t<EditorWrapper>\n\t\t\t\t\t\t\t\t<CKEditor\n\t\t\t\t\t\t\t\t\teditor={ClassicEditor}\n\t\t\t\t\t\t\t\t\tdata={description}\n\t\t\t\t\t\t\t\t\tplaceholder='El texto del capitulo va aquí'\n\t\t\t\t\t\t\t\t\tonInit={editor => {\n\t\t\t\t\t\t\t\t\t\t// You can store the \"editor\" and use when it is needed.\n\t\t\t\t\t\t\t\t\t\tconsole.log('Editor is ready to use!', editor)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonChange={(event, editor) => {\n\t\t\t\t\t\t\t\t\t\tconst data = editor.getData()\n\t\t\t\t\t\t\t\t\t\tsetDescription(data)\n\t\t\t\t\t\t\t\t\t\tconsole.log({ event, editor, data })\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonBlur={(event, editor) => {\n\t\t\t\t\t\t\t\t\t\tconsole.log('Blur.', editor)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonFocus={(event, editor) => {\n\t\t\t\t\t\t\t\t\t\tconsole.log('Focus.', editor)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</EditorWrapper>\n\t\t\t\t\t\t\t<div style={{ margin: '10px 0' }}>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t{choicesObj.map((eachChoice, idx) => (\n\t\t\t\t\t\t\t\t\t\t<Col key={idx} lg={3}>\n\t\t\t\t\t\t\t\t\t\t\t{!eachChoice.show ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<ChoiceCard toogleCard={toogleCard} choice={eachChoice} idx={idx} simple={simple} />\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<CenteredModal noHeader show={true}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ChoiceForm simple={simple} toogleCard={toogleCard} choice={eachChoice} idx={idx} />\n\t\t\t\t\t\t\t\t\t\t\t\t</CenteredModal>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<div style={{ margin: '10px 0' }}>\n\t\t\t\t\t\t\t\t\t<Button style={{ margin: '0 5px' }} onClick={addChoice}>\n\t\t\t\t\t\t\t\t\t\tAñadir elección\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button style={{ margin: '0 5px' }} onClick={submitForm}>\n\t\t\t\t\t\t\t\t\t\t{chapterId ? 'Guardar cambios' : 'Crear'}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{choiceForms.map((eachform, idx) => (\n\t\t\t\t\t\t\t\t<div key={idx}>{React.cloneElement(<ChoiceFormRow />, { idx, finishChoiceForm, closeChoiceForm, simple })}</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\tLast chapter?\n\t\t\t\t\t\t\t\t\t<input onChange={onChange} name='last' checked={last} type='checkbox' />\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</ChapterFormWrapper>\n\t\t)\n\t)\n}\n\nexport default withRouter(NewChapterForm)\n","import React, { useState, useEffect, useCallback } from 'react'\nimport gameService from '../services/games.service'\nimport NewChapterForm from '../components/Chapter/NewChapterForm'\nimport chapterService from '../services/chapter.service'\nimport styled, { createGlobalStyle } from 'styled-components'\nimport { Button } from '../components/Buttons'\nconst ChapterService = new chapterService()\nconst GameService = new gameService()\n\nconst List = styled.div`\n\tbackground-color: ${props => props.theme.background.modals};\n\tborder-radius: 2px;\n\tpadding: 15px;\n\ttransition: all 2s;\n`\n\nconst ListPoint = styled.div`\n\tborder-radius: 3px;\n\tbackground-color: ${props => props.theme.background.list};\n\tpadding: 15px;\n\tmargin-bottom: 15px;\n\ttransition: all 2s;\n\t&:hover {\n\t}\n`\n\nfunction EditChapters({ loggedInUser, updateLastGames, match, history }) {\n\tconst RestaurateScroll = createGlobalStyle`\n    html, body {\n      overflow: auto\n    }\n  `\n\tconst [allChapters, setallChapters] = useState([])\n\tconst [showNewForm, setShowNewForm] = useState(false)\n\tconst [simple, setSimple] = useState(null)\n\n\tconst checkOwnership = useCallback(() => {\n\t\tGameService.getOneGame(match.params.gameId).then(game => {\n\t\t\tsetSimple(game.simple)\n\t\t\tif (!(game.creator === loggedInUser._id)) history.replace(`/read/${match.params.gameId}`)\n\t\t})\n\t}, [match.params.gameId, history, loggedInUser])\n\n  const getAllChapters = useCallback(\n\t\tChapterService.getChaptersFromGame(match.params.gameId).then(allChapters => {\n\t\t\tsetallChapters(allChapters)\n\t\t}, [match.params.gameId])\n\t)\n\n\tfunction expandChapter(idx) {\n\t\tconst allChaptersCopy = [...allChapters]\n\t\tconst chapterCopy = { ...allChaptersCopy[idx] }\n\t\tchapterCopy.show = !allChapters[idx].show\n\t\tallChaptersCopy.splice(idx, 1, chapterCopy)\n\t\tsetallChapters(allChaptersCopy)\n\t}\n\n\tuseEffect(() => {\n\t\tcheckOwnership()\n\t}, [loggedInUser, checkOwnership])\n\n\tuseEffect(() => {\n\t\tgetAllChapters()\n\t}, [getAllChapters])\n\n\treturn (\n\t\t<>\n\t\t\t<RestaurateScroll />\n\t\t\t{allChapters.length ? (\n\t\t\t\t<List>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h1>Edita los capitulos ya creados</h1>\n\t\t\t\t\t\t{allChapters.map((chapter, idx) => (\n\t\t\t\t\t\t\t<ListPoint>\n\t\t\t\t\t\t\t\t<div style={{ width: '100%' }} active={chapter.show} onClick={() => expandChapter(idx)}>\n\t\t\t\t\t\t\t\t\t<p dangerouslySetInnerHTML={{ __html: chapter.title }} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{chapter.show && (\n\t\t\t\t\t\t\t\t\t<NewChapterForm\n\t\t\t\t\t\t\t\t\t\tsimple={simple}\n\t\t\t\t\t\t\t\t\t\tchapterId={chapter._id}\n\t\t\t\t\t\t\t\t\t\tgetAllChapters={getAllChapters}\n\t\t\t\t\t\t\t\t\t\tloggedInUser={loggedInUser}\n\t\t\t\t\t\t\t\t\t\tupdateLastGames={updateLastGames}\n\t\t\t\t\t\t\t\t\t></NewChapterForm>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ListPoint>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</List>\n\t\t\t) : null}\n\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t<div style={{ margin: '10px 0' }}>\n\t\t\t\t\t\t<h1>Escribe un nuevo capitulo</h1>\n\t\t\t\t\t\t<div onClick={() => setShowNewForm(!showNewForm)}>\n\t\t\t\t\t\t\t<Button text={allChapters.length ? 'Escribe un nuevo capitulo' : 'Escribe el primer capítulo'} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{showNewForm && (\n\t\t\t\t\t\t<div style={{ backgroundColor: 'rgba(255, 255, 255, 0.1)', padding: '10px' }}>\n\t\t\t\t\t\t\t<NewChapterForm\n\t\t\t\t\t\t\t\tsimple={simple}\n\t\t\t\t\t\t\t\tcloseNewChapterForm={() => setShowNewForm(false)}\n\t\t\t\t\t\t\t\tgetAllChapters={getAllChapters}\n\t\t\t\t\t\t\t\tloggedInUser={loggedInUser}\n\t\t\t\t\t\t\t\tupdateLastGames={updateLastGames}\n\t\t\t\t\t\t\t></NewChapterForm>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default EditChapters\n","import axios from \"axios\";\n\nclass characterService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/characters/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  getCharactersFromUser(userId) {\n    return this.service\n      .get(`/?userId=${userId}`)\n      .then((res) => res.data.characters)\n      .catch((err) => console.log(err));\n  }\n\n  createCharacter(character) {\n    return this.service\n      .post(\"\", { character })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n\n  assignCharacterToUser(userId, characterId) {\n    return this.service\n      .post(\"assign\", { userId, characterId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default characterService;\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport characterService from \"../../services/character.service\";\n\nfunction CharacterForm({ setCharacter, hideForm, setUser, loggedInUser }) {\n  const CharacterService = new characterService();\n  const [name, setName] = useState(\"\");\n  const [hp] = useState(100);\n  const [str, setStr] = useState(8);\n  const [des, setDes] = useState(8);\n  const [agi, setAgi] = useState(8);\n  const [con, setCon] = useState(8);\n  const [int, setInt] = useState(8);\n  const [wis, setWis] = useState(8);\n  const [char, setChar] = useState(8);\n  const [totalPoints, setTotalPoints] = useState(27);\n\n  function closeForm() {\n    setName(\"\");\n    hideForm();\n  }\n\n  function submitForm(e) {\n    e.preventDefault();\n    const newCharacter = {\n      name,\n      hp,\n      str,\n      des,\n      agi,\n      con,\n      int,\n      wis,\n      char,\n    };\n\n    CharacterService.createCharacter(newCharacter).then((createdCharacter) => {\n      CharacterService.assignCharacterToUser(loggedInUser._id, createdCharacter._id).then((updatedUser) => {\n        setUser(updatedUser);\n      });\n      closeForm();\n    });\n  }\n\n  function onChange(e) {\n    const { name, value } = e.currentTarget;\n    let newTotal = totalPoints;\n    console.log(value);\n    if (name !== \"name\") {\n      newTotal = calculatePoints(name, value);\n    }\n    console.log(newTotal);\n    if (newTotal >= 0) {\n      switch (name) {\n        case \"name\":\n          setName(value);\n          break;\n        case \"str\":\n          setStr(value);\n          break;\n        case \"des\":\n          setDes(value);\n          break;\n        case \"agi\":\n          setAgi(value);\n          break;\n        case \"con\":\n          setCon(value);\n          break;\n        case \"int\":\n          setInt(value);\n          break;\n        case \"wis\":\n          setWis(value);\n          break;\n        case \"char\":\n          setChar(value);\n          break;\n        default:\n          throw Error(\"Algo fue mal con el formulario\");\n      }\n      setTotalPoints(newTotal);\n    }\n  }\n\n  function calculatePoints(name, value) {\n    let total = 27;\n    const obj = { str, des, agi, con, int, wis, char };\n    obj[name] = value;\n    for (let key in obj) {\n      total = total - (obj[key] - 8);\n    }\n\n    return total;\n  }\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Form.Group controlId=\"name\">\n        <Form.Label>Nombre del personaje</Form.Label>\n        <Form.Control onChange={onChange} value={name} name=\"name\" type=\"text\" placeholder=\"Aragor, hijo de Arathorn\" />\n      </Form.Group>\n      {!totalPoints && (\n        <p>\n          <em>Has superado el máximo de puntos a repartir</em>\n        </p>\n      )}\n      <Form.Group controlId=\"str\">\n        <Form.Label>Fuerza</Form.Label>\n        <Form.Control onChange={onChange} value={str} name=\"str\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(str / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"des\">\n        <Form.Label>Destreza</Form.Label>\n        <Form.Control onChange={onChange} value={des} name=\"des\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(des / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"agi\">\n        <Form.Label>Agilidad, velocidad</Form.Label>\n        <Form.Control onChange={onChange} value={agi} name=\"agi\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(agi / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"con\">\n        <Form.Label>Constitución física, fortaleza</Form.Label>\n        <Form.Control onChange={onChange} value={con} name=\"con\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(con / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"int\">\n        <Form.Label>Inteligencia</Form.Label>\n        <Form.Control onChange={onChange} value={int} name=\"int\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(int / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"wis\">\n        <Form.Label>Sabiduría, astucia</Form.Label>\n        <Form.Control onChange={onChange} value={wis} name=\"wis\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(wis / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"char\">\n        <Form.Label>Carisma</Form.Label>\n        <Form.Control onChange={onChange} value={char} name=\"char\" type=\"number\" min={7} max={18} />\n        <Form.Text>Bonificación al dado: {parseInt(char / 2 - 5)}</Form.Text>\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\">\n        Crear\n      </Button>\n    </Form>\n  );\n}\n\nexport default CharacterForm;\n","import React from \"react\";\nimport { Button } from \"../Buttons\";\nimport styled from \"styled-components\";\nfunction CharacterList({ characters, onClick }) {\n  const CustomLi = styled.li`\n    margin: 15px 0;\n  `;\n\n  return characters.length ? (\n    <ul>\n      {characters.map((char) => {\n        return !char.name.includes(\"Simple Game\") ? (\n          <CustomLi>\n            <Button text={`${char.name}. Nivel: ${char.level}`} onClick={onClick ? () => onClick(char._id) : null} />\n            <small>\n              Fue: {char.str} Des: {char.des} Agi: {char.agi} Int: {char.int} Sab: {char.wis} Car: {char.char}\n            </small>\n          </CustomLi>\n        ) : null;\n      })}\n    </ul>\n  ) : (\n    <div>\n      <p>Aún no tienes personajes creados.</p>\n    </div>\n  );\n}\n\nexport default CharacterList;\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport CharacterForm from \"../Character/CharacterForm\";\nimport CharacterList from \"../Character/CharacterList\";\nimport savedGamesService from \"../../services/savedGames.service\";\nimport chapterService from \"../../services/chapter.service\";\n\nfunction NewSaveGame({ loggedInUser, setUser, match, updateSavedGames, history }) {\n  const ChapterService = new chapterService();\n  const SavedGamesService = new savedGamesService();\n  const [, setCharacter] = useState(null);\n  const [showForm, setShowForm] = useState(false);\n\n  function toogleForm() {\n    setShowForm(!showForm);\n  }\n\n  function newSave(chosenCharacter) {\n    ChapterService.getChaptersFromGame(match.params.gameId)\n      .then((chapters) => {\n        return SavedGamesService.createSavedGame({\n          gameId: match.params.gameId,\n          currentChapter: chapters[0]._id,\n          character: chosenCharacter,\n        });\n      })\n      .then((savedGame) => {\n        updateSavedGames(savedGame);\n        history.push(`/chapter/${savedGame._id}`);\n        return SavedGamesService.assignSaveToUser(loggedInUser._id, savedGame._id);\n      })\n      .then((updatedUser) => {\n        setUser(updatedUser);\n      });\n  }\n  console.log(loggedInUser.characters.length);\n  return (\n    <>\n      <h3>Elige un personaje para jugar: </h3>\n      {loggedInUser.characters.length > 0 && <CharacterList onClick={newSave} characters={loggedInUser.characters} />}\n      <button onClick={toogleForm}>También puedes crear un nuevo personaje</button>\n      {showForm && <CharacterForm hideForm={toogleForm} setUser={setUser} loggedInUser={loggedInUser} setCharacter={setCharacter} />}\n    </>\n  );\n}\n\nexport default withRouter(NewSaveGame);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Dropdown } from \"react-bootstrap\";\nimport { Button } from \"../Buttons\";\n\nfunction StartPlayingButton(props) {\n  const { game, savedGames, loggedInUser } = props;\n  return !game ? (\n    <p>Loading game</p>\n  ) : props.noUser ? (\n    <section>\n      <article>\n        <h1>{game.title}</h1>\n        <p>{game.description}</p>\n        Para jugar, registrate.\n      </article>\n    </section>\n  ) : (\n    <section>\n      <article>\n        <h1>{game.title}</h1>\n        <p>{game.description}</p>\n        {loggedInUser ? (\n          savedGames.length === 0 ? (\n            <div>\n              <p>Haz click en un personaje para empezar a jugar</p>\n            </div>\n          ) : (\n            <>\n              <Dropdown>\n                <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                  <Button text=\"Continua la aventura\" />\n                </Dropdown.Toggle>\n\n                <Dropdown.Menu>\n                  {savedGames.map((save) => {\n                    return !save.finished ? (\n                      <Link to={`/chapter/${save._id}`}>\n                        <Dropdown.Item disabled>{save.character.name}</Dropdown.Item>\n                      </Link>\n                    ) : null;\n                  })}\n                </Dropdown.Menu>\n              </Dropdown>\n              <Dropdown>\n                <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                  <Button text=\"Partidas terminadas\" />\n                </Dropdown.Toggle>\n\n                <Dropdown.Menu>\n                  {savedGames.map((save) => {\n                    return save.finished ? (\n                      <Link to={`/finished/${save._id}`}>\n                        <Dropdown.Item disabled>{save.character.name}</Dropdown.Item>\n                      </Link>\n                    ) : null;\n                  })}\n                </Dropdown.Menu>\n              </Dropdown>\n            </>\n          )\n        ) : (\n          <Button disabled={true}>Continuar la aventura</Button>\n        )}\n      </article>\n    </section>\n  );\n}\n\nexport default StartPlayingButton;\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Dropdown } from 'react-bootstrap'\nimport { Button } from '../Buttons'\nimport savedGamesService from '../../services/savedGames.service'\nimport chapterService from '../../services/chapter.service'\nimport characterService from '../../services/character.service'\nimport { withRouter } from 'react-router-dom'\nconst CharacterService = new characterService()\nconst SavedGamesService = new savedGamesService()\nconst ChapterService = new chapterService()\n\nfunction SimpleStartPlaying(props) {\n\tconst { game, savedGames, loggedInUser, setUser, updateSavedGames, history, match } = props\n\n\tfunction createCharAndSave() {\n\t\tconst name = `Simple Game ${savedGames.length + 1}`\n\n\t\tCharacterService.createCharacter({\n\t\t\tname,\n\t\t\thp: 1000,\n\t\t\tstr: 100,\n\t\t\tdes: 100,\n\t\t\tagi: 100,\n\t\t\tcon: 100,\n\t\t\tint: 100,\n\t\t\twis: 100,\n\t\t\tchar: 100,\n\t\t}).then(char => {\n\t\t\treturn CharacterService.assignCharacterToUser(loggedInUser._id, char._id).then(_ => newSave(char._id))\n\t\t})\n\t}\n\tfunction newSave(chosenCharacter) {\n\t\tChapterService.getChaptersFromGame(match.params.gameId)\n\t\t\t.then(chapters => {\n\t\t\t\treturn SavedGamesService.createSavedGame({\n\t\t\t\t\tgameId: match.params.gameId,\n\t\t\t\t\tcurrentChapter: chapters[0]._id,\n\t\t\t\t\tcharacter: chosenCharacter,\n\t\t\t\t})\n\t\t\t})\n\t\t\t.then(savedGame => {\n\t\t\t\tupdateSavedGames(savedGame)\n\t\t\t\thistory.push(`/chapter/${savedGame._id}`)\n\t\t\t\treturn SavedGamesService.assignSaveToUser(loggedInUser._id, savedGame._id)\n\t\t\t})\n\t\t\t.then(updatedUser => {\n\t\t\t\tsetUser(updatedUser)\n\t\t\t})\n\t}\n\tfunction startGame() {\n\t\tcreateCharAndSave()\n\t}\n\n\treturn !game && (!loggedInUser || props.noUser) ? (\n\t\t<p>Loading game</p>\n\t) : props.noUser ? (\n\t\t<section>\n\t\t\t<article>\n\t\t\t\t<h1>{game.title}</h1>\n\t\t\t\t<p>{game.description}</p>\n\t\t\t\tPara jugar, registrate.\n\t\t\t</article>\n\t\t\tcreateAndAssignCharacter\n\t\t</section>\n\t) : (\n\t\t<section>\n\t\t\t<article>\n\t\t\t\t<h1>{game.title}</h1>\n\t\t\t\t<p>{game.description}</p>\n\n\t\t\t\t{loggedInUser ? (\n\t\t\t\t\tgame.chapters.length === 0 ? (\n\t\t\t\t\t\t<Button text='Aún no tiene ningún capitulo' disabled={true} onClick={startGame} />\n\t\t\t\t\t) : savedGames.length === 0 ? (\n\t\t\t\t\t\t<Button text='Comienza la partida' onClick={startGame} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Dropdown>\n\t\t\t\t\t\t\t\t<Dropdown.Toggle variant='transparent' id='dropdown-basic'>\n\t\t\t\t\t\t\t\t\t<Button text='Continua la aventura' />\n\t\t\t\t\t\t\t\t</Dropdown.Toggle>\n\n\t\t\t\t\t\t\t\t<Dropdown.Menu style={{ backgroundColor: 'rgba(40,40,40)' }} variant='transparent'>\n\t\t\t\t\t\t\t\t\t{savedGames.map(save => (\n\t\t\t\t\t\t\t\t\t\t<Link to={`/chapter/${save._id}`}>\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item as={'div'}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button text={save.character.name} />\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t<Dropdown.Divider />\n\t\t\t\t\t\t\t\t\t<Dropdown.Item as={'div'}>\n\t\t\t\t\t\t\t\t\t\t<Button text={'Comienza una nueva aventura'} onClick={startGame}></Button>\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t) : (\n\t\t\t\t\t<Button text='Continuar la aventura' disabled={true}></Button>\n\t\t\t\t)}\n\t\t\t</article>\n\t\t</section>\n\t)\n}\n\nexport default withRouter(SimpleStartPlaying)\n","import React, { useContext } from \"react\";\n\nimport { withRouter } from \"react-router-dom\";\nimport UserContext from \"../../UserContext\";\n\nimport StartPlayingButton from \"./StartPlayingButton\";\nimport SimpleStartPlaying from \"./SimpleStartPlaying\";\nfunction GameBriefing(props) {\n  const { game, savedGames, simple, updateSavedGames, setUser, noUser } = props;\n  const loggedInUser = useContext(UserContext);\n\n  return simple ? (\n    <SimpleStartPlaying\n      noUser={noUser}\n      updateSavedGames={updateSavedGames}\n      setUser={setUser}\n      loggedInUser={loggedInUser}\n      game={game}\n      savedGames={savedGames}\n    />\n  ) : (\n    <StartPlayingButton noUser={noUser} loggedInUser={loggedInUser} game={game} savedGames={savedGames} />\n  );\n}\n\nexport default withRouter(GameBriefing);\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router'\nimport gamesService from '../services/games.service'\nimport savedGamesService from '../services/savedGames.service'\nimport NewSaveGame from '../components/Game/NewSaveGame'\nimport GameBriefing from '../components/Game/GameBriefing'\nimport { Row, Col } from 'react-bootstrap'\nconst GamesService = new gamesService()\nconst SavedGamesService = new savedGamesService()\n\nfunction GameOverView(props) {\n\tconst { match, loggedInUser, setUser } = props\n\tconst gameId = match.params.gameId\n\tconst [game, setGame] = useState(null)\n\tconst [savedGames, setSavedGames] = useState([])\n\n\tuseEffect(() => {\n\t\tGamesService.getOneGame(props.match.params.gameId).then(game => setGame(game))\n\t\tloggedInUser && SavedGamesService.getUserSaves(loggedInUser._id, gameId).then(savedGames => setSavedGames(savedGames))\n\t}, [props.match.params.gameId, loggedInUser, gameId])\n\n\tfunction updateSavedGames(newSave) {\n\t\tconst savedGamesCopy = [...savedGames]\n\t\tsavedGamesCopy.push(newSave)\n\t\tsetSavedGames(savedGamesCopy)\n\t}\n\n\treturn props.noUser ? (\n\t\t<GameBriefing game={game} noUser={props.noUser} />\n\t) : !game ? (\n\t\t<>Loading</>\n\t) : game.simple ? (\n\t\t<GameBriefing simple updateSavedGames={updateSavedGames} setUser={setUser} game={game} savedGames={savedGames} />\n\t) : (\n\t\t<Row style={{ justifyContent: 'space-between' }}>\n\t\t\t<Col lg={5}>\n\t\t\t\t<NewSaveGame updateSavedGames={updateSavedGames} setUser={setUser} loggedInUser={loggedInUser} />\n\t\t\t</Col>\n\t\t\t<Col lg={5}>\n\t\t\t\t<GameBriefing game={game} savedGames={savedGames} />\n\t\t\t</Col>\n\t\t</Row>\n\t)\n}\n\nexport default withRouter(GameOverView)\n","import axios from \"axios\";\n\nclass characterChoicesService {\n  constructor() {\n    this.baseURL = `${process.env.REACT_APP_API}/characterChoices/`;\n    this.service = axios.create({ baseURL: this.baseURL, withCredentials: true });\n  }\n\n  makeChoice(saveId, choiceId, characterId) {\n    return this.service\n      .post(`/makeChoice`, { saveId, choiceId, characterId })\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  }\n}\n\nexport default characterChoicesService;\n","import React from \"react\";\nimport Spritesheet from \"react-responsive-spritesheet\";\nimport useSound from \"use-sound\";\nimport styled from \"styled-components\";\n\nconst AnimationWrapper = styled.div`\n  position: absolute;\n  width: 360px;\n  height: 360px;\n  left: calc(50% - 360px);\n  top: 50%;\n`;\n\nfunction DiceAnimation(props) {\n  const { hideAnimation, sprite, sound } = props;\n  const [playDice] = useSound(sound);\n\n  return (\n    <AnimationWrapper>\n      <Spritesheet\n        className={`my-element__class--style`}\n        image={sprite}\n        widthFrame={320}\n        heightFrame={180}\n        steps={12}\n        fps={10}\n        autoplay={true}\n        loop={false}\n        endAt={12}\n        backgroundSize=\"cover\"\n        backgroundPosition=\"center center\"\n        onPlay={(spritesheet) => {\n          console.log(\"init\");\n          playDice();\n        }}\n        onPause={(spritesheet) => {\n          setTimeout(() => {\n            hideAnimation();\n          }, 1000);\n        }}\n      />\n    </AnimationWrapper>\n  );\n}\n\nexport default DiceAnimation;\n","import React from \"react\";\n\nfunction ChoicesList({ choices, makeChoice = () => {} }) {\n  return choices.map((choice) => {\n    return choice.successTargetChapter && choice.failureTargetChapter ? (\n      <button onClick={makeChoice} id={choice._id}>\n        {choice.description}\n      </button>\n    ) : (\n      <button disabled onClick={makeChoice} id={choice._id}>\n        {choice.description}\n      </button>\n    );\n  });\n}\n\nexport default ChoicesList;\n","import React, { useState } from \"react\";\nimport characterChoicesService from \"../../services/characterChoices.service\";\nimport { withRouter } from \"react-router-dom\";\nimport DiceAnimation from \"./DiceAnimation\";\nimport ChoicesList from \"../Choice/ChoicesList\";\nimport r01 from \"./assets/diceSprites/r01.png\";\nimport r02 from \"./assets/diceSprites/r02.png\";\nimport r03 from \"./assets/diceSprites/r03.png\";\nimport r04 from \"./assets/diceSprites/r04.png\";\nimport r05 from \"./assets/diceSprites/r01.png\";\nimport r06 from \"./assets/diceSprites/r01.png\";\nimport r07 from \"./assets/diceSprites/r07.png\";\nimport r08 from \"./assets/diceSprites/r08.png\";\nimport r09 from \"./assets/diceSprites/r09.png\";\nimport r10 from \"./assets/diceSprites/r10.png\";\nimport r11 from \"./assets/diceSprites/r11.png\";\nimport r12 from \"./assets/diceSprites/r12.png\";\nimport r13 from \"./assets/diceSprites/r13.png\";\nimport r14 from \"./assets/diceSprites/r14.png\";\nimport r15 from \"./assets/diceSprites/r15.png\";\nimport r16 from \"./assets/diceSprites/r16.png\";\nimport r17 from \"./assets/diceSprites/r17.png\";\nimport r18 from \"./assets/diceSprites/r18.png\";\nimport r19 from \"./assets/diceSprites/r19.png\";\nimport r20 from \"./assets/diceSprites/r20.png\";\nimport rollSound from \"./assets/diceRoll.mp3\";\nconst rollSprites = {\n  \"1\": r01,\n  \"2\": r02,\n  \"3\": r03,\n  \"4\": r04,\n  \"5\": r05,\n  \"6\": r06,\n  \"7\": r07,\n  \"8\": r08,\n  \"9\": r09,\n  \"10\": r10,\n  \"11\": r11,\n  \"12\": r12,\n  \"13\": r13,\n  \"14\": r14,\n  \"15\": r15,\n  \"16\": r16,\n  \"17\": r17,\n  \"18\": r18,\n  \"19\": r19,\n  \"20\": r20,\n};\n\nfunction Chapter(props) {\n  const CharacterChoiceService = new characterChoicesService();\n  const { currentChapter, character } = props.game;\n  const [sprite, setSprite] = useState(null);\n  const [showAnimation, setShowAnimation] = useState(false);\n  function makeChoice(e) {\n    CharacterChoiceService.makeChoice(props.game._id, e.currentTarget.id, character._id).then((result) => {\n      console.log(result, \"resultado de make choice\");\n      setSprite(rollSprites[result.roll]);\n      setShowAnimation(true);\n      // setTimeout(() => {\n      props.updateChapterOnSave();\n      // }, 6000);\n    });\n  }\n\n  return (\n    <div>\n      {showAnimation && <DiceAnimation sprite={sprite} sound={rollSound} hideAnimation={() => setShowAnimation(false)} />}\n      <div dangerouslySetInnerHTML={{ __html: currentChapter.description }}></div>\n      <ChoicesList makeChoice={makeChoice} choices={currentChapter.choices} />\n    </div>\n  );\n}\n\nexport default withRouter(Chapter);\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport savedGamesService from '../services/savedGames.service'\nimport Chapter from '../components/Chapter/Chapter'\nimport { Spinner } from 'react-bootstrap'\nconst SavedGamesService = new savedGamesService()\n\nfunction ChapterWrapper(props) {\n\tconst { match } = props\n\n\tconst [savedGame, setSavedGame] = useState(null)\n\tconst [ready, setReady] = useState(false)\n\n\tuseEffect(() => {\n\t\t//Not sure if this is good practice for removing the warning...\n\t\tconst update = () =>\n\t\t\tSavedGamesService.getFullSave(match.params.savedGameId).then(savedGame => {\n\t\t\t\tsetSavedGame(savedGame)\n\t\t\t\tsetReady(true)\n\t\t\t})\n\t\tupdate()\n\t}, [match.params.savedGameId])\n\n\tfunction updateChapterOnSave() {\n\t\tSavedGamesService.getFullSave(match.params.savedGameId).then(savedGame => {\n\t\t\tif (savedGame.currentChapter.last) {\n\t\t\t\tsavedGame.finished = true\n\t\t\t\tSavedGamesService.updateSavedGame({ savedGameId: match.params.savedGameId, finished: true })\n\t\t\t}\n\t\t\tsetSavedGame(savedGame)\n\t\t\tsetReady(true)\n\t\t})\n\t}\n\n\treturn ready ? (\n\t\tsavedGame.currentChapter ? (\n\t\t\t<Chapter updateChapterOnSave={updateChapterOnSave} game={savedGame} />\n\t\t) : (\n\t\t\t<div>\n\t\t\t\t<p>Esta aventura aún no tiene capitulos.</p>\n\t\t\t</div>\n\t\t)\n\t) : (\n\t\t<Spinner />\n\t)\n}\n\nexport default withRouter(ChapterWrapper)\n","import React, { useEffect, useContext, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport gamesService from '../services/games.service'\nimport UserContext from '../UserContext'\nconst GamesService = new gamesService()\n\nfunction MyCreatedGames(props) {\n\tconst loggedInUser = useContext(UserContext)\n\tconst [createdGames, setCreatedGames] = useState(null)\n\n\tuseEffect(() => {\n\t\tGamesService.getOwnedGames(loggedInUser._id).then(games => setCreatedGames(games))\n\t}, [loggedInUser._id])\n\n\treturn !createdGames ? (\n\t\t<></>\n\t) : createdGames.length ? (\n\t\t<ul>\n\t\t\t{createdGames.map(game => {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<li>{game.title}</li>\n\t\t\t\t\t\t<Link to={`/read/${game._id}`}>Jugar</Link>\n\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t<Link to={`/modify/${game._id}`}>Editar</Link>\n\t\t\t\t\t</>\n\t\t\t\t)\n\t\t\t})}\n\t\t</ul>\n\t) : (\n\t\t<p>Aún no tienes historias en juego</p>\n\t)\n}\n\nexport default MyCreatedGames\n","import React, { useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport savedGamesService from '../services/savedGames.service'\nimport chapterService from '../services/chapter.service'\nconst SavedGamesService = new savedGamesService()\nconst ChapterService = new chapterService()\n\nfunction FinishedGame(props) {\n\tuseEffect(() => {\n\t\tSavedGamesService.getFullSave(props.match.params.saveId).then(save => {\n\t\t\tconst chaptersPromise = save.choicesTree.map(choice => {\n\t\t\t\tconst target = choice.didSuccess ? choice.choice.successTargetChapter : choice.choice.failureTargetChapter\n\t\t\t\treturn ChapterService.getChapter(target).then(chapter => chapter)\n\t\t\t})\n\n\t\t\tPromise.all(chaptersPromise)\n\t\t\t\t.then(chaptersTravelled => {\n\t\t\t\t\tconsole.log(chaptersTravelled)\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err))\n\t\t})\n\t}, [props.match.params.saveId])\n\treturn <div></div>\n}\n\nexport default withRouter(FinishedGame)\n","export const darkTheme = {\n  background: {\n    general: \"rgba(0,0,0, 0.9)\",\n    semiSolid: \"rgba(0, 0, 0, 0.7)\",\n    solid: \"rgba(11,11,11, 1)\",\n    light: \"rgba(240, 240, 240, 0.9)\",\n    modals: \"rgba(40, 40, 40, 1)\",\n    list: \"rgba(70, 70, 70, 1)\",\n    overlay: \"rgba(255, 255, 255, 0.1)\",\n    lightOverlay: \"rgba(255, 255, 255, 0.01)\",\n  },\n  colors: {\n    light: \"rgba(240, 240, 240, 0.9)\",\n    general: \"rgb(200, 200, 200)\",\n  },\n};\n","import React from \"react\";\n\nfunction CharacterSummary({ character }) {\n  return character ? (\n    <div>\n      <h5>{character.name}</h5>\n      <p>Level: {character.level}</p>\n      <p>Experience: {character.exp}</p>\n      <small>\n        Fue: {character.str} Des: {character.des} Agi: {character.agi} Int: {character.int} Sab: {character.wis} Car: {character.char}\n      </small>\n    </div>\n  ) : null;\n}\n\nexport default CharacterSummary;\n","import React, { useState } from \"react\";\nimport CharacterList from \"../components/Character/CharacterList\";\nimport CenteredModal from \"../components/utils/Modal\";\nimport CharacterSummary from \"../components/Character/CharacterSummary\";\nfunction MyCharacters({ characters }) {\n  const [show, setShow] = useState(false);\n  const [charShown, setCharShown] = useState(null);\n\n  const openModal = (id) => {\n    const chosedChar = characters.find((char) => char._id == id);\n    setCharShown(chosedChar);\n    setShow(true);\n  };\n\n  const closeModal = () => setShow(false);\n\n  return (\n    <>\n      <CharacterList onClick={openModal} characters={characters} />\n      <CenteredModal noHeader onHide={closeModal} show={show}>\n        <CharacterSummary character={charShown} />\n      </CenteredModal>\n    </>\n  );\n}\n\nexport default MyCharacters;\n","//#region IMPORTS\nimport React, { useEffect, useState, useCallback } from 'react'\nimport './App.css'\nimport { Switch, Route } from 'react-router-dom'\nimport { Container } from 'react-bootstrap'\nimport Navbar from './layout/Navbar'\nimport LastGames from './views/LastGames'\nimport MyGames from './views/MyGames'\nimport gamesService from './services/games.service'\nimport authService from './services/auth.service'\nimport LoginForm from './components/Auth/LoginForm'\nimport SignupForm from './components/Auth/SignupForm'\nimport CenteredModal from './components/utils/Modal'\nimport NewGame from './views/NewGame'\nimport EditChapters from './views/EditChapters'\nimport GameOverview from './views/GameOverView'\nimport ChapterWrapper from './views/ChapterWrapper'\nimport MyCreatedGames from './views/MyCreatedGames'\nimport FinishedGame from './views/FinishedGame'\nimport { ThemeProvider, createGlobalStyle } from 'styled-components'\nimport { UserProvider } from './UserContext'\nimport { darkTheme } from './themeContext'\nimport MyCharacters from './views/MyCharacters'\n//#endregion IMPORTS\nconst GamesService = new gamesService()\nconst AuthService = new authService()\n\nfunction App() {\n\tconst [lastGames, setlastGames] = useState([])\n\tconst [loggedInUser, setloggedInUser] = useState(false)\n\n\tfunction logout() {\n\t\tAuthService.logout().then(() => setloggedInUser(null))\n\t}\n\n\tfunction setUser(user) {\n\t\tsetloggedInUser(user)\n\t}\n\n\tconst updateLastGames = useCallback(() => {\n\t\tconst existNewGames = () =>\n\t\t\tGamesService.getLastGames().then(last10 => lastGames.some(gameA => last10.some(gameB => gameA._id !== gameB._id)))\n\t\t!existNewGames &&\n\t\t\tGamesService.getLastGames().then(last10 => {\n\t\t\t\tif (Array.isArray(last10) && !last10.every(elm => lastGames.find(game => game._id === elm._id))) {\n\t\t\t\t\tsetlastGames(last10)\n\t\t\t\t}\n\t\t\t})\n\t}, [lastGames])\n\n\t//Recover games on mount\n\tuseEffect(() => {\n\t\tupdateLastGames()\n\t\treturn () => {\n\t\t\tsetlastGames([])\n\t\t}\n\t}, [updateLastGames])\n\n\tuseEffect(() => {\n\t\tif (loggedInUser === false) {\n\t\t\tAuthService.loggedin().then(user => {\n\t\t\t\tif (user) setloggedInUser(user)\n\t\t\t\telse setloggedInUser(null)\n\t\t\t})\n\t\t}\n\t\treturn () => {}\n\t}, [loggedInUser])\n\n\tconst [loginModal, setloginModal] = useState(false)\n\tconst [signupModal, setSignupModal] = useState(false)\n\n\tconst GlobalStyle = createGlobalStyle`\n    html, body {\n      overflow: hidden;\n    }\n    body {\n      color: ${darkTheme.colors.general};\n      background-color: ${darkTheme.background.general};\n      -webkit-overflow-scrolling: touch;\n    }\n    a {\n      color: #eee;\n    }\n    a:hover {\n      color: #eee;\n      text-decoration: none;\n    }\n`\n\n\treturn (\n\t\t<Switch>\n\t\t\t<ThemeProvider theme={darkTheme}>\n\t\t\t\t<UserProvider value={loggedInUser}>\n\t\t\t\t\t<GlobalStyle />\n\t\t\t\t\t<Navbar\n\t\t\t\t\t\tlogout={logout}\n\t\t\t\t\t\tshowSignup={() => setSignupModal(true)}\n\t\t\t\t\t\tshowLogin={() => setloginModal(true)}\n\t\t\t\t\t\tloggedInUser={loggedInUser}\n\t\t\t\t\t/>\n\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t<main style={{ height: 'calc(100vh - 60px)' }} className='app-wrapper'>\n\t\t\t\t\t\t\t<Route exact path='/' render={() => <LastGames loggedInUser={loggedInUser} games={lastGames} />} />\n\t\t\t\t\t\t\t{loggedInUser ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Route exact path='/myGames' render={() => <MyGames loggedInUser={loggedInUser} />} />\n\t\t\t\t\t\t\t\t\t<Route exact path='/myCreatedGames' render={() => <MyCreatedGames loggedInUser={loggedInUser} />} />\n\t\t\t\t\t\t\t\t\t<Route exact path='/newGame' render={() => <NewGame updateLastGames={updateLastGames} loggedInUser={loggedInUser} />} />\n\t\t\t\t\t\t\t\t\t<Route exact path='/myCharacters' render={() => <MyCharacters characters={loggedInUser.characters} />} />\n\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\t\tpath='/modify/:gameId'\n\t\t\t\t\t\t\t\t\t\trender={({ match, history }) => (\n\t\t\t\t\t\t\t\t\t\t\t<EditChapters history={history} match={match} updateLastGames={updateLastGames} loggedInUser={loggedInUser} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Route exact path='/chapter/:savedGameId' render={() => <ChapterWrapper />} />\n\t\t\t\t\t\t\t\t\t<Route exact path='/read/:gameId' render={() => <GameOverview setUser={setUser} loggedInUser={loggedInUser} />} />\n\t\t\t\t\t\t\t\t\t<Route exact path='/finished/:saveId' render={() => <FinishedGame loggedInUser={loggedInUser} />} />\n\n\t\t\t\t\t\t\t\t\t{/* <Route exact path=\"/flowchart/:gameId\" render={() => <GameFlowChart />} /> */}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Route exact path='/read/:gameId' render={() => <GameOverview noUser setUser={setUser} loggedInUser={loggedInUser} />} />\n\t\t\t\t\t\t\t\t\t<Route exact path='/:algo'>\n\t\t\t\t\t\t\t\t\t\t<h1>Para ver este contenido has de estar logueado</h1>\n\t\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t\t\t<CenteredModal title={'Login'} show={loginModal} onHide={() => setloginModal(false)}>\n\t\t\t\t\t\t\t\t\t\t<LoginForm setUser={setUser} />\n\t\t\t\t\t\t\t\t\t</CenteredModal>\n\t\t\t\t\t\t\t\t\t<CenteredModal title={'Signup'} show={signupModal} onHide={() => setSignupModal(false)}>\n\t\t\t\t\t\t\t\t\t\t<SignupForm setUser={setUser} />\n\t\t\t\t\t\t\t\t\t</CenteredModal>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</main>\n\t\t\t\t\t</Container>\n\t\t\t\t</UserProvider>\n\t\t\t</ThemeProvider>\n\t\t</Switch>\n\t)\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Route path=\"/\" render={(match) => <App {...match} />} />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/r01.66469ed4.png\";","module.exports = __webpack_public_path__ + \"static/media/d6book.f2700073.svg\";","module.exports = __webpack_public_path__ + \"static/media/d20.32c11da5.svg\";","module.exports = __webpack_public_path__ + \"static/media/invertedlogo.9e69b76b.png\";","module.exports = __webpack_public_path__ + \"static/media/playingTable.e9c5973e.png\";"],"sourceRoot":""}